{"version":3,"sources":["node_modules/browser-pack/_prelude.js","game.js","bower_components/socket.io-client/socket.io.js","bower_components/webfontloader/webfontloader.js","src/js/_game/Backgamon.js","src/js/_game/Components/Authentication.js","src/js/_game/Components/Column.js","src/js/_game/Components/Dice.js","src/js/_game/Components/Localization.js","src/js/_game/Components/Piece.js","src/js/_game/Components/PrefLoader.js","src/js/_game/Components/TextButton.js","src/js/_game/States/Boot.js","src/js/_game/States/Connecting.js","src/js/_game/States/MainMenu.js","src/js/_game/States/Options.js","src/js/_game/States/Play.js","src/js/game.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","global","define","amd","g","window","self","this","io","_dereq_","./lib/",2,"parser","./socket","engine.io-parser",3,"Socket","uri","opts","parseuri","hostname","host","secure","protocol","port","query","location","agent","parseqs","decode","upgrade","path","replace","forceJSONP","jsonp","forceBase64","enablesXDR","timestampParam","timestampRequests","transports","readyState","writeBuffer","policyPort","rememberUpgrade","binaryType","onlyBinaryUpgrades","perMessageDeflate","threshold","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","undefined","freeGlobal","extraHeaders","Object","keys","open","clone","obj","hasOwnProperty","Emitter","debug","index","parsejson","priorWebsocketSuccess","prototype","Transport","createTransport","name","EIO","transport","id","sid","socket","indexOf","setTimeout","emit","shift","setTransport","removeAllListeners","on","onDrain","packet","onPacket","onError","onClose","probe","onTransportOpen","upgradeLosesBinary","supportsBinary","failed","send","type","data","once","msg","upgrading","pause","cleanup","flush","err","freezeTransport","close","onerror","error","onTransportClose","onclose","onupgrade","to","removeListener","onOpen","upgrades","onHandshake","setPing","filterUpgrades","pingInterval","pingTimeout","onHeartbeat","timeout","clearTimeout","pingTimeoutTimer","pingIntervalTimer","ping","sendPacket","splice","prevBufferLen","writable","write","options","fn","compress","push","cleanupAndClose","waitForUpgrade","reason","desc","filteredUpgrades","j","./transport","./transports","component-emitter","indexof",4,"description","doOpen","doClose","packets","onData","decodePacket",5,"polling","xhr","xd","xs","isSSL","xdomain","xscheme","XMLHttpRequest","XHR","JSONP","websocket","./polling-jsonp","./polling-xhr","./websocket","xmlhttprequest-ssl",6,"empty","JSONPPolling","Polling","callbacks","___eio","document","addEventListener","script","inherit","rNewline","rEscapedNewline","parentNode","removeChild","form","iframe","doPoll","createElement","async","src","insertAt","getElementsByTagName","insertBefore","head","body","appendChild","isUAgecko","navigator","test","userAgent","doWrite","complete","initIframe","html","iframeId","area","className","style","position","top","left","target","method","setAttribute","action","value","submit","attachEvent","onreadystatechange","onload","./polling","component-inherit",7,"Request","isBinary","create","unloadHandler","requests","abort","request","req","sendXhr","pollXhr","setDisableHeaderCheck","setRequestHeader","responseType","withCredentials","hasXDR","onLoad","responseText","status","requestsCount","onSuccess","fromError","contentType","getResponseHeader","split","response","String","fromCharCode","apply","Uint8Array","ui8Arr","dataArray","idx","XDomainRequest",8,"hasXHR2","yeast","poll","onPause","total","callback","decodePayload","callbackfn","encodePayload","schema","b64","encode","ipv6","../transport",9,"WS","BrowserWebSocket","WebSocket","MozWebSocket","check","protocols","headers","ws","supports","binary","addEventListeners","onopen","onmessage","ev","done","encodePacket","len","Buffer","byteLength",10,"hasCORS","ActiveXObject","has-cors",11,"after","count","err_cb","proxy","result","bail","noop",12,"arraybuffer","start","end","bytes","slice","ArrayBuffer","abv","ii","buffer",13,"chars","base64","substring","encoded1","encoded2","encoded3","encoded4","bufferLength","p",14,"mapArrayBufferViews","ary","chunk","buf","copy","set","byteOffset","BlobBuilderConstructor","bb","BlobBuilder","append","getBlob","BlobConstructor","Blob","WebKitBlobBuilder","MSBlobBuilder","MozBlobBuilder","blobSupported","size","blobSupportsArrayBufferView","b","blobBuilderSupported",15,"mixin","event","_callbacks","off","arguments","removeEventListener","cb","args","listeners","hasListeners",16,"constructor",17,"useColors","documentElement","console","firebug","exception","table","toLowerCase","match","parseInt","RegExp","$1","formatArgs","namespace","humanize","diff","c","color","concat","Array","lastC","log","Function","save","namespaces","storage","removeItem","load","localstorage","localStorage","chrome","local","colors","formatters","v","JSON","stringify","enable","./debug",18,"selectColor","prevColor","disabled","enabled","curr","Date","ms","prevTime","prev","coerce","format","formatter","val","logFn","bind","skips","substr","names","disable","stack","message",19,"encodeBase64Object","encodeArrayBuffer","encodeBase64Packet","contentArray","resultBuffer","encodeBlobAsArrayBuffer","fr","FileReader","readAsArrayBuffer","encodeBlob","dontSendBlobs","blob","map","each","next","eachWithIndex","el","hasBinary","sliceBuffer","base64encoder","utf8","isAndroid","isPhantomJS","pong","packetslist","utf8encode","encoded","readAsDataURL","b64data","typed","basic","btoa","utf8decode","charAt","decodeBase64Packet","Number","asArray","rest","setLengthHeader","encodeOne","doneCallback","encodePayloadAsBlob","encodePayloadAsArrayBuffer","results","join","decodePayloadAsBinary","chr","ret","encodedPackets","totalLength","reduce","acc","toString","resultArray","bufferIndex","forEach","isString","ab","view","charCodeAt","lenStr","binaryIdentifier","lengthAry","bufferTail","buffers","numberTooLong","tailArray","msgLength","./keys","arraybuffer.slice","base64-arraybuffer","has-binary",20,"arr","has",21,"_hasBinary","isBuffer","File","isArray","toJSON","isarray",22,23,24,25,"parse","str","exec","parseFloat","y","d","h","m","short","Math","round","long","plural","floor","ceil",26,"rvalidchars","rvalidescape","rvalidtokens","rvalidbraces","rtrimLeft","rtrimRight",27,"encodeURIComponent","qs","qry","pairs","pair","decodeURIComponent",28,"re","parts","source","authority","ipv6uri",29,"root","ucs2decode","string","extra","output","counter","ucs2encode","array","stringFromCharCode","checkScalarValue","codePoint","toUpperCase","createByte","encodeCodePoint","symbol","codePoints","byteString","readContinuationByte","byteIndex","byteCount","continuationByte","byteArray","decodeSymbol","byte1","byte2","byte3","byte4","tmp","freeExports","freeModule","version","nodeType","object",30,"num","alphabet","decoded","now","seed",31,"lookup","parsed","url","sameNamespace","cache","nsps","newConnection","forceNew","multiplex","Manager","managers","connect","./manager","./url","socket.io-parser",32,"subs","reconnection","reconnectionAttempts","Infinity","reconnectionDelay","reconnectionDelayMax","randomizationFactor","backoff","Backoff","min","max","jitter","connecting","lastPing","encoding","packetBuffer","encoder","Encoder","decoder","Decoder","autoConnect","eio","emitAll","nsp","updateSocketIds","engine","_reconnection","_reconnectionAttempts","_reconnectionDelay","setMin","_randomizationFactor","setJitter","_reconnectionDelayMax","setMax","_timeout","maybeReconnectOnOpen","reconnecting","attempts","reconnect","skipReconnect","openSub","errorSub","timer","destroy","onping","onpong","ondata","add","ondecoded","onConnecting","processPacketQueue","pack","sub","disconnect","reset","delay","duration","onreconnect","attempt","./on","backo2","component-bind","engine.io-client",33,34,"json","ids","acks","receiveBuffer","sendBuffer","connected","disconnected","toArray","hasBin","events","connect_error","connect_timeout","reconnect_attempt","reconnect_failed","reconnect_error","subEvents","unshift","parserType","EVENT","BINARY_EVENT","flags","pop","CONNECT","onpacket","onconnect","onevent","ACK","onack","BINARY_ACK","DISCONNECT","ondisconnect","ERROR","ack","sent","emitBuffered","to-array",35,"loc","href",36,"factor","pow","rand","random","deviation",37,38,39,"dup",40,41,42,43,44,45,46,"isBuf","deconstructPacket","_deconstructPacket","placeholder","_placeholder","newData","packetData","attachments","reconstructPacket","_reconstructPacket","removeBlobs","_removeBlobs","curKey","containingObject","pendingBlobs","fileReader","bloblessData","./is-buffer",47,"encodeAsString","encodeAsBinary","writeEncoding","deconstruction","reconstructor","decodeString","types","BinaryReconstructor","reconPack","takeBinaryData","finishedReconstruction","binData","./binary","json3",48,49,50,"runInContext","context","undef","isSupported","serialized","stringifySupported","isExtended","getClass","parseSupported","SyntaxError","TypeError","nativeJSON","isProperty","objectProto","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","functionClass","dateClass","numberClass","stringClass","arrayClass","booleanClass","charIndexBuggy","Months","getDay","year","month","property","members","__proto__","original","parent","Properties","valueOf","isFunction","isConstructor","hasProperty","objectTypes","Escapes",92,"leadingZeroes","toPaddedString","width","unicodePrefix","quote","useCharIndex","symbols","charCode","serialize","properties","whitespace","indentation","date","time","hours","minutes","seconds","milliseconds","element","prefix","filter","Index","Source","Unescapes",98,116,110,102,114,"lex","begin","isSigned","get","hasMembers","update","walk","isLoader","function","previousJSON","isRestored","JSON3","noConflict",51,"list","aa","ba","cssText","createTextNode","lastChild","w","z","ea","A","k","rel","media","da","B","tagName","C","D","E","F","G","H","fa","I","J","K","ga","ha","classes","ia","L","M","ja","ka","N","aria-hidden","O","P","Q","R","U","T","ma","S","la","offsetWidth","serif","q","V","na","W","oa","pa","ra","x","X","FontFace","qa","sa","ta","api","ua","va","wa","xa","ya","za","Ea","Da","Ca","Ba","isNaN","Aa","Fa","Ha","Ia","fonts","then","fontfamily","fontStyle","fontWeight","projectId","urls","families","testStrings","latin","cyrillic","greek","khmer","Hanuman","thin","extralight","extra-light","ultralight","ultra-light","light","regular","book","medium","semi-bold","semibold","demi-bold","demibold","bold","extra-bold","extrabold","ultra-bold","ultrabold","black","heavy","italic","normal","Ga","Arimo","Cousine","Tinos","text","Typekit","config","__webfontfontdeckmodule__","weight","Y","custom","fontdeck","monotype","typekit","google","Z","WebFont","WebFontConfig","_interopRequireDefault","__esModule","default","_classCallCheck","instance","Constructor","_possibleConstructorReturn","ReferenceError","_inherits","subClass","superClass","enumerable","configurable","setPrototypeOf","_createClass","defineProperties","props","descriptor","defineProperty","protoProps","staticProps","_PrefLoader","_PrefLoader2","_Authentication","_Localization","_Boot","_Boot2","_Connecting","_Connecting2","_MainMenu","_MainMenu2","_Options","_Options2","_Play","_Play2","Backgamon","_Phaser$Game","_this","getPrototypeOf","Phaser","AUTO","muted","l10ns","languages","strings","prefs","state","scale","isFullScreen","stopFullScreen","startFullScreen","Game","guidesX","guidesY","columnWidth","maxColumnHeight","pieceDefaultScale","pieceHeight","./Components/Authentication","./Components/Localization","./Components/PrefLoader","./States/Boot","./States/Connecting","./States/MainMenu","./States/Options","./States/Play","Authentication","game","password","authAccepted","sessionID","_Backgamon","_Backgamon2","_Piece","_Piece2","Column","side","group","dir","label","l10n","styles","button","visible","anchor","setShadow","getPieceHeight","piece","getAt","tween","alpha","reorderY","removeBetween","other","hidePossibleMove","getTop","remove","inside","callbackContext","glow","PieceGlow","grow","shrink","../Backgamon","./Piece","Dice","sprite","animations","direction","tweenPos","tweenRot","angle","tweenScale","Easing","Cubic","Out","onComplete","tweenScale2","InOut","tweenScale3","stop","frame","play","Localization","lFile","getJSON","font","title","fill","align","Piece","_Phaser$Sprite","existing","onInputUp","Sprite","_Phaser$Sprite2","_this2","inputEnabled","input","useHandCursor","PrefLoader","defaultValue","defaults","language","sound","TextButton","onClick","onClick_","button_","Button","onInputOut","text_","origY","onInputDown","pointer","isOver","audio","Text","_Localization2","Boot","_Phaser$State","spritesheet","progress","fullScreenScaleMode","ScaleManager","SHOW_ALL","world","centerX","centerY","setTo","onFileComplete","fileComplete","State","../Components/Localization","_socket","_socket2","_Authentication2","_TextButton","_TextButton2","Connecting","Group","stage","backgroundColor","succeeded","removeAll","wordWrap","wordWrapWidth","auth","setRemote","../Components/Authentication","../Components/TextButton","socket.io-client_","MainMenu","titleText","soundButton","toggleFullscreen","volume","setText","Options","game_","_Column","_Column2","_Dice","_Dice2","Play","image","board","columns","place","dice1","dice2","rollButton","rollDice","hide","glowies","createPauseMenu","pauseButton","togglePauseMenu","freezeFrames","d1","d2","_loop","showPossibleMove","selected","setMoves","_this3","_loop2","moveTo","nextTurn","dx","showMoves","show","otherPlayer","roll","pauseMenu","height","bmd","bitmapData","ctx","beginPath","rect","fillStyle","overlay","endGame","../Components/Column","../Components/Dice","_webfontloader","_webfontloader2","active","./..\\..\\bower_components\\webfontloader\\webfontloader.js","./_game/Backgamon"],"mappings":"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","file":"game.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n(function (global){\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.io = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){\n\nmodule.exports =  _dereq_('./lib/');\n\n},{\"./lib/\":2}],2:[function(_dereq_,module,exports){\n\nmodule.exports = _dereq_('./socket');\n\n/**\n * Exports parser\n *\n * @api public\n *\n */\nmodule.exports.parser = _dereq_('engine.io-parser');\n\n},{\"./socket\":3,\"engine.io-parser\":19}],3:[function(_dereq_,module,exports){\n(function (global){\n/**\n * Module dependencies.\n */\n\nvar transports = _dereq_('./transports');\nvar Emitter = _dereq_('component-emitter');\nvar debug = _dereq_('debug')('engine.io-client:socket');\nvar index = _dereq_('indexof');\nvar parser = _dereq_('engine.io-parser');\nvar parseuri = _dereq_('parseuri');\nvar parsejson = _dereq_('parsejson');\nvar parseqs = _dereq_('parseqs');\n\n/**\n * Module exports.\n */\n\nmodule.exports = Socket;\n\n/**\n * Noop function.\n *\n * @api private\n */\n\nfunction noop(){}\n\n/**\n * Socket constructor.\n *\n * @param {String|Object} uri or options\n * @param {Object} options\n * @api public\n */\n\nfunction Socket(uri, opts){\n  if (!(this instanceof Socket)) return new Socket(uri, opts);\n\n  opts = opts || {};\n\n  if (uri && 'object' == typeof uri) {\n    opts = uri;\n    uri = null;\n  }\n\n  if (uri) {\n    uri = parseuri(uri);\n    opts.hostname = uri.host;\n    opts.secure = uri.protocol == 'https' || uri.protocol == 'wss';\n    opts.port = uri.port;\n    if (uri.query) opts.query = uri.query;\n  } else if (opts.host) {\n    opts.hostname = parseuri(opts.host).host;\n  }\n\n  this.secure = null != opts.secure ? opts.secure :\n    (global.location && 'https:' == location.protocol);\n\n  if (opts.hostname && !opts.port) {\n    // if no port is specified manually, use the protocol default\n    opts.port = this.secure ? '443' : '80';\n  }\n\n  this.agent = opts.agent || false;\n  this.hostname = opts.hostname ||\n    (global.location ? location.hostname : 'localhost');\n  this.port = opts.port || (global.location && location.port ?\n       location.port :\n       (this.secure ? 443 : 80));\n  this.query = opts.query || {};\n  if ('string' == typeof this.query) this.query = parseqs.decode(this.query);\n  this.upgrade = false !== opts.upgrade;\n  this.path = (opts.path || '/engine.io').replace(/\\/$/, '') + '/';\n  this.forceJSONP = !!opts.forceJSONP;\n  this.jsonp = false !== opts.jsonp;\n  this.forceBase64 = !!opts.forceBase64;\n  this.enablesXDR = !!opts.enablesXDR;\n  this.timestampParam = opts.timestampParam || 't';\n  this.timestampRequests = opts.timestampRequests;\n  this.transports = opts.transports || ['polling', 'websocket'];\n  this.readyState = '';\n  this.writeBuffer = [];\n  this.policyPort = opts.policyPort || 843;\n  this.rememberUpgrade = opts.rememberUpgrade || false;\n  this.binaryType = null;\n  this.onlyBinaryUpgrades = opts.onlyBinaryUpgrades;\n  this.perMessageDeflate = false !== opts.perMessageDeflate ? (opts.perMessageDeflate || {}) : false;\n\n  if (true === this.perMessageDeflate) this.perMessageDeflate = {};\n  if (this.perMessageDeflate && null == this.perMessageDeflate.threshold) {\n    this.perMessageDeflate.threshold = 1024;\n  }\n\n  // SSL options for Node.js client\n  this.pfx = opts.pfx || null;\n  this.key = opts.key || null;\n  this.passphrase = opts.passphrase || null;\n  this.cert = opts.cert || null;\n  this.ca = opts.ca || null;\n  this.ciphers = opts.ciphers || null;\n  this.rejectUnauthorized = opts.rejectUnauthorized === undefined ? null : opts.rejectUnauthorized;\n\n  // other options for Node.js client\n  var freeGlobal = typeof global == 'object' && global;\n  if (freeGlobal.global === freeGlobal) {\n    if (opts.extraHeaders && Object.keys(opts.extraHeaders).length > 0) {\n      this.extraHeaders = opts.extraHeaders;\n    }\n  }\n\n  this.open();\n}\n\nSocket.priorWebsocketSuccess = false;\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Socket.prototype);\n\n/**\n * Protocol version.\n *\n * @api public\n */\n\nSocket.protocol = parser.protocol; // this is an int\n\n/**\n * Expose deps for legacy compatibility\n * and standalone browser access.\n */\n\nSocket.Socket = Socket;\nSocket.Transport = _dereq_('./transport');\nSocket.transports = _dereq_('./transports');\nSocket.parser = _dereq_('engine.io-parser');\n\n/**\n * Creates transport of the given type.\n *\n * @param {String} transport name\n * @return {Transport}\n * @api private\n */\n\nSocket.prototype.createTransport = function (name) {\n  debug('creating transport \"%s\"', name);\n  var query = clone(this.query);\n\n  // append engine.io protocol identifier\n  query.EIO = parser.protocol;\n\n  // transport name\n  query.transport = name;\n\n  // session id if we already have one\n  if (this.id) query.sid = this.id;\n\n  var transport = new transports[name]({\n    agent: this.agent,\n    hostname: this.hostname,\n    port: this.port,\n    secure: this.secure,\n    path: this.path,\n    query: query,\n    forceJSONP: this.forceJSONP,\n    jsonp: this.jsonp,\n    forceBase64: this.forceBase64,\n    enablesXDR: this.enablesXDR,\n    timestampRequests: this.timestampRequests,\n    timestampParam: this.timestampParam,\n    policyPort: this.policyPort,\n    socket: this,\n    pfx: this.pfx,\n    key: this.key,\n    passphrase: this.passphrase,\n    cert: this.cert,\n    ca: this.ca,\n    ciphers: this.ciphers,\n    rejectUnauthorized: this.rejectUnauthorized,\n    perMessageDeflate: this.perMessageDeflate,\n    extraHeaders: this.extraHeaders\n  });\n\n  return transport;\n};\n\nfunction clone (obj) {\n  var o = {};\n  for (var i in obj) {\n    if (obj.hasOwnProperty(i)) {\n      o[i] = obj[i];\n    }\n  }\n  return o;\n}\n\n/**\n * Initializes transport to use and starts probe.\n *\n * @api private\n */\nSocket.prototype.open = function () {\n  var transport;\n  if (this.rememberUpgrade && Socket.priorWebsocketSuccess && this.transports.indexOf('websocket') != -1) {\n    transport = 'websocket';\n  } else if (0 === this.transports.length) {\n    // Emit error on next tick so it can be listened to\n    var self = this;\n    setTimeout(function() {\n      self.emit('error', 'No transports available');\n    }, 0);\n    return;\n  } else {\n    transport = this.transports[0];\n  }\n  this.readyState = 'opening';\n\n  // Retry with the next transport if the transport is disabled (jsonp: false)\n  try {\n    transport = this.createTransport(transport);\n  } catch (e) {\n    this.transports.shift();\n    this.open();\n    return;\n  }\n\n  transport.open();\n  this.setTransport(transport);\n};\n\n/**\n * Sets the current transport. Disables the existing one (if any).\n *\n * @api private\n */\n\nSocket.prototype.setTransport = function(transport){\n  debug('setting transport %s', transport.name);\n  var self = this;\n\n  if (this.transport) {\n    debug('clearing existing transport %s', this.transport.name);\n    this.transport.removeAllListeners();\n  }\n\n  // set up transport\n  this.transport = transport;\n\n  // set up transport listeners\n  transport\n  .on('drain', function(){\n    self.onDrain();\n  })\n  .on('packet', function(packet){\n    self.onPacket(packet);\n  })\n  .on('error', function(e){\n    self.onError(e);\n  })\n  .on('close', function(){\n    self.onClose('transport close');\n  });\n};\n\n/**\n * Probes a transport.\n *\n * @param {String} transport name\n * @api private\n */\n\nSocket.prototype.probe = function (name) {\n  debug('probing transport \"%s\"', name);\n  var transport = this.createTransport(name, { probe: 1 })\n    , failed = false\n    , self = this;\n\n  Socket.priorWebsocketSuccess = false;\n\n  function onTransportOpen(){\n    if (self.onlyBinaryUpgrades) {\n      var upgradeLosesBinary = !this.supportsBinary && self.transport.supportsBinary;\n      failed = failed || upgradeLosesBinary;\n    }\n    if (failed) return;\n\n    debug('probe transport \"%s\" opened', name);\n    transport.send([{ type: 'ping', data: 'probe' }]);\n    transport.once('packet', function (msg) {\n      if (failed) return;\n      if ('pong' == msg.type && 'probe' == msg.data) {\n        debug('probe transport \"%s\" pong', name);\n        self.upgrading = true;\n        self.emit('upgrading', transport);\n        if (!transport) return;\n        Socket.priorWebsocketSuccess = 'websocket' == transport.name;\n\n        debug('pausing current transport \"%s\"', self.transport.name);\n        self.transport.pause(function () {\n          if (failed) return;\n          if ('closed' == self.readyState) return;\n          debug('changing transport and sending upgrade packet');\n\n          cleanup();\n\n          self.setTransport(transport);\n          transport.send([{ type: 'upgrade' }]);\n          self.emit('upgrade', transport);\n          transport = null;\n          self.upgrading = false;\n          self.flush();\n        });\n      } else {\n        debug('probe transport \"%s\" failed', name);\n        var err = new Error('probe error');\n        err.transport = transport.name;\n        self.emit('upgradeError', err);\n      }\n    });\n  }\n\n  function freezeTransport() {\n    if (failed) return;\n\n    // Any callback called by transport should be ignored since now\n    failed = true;\n\n    cleanup();\n\n    transport.close();\n    transport = null;\n  }\n\n  //Handle any error that happens while probing\n  function onerror(err) {\n    var error = new Error('probe error: ' + err);\n    error.transport = transport.name;\n\n    freezeTransport();\n\n    debug('probe transport \"%s\" failed because of error: %s', name, err);\n\n    self.emit('upgradeError', error);\n  }\n\n  function onTransportClose(){\n    onerror(\"transport closed\");\n  }\n\n  //When the socket is closed while we're probing\n  function onclose(){\n    onerror(\"socket closed\");\n  }\n\n  //When the socket is upgraded while we're probing\n  function onupgrade(to){\n    if (transport && to.name != transport.name) {\n      debug('\"%s\" works - aborting \"%s\"', to.name, transport.name);\n      freezeTransport();\n    }\n  }\n\n  //Remove all listeners on the transport and on self\n  function cleanup(){\n    transport.removeListener('open', onTransportOpen);\n    transport.removeListener('error', onerror);\n    transport.removeListener('close', onTransportClose);\n    self.removeListener('close', onclose);\n    self.removeListener('upgrading', onupgrade);\n  }\n\n  transport.once('open', onTransportOpen);\n  transport.once('error', onerror);\n  transport.once('close', onTransportClose);\n\n  this.once('close', onclose);\n  this.once('upgrading', onupgrade);\n\n  transport.open();\n\n};\n\n/**\n * Called when connection is deemed open.\n *\n * @api public\n */\n\nSocket.prototype.onOpen = function () {\n  debug('socket open');\n  this.readyState = 'open';\n  Socket.priorWebsocketSuccess = 'websocket' == this.transport.name;\n  this.emit('open');\n  this.flush();\n\n  // we check for `readyState` in case an `open`\n  // listener already closed the socket\n  if ('open' == this.readyState && this.upgrade && this.transport.pause) {\n    debug('starting upgrade probes');\n    for (var i = 0, l = this.upgrades.length; i < l; i++) {\n      this.probe(this.upgrades[i]);\n    }\n  }\n};\n\n/**\n * Handles a packet.\n *\n * @api private\n */\n\nSocket.prototype.onPacket = function (packet) {\n  if ('opening' == this.readyState || 'open' == this.readyState) {\n    debug('socket receive: type \"%s\", data \"%s\"', packet.type, packet.data);\n\n    this.emit('packet', packet);\n\n    // Socket is live - any packet counts\n    this.emit('heartbeat');\n\n    switch (packet.type) {\n      case 'open':\n        this.onHandshake(parsejson(packet.data));\n        break;\n\n      case 'pong':\n        this.setPing();\n        this.emit('pong');\n        break;\n\n      case 'error':\n        var err = new Error('server error');\n        err.code = packet.data;\n        this.onError(err);\n        break;\n\n      case 'message':\n        this.emit('data', packet.data);\n        this.emit('message', packet.data);\n        break;\n    }\n  } else {\n    debug('packet received with socket readyState \"%s\"', this.readyState);\n  }\n};\n\n/**\n * Called upon handshake completion.\n *\n * @param {Object} handshake obj\n * @api private\n */\n\nSocket.prototype.onHandshake = function (data) {\n  this.emit('handshake', data);\n  this.id = data.sid;\n  this.transport.query.sid = data.sid;\n  this.upgrades = this.filterUpgrades(data.upgrades);\n  this.pingInterval = data.pingInterval;\n  this.pingTimeout = data.pingTimeout;\n  this.onOpen();\n  // In case open handler closes socket\n  if  ('closed' == this.readyState) return;\n  this.setPing();\n\n  // Prolong liveness of socket on heartbeat\n  this.removeListener('heartbeat', this.onHeartbeat);\n  this.on('heartbeat', this.onHeartbeat);\n};\n\n/**\n * Resets ping timeout.\n *\n * @api private\n */\n\nSocket.prototype.onHeartbeat = function (timeout) {\n  clearTimeout(this.pingTimeoutTimer);\n  var self = this;\n  self.pingTimeoutTimer = setTimeout(function () {\n    if ('closed' == self.readyState) return;\n    self.onClose('ping timeout');\n  }, timeout || (self.pingInterval + self.pingTimeout));\n};\n\n/**\n * Pings server every `this.pingInterval` and expects response\n * within `this.pingTimeout` or closes connection.\n *\n * @api private\n */\n\nSocket.prototype.setPing = function () {\n  var self = this;\n  clearTimeout(self.pingIntervalTimer);\n  self.pingIntervalTimer = setTimeout(function () {\n    debug('writing ping packet - expecting pong within %sms', self.pingTimeout);\n    self.ping();\n    self.onHeartbeat(self.pingTimeout);\n  }, self.pingInterval);\n};\n\n/**\n* Sends a ping packet.\n*\n* @api private\n*/\n\nSocket.prototype.ping = function () {\n  var self = this;\n  this.sendPacket('ping', function(){\n    self.emit('ping');\n  });\n};\n\n/**\n * Called on `drain` event\n *\n * @api private\n */\n\nSocket.prototype.onDrain = function() {\n  this.writeBuffer.splice(0, this.prevBufferLen);\n\n  // setting prevBufferLen = 0 is very important\n  // for example, when upgrading, upgrade packet is sent over,\n  // and a nonzero prevBufferLen could cause problems on `drain`\n  this.prevBufferLen = 0;\n\n  if (0 === this.writeBuffer.length) {\n    this.emit('drain');\n  } else {\n    this.flush();\n  }\n};\n\n/**\n * Flush write buffers.\n *\n * @api private\n */\n\nSocket.prototype.flush = function () {\n  if ('closed' != this.readyState && this.transport.writable &&\n    !this.upgrading && this.writeBuffer.length) {\n    debug('flushing %d packets in socket', this.writeBuffer.length);\n    this.transport.send(this.writeBuffer);\n    // keep track of current length of writeBuffer\n    // splice writeBuffer and callbackBuffer on `drain`\n    this.prevBufferLen = this.writeBuffer.length;\n    this.emit('flush');\n  }\n};\n\n/**\n * Sends a message.\n *\n * @param {String} message.\n * @param {Function} callback function.\n * @param {Object} options.\n * @return {Socket} for chaining.\n * @api public\n */\n\nSocket.prototype.write =\nSocket.prototype.send = function (msg, options, fn) {\n  this.sendPacket('message', msg, options, fn);\n  return this;\n};\n\n/**\n * Sends a packet.\n *\n * @param {String} packet type.\n * @param {String} data.\n * @param {Object} options.\n * @param {Function} callback function.\n * @api private\n */\n\nSocket.prototype.sendPacket = function (type, data, options, fn) {\n  if('function' == typeof data) {\n    fn = data;\n    data = undefined;\n  }\n\n  if ('function' == typeof options) {\n    fn = options;\n    options = null;\n  }\n\n  if ('closing' == this.readyState || 'closed' == this.readyState) {\n    return;\n  }\n\n  options = options || {};\n  options.compress = false !== options.compress;\n\n  var packet = {\n    type: type,\n    data: data,\n    options: options\n  };\n  this.emit('packetCreate', packet);\n  this.writeBuffer.push(packet);\n  if (fn) this.once('flush', fn);\n  this.flush();\n};\n\n/**\n * Closes the connection.\n *\n * @api private\n */\n\nSocket.prototype.close = function () {\n  if ('opening' == this.readyState || 'open' == this.readyState) {\n    this.readyState = 'closing';\n\n    var self = this;\n\n    if (this.writeBuffer.length) {\n      this.once('drain', function() {\n        if (this.upgrading) {\n          waitForUpgrade();\n        } else {\n          close();\n        }\n      });\n    } else if (this.upgrading) {\n      waitForUpgrade();\n    } else {\n      close();\n    }\n  }\n\n  function close() {\n    self.onClose('forced close');\n    debug('socket closing - telling transport to close');\n    self.transport.close();\n  }\n\n  function cleanupAndClose() {\n    self.removeListener('upgrade', cleanupAndClose);\n    self.removeListener('upgradeError', cleanupAndClose);\n    close();\n  }\n\n  function waitForUpgrade() {\n    // wait for upgrade to finish since we can't send packets while pausing a transport\n    self.once('upgrade', cleanupAndClose);\n    self.once('upgradeError', cleanupAndClose);\n  }\n\n  return this;\n};\n\n/**\n * Called upon transport error\n *\n * @api private\n */\n\nSocket.prototype.onError = function (err) {\n  debug('socket error %j', err);\n  Socket.priorWebsocketSuccess = false;\n  this.emit('error', err);\n  this.onClose('transport error', err);\n};\n\n/**\n * Called upon transport close.\n *\n * @api private\n */\n\nSocket.prototype.onClose = function (reason, desc) {\n  if ('opening' == this.readyState || 'open' == this.readyState || 'closing' == this.readyState) {\n    debug('socket close with reason: \"%s\"', reason);\n    var self = this;\n\n    // clear timers\n    clearTimeout(this.pingIntervalTimer);\n    clearTimeout(this.pingTimeoutTimer);\n\n    // stop event from firing again for transport\n    this.transport.removeAllListeners('close');\n\n    // ensure transport won't stay open\n    this.transport.close();\n\n    // ignore further transport communication\n    this.transport.removeAllListeners();\n\n    // set ready state\n    this.readyState = 'closed';\n\n    // clear session id\n    this.id = null;\n\n    // emit close event\n    this.emit('close', reason, desc);\n\n    // clean buffers after, so users can still\n    // grab the buffers on `close` event\n    self.writeBuffer = [];\n    self.prevBufferLen = 0;\n  }\n};\n\n/**\n * Filters upgrades, returning only those matching client transports.\n *\n * @param {Array} server upgrades\n * @api private\n *\n */\n\nSocket.prototype.filterUpgrades = function (upgrades) {\n  var filteredUpgrades = [];\n  for (var i = 0, j = upgrades.length; i<j; i++) {\n    if (~index(this.transports, upgrades[i])) filteredUpgrades.push(upgrades[i]);\n  }\n  return filteredUpgrades;\n};\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n},{\"./transport\":4,\"./transports\":5,\"component-emitter\":15,\"debug\":17,\"engine.io-parser\":19,\"indexof\":23,\"parsejson\":26,\"parseqs\":27,\"parseuri\":28}],4:[function(_dereq_,module,exports){\n/**\n * Module dependencies.\n */\n\nvar parser = _dereq_('engine.io-parser');\nvar Emitter = _dereq_('component-emitter');\n\n/**\n * Module exports.\n */\n\nmodule.exports = Transport;\n\n/**\n * Transport abstract constructor.\n *\n * @param {Object} options.\n * @api private\n */\n\nfunction Transport (opts) {\n  this.path = opts.path;\n  this.hostname = opts.hostname;\n  this.port = opts.port;\n  this.secure = opts.secure;\n  this.query = opts.query;\n  this.timestampParam = opts.timestampParam;\n  this.timestampRequests = opts.timestampRequests;\n  this.readyState = '';\n  this.agent = opts.agent || false;\n  this.socket = opts.socket;\n  this.enablesXDR = opts.enablesXDR;\n\n  // SSL options for Node.js client\n  this.pfx = opts.pfx;\n  this.key = opts.key;\n  this.passphrase = opts.passphrase;\n  this.cert = opts.cert;\n  this.ca = opts.ca;\n  this.ciphers = opts.ciphers;\n  this.rejectUnauthorized = opts.rejectUnauthorized;\n\n  // other options for Node.js client\n  this.extraHeaders = opts.extraHeaders;\n}\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Transport.prototype);\n\n/**\n * Emits an error.\n *\n * @param {String} str\n * @return {Transport} for chaining\n * @api public\n */\n\nTransport.prototype.onError = function (msg, desc) {\n  var err = new Error(msg);\n  err.type = 'TransportError';\n  err.description = desc;\n  this.emit('error', err);\n  return this;\n};\n\n/**\n * Opens the transport.\n *\n * @api public\n */\n\nTransport.prototype.open = function () {\n  if ('closed' == this.readyState || '' == this.readyState) {\n    this.readyState = 'opening';\n    this.doOpen();\n  }\n\n  return this;\n};\n\n/**\n * Closes the transport.\n *\n * @api private\n */\n\nTransport.prototype.close = function () {\n  if ('opening' == this.readyState || 'open' == this.readyState) {\n    this.doClose();\n    this.onClose();\n  }\n\n  return this;\n};\n\n/**\n * Sends multiple packets.\n *\n * @param {Array} packets\n * @api private\n */\n\nTransport.prototype.send = function(packets){\n  if ('open' == this.readyState) {\n    this.write(packets);\n  } else {\n    throw new Error('Transport not open');\n  }\n};\n\n/**\n * Called upon open\n *\n * @api private\n */\n\nTransport.prototype.onOpen = function () {\n  this.readyState = 'open';\n  this.writable = true;\n  this.emit('open');\n};\n\n/**\n * Called with data.\n *\n * @param {String} data\n * @api private\n */\n\nTransport.prototype.onData = function(data){\n  var packet = parser.decodePacket(data, this.socket.binaryType);\n  this.onPacket(packet);\n};\n\n/**\n * Called with a decoded packet.\n */\n\nTransport.prototype.onPacket = function (packet) {\n  this.emit('packet', packet);\n};\n\n/**\n * Called upon close.\n *\n * @api private\n */\n\nTransport.prototype.onClose = function () {\n  this.readyState = 'closed';\n  this.emit('close');\n};\n\n},{\"component-emitter\":15,\"engine.io-parser\":19}],5:[function(_dereq_,module,exports){\n(function (global){\n/**\n * Module dependencies\n */\n\nvar XMLHttpRequest = _dereq_('xmlhttprequest-ssl');\nvar XHR = _dereq_('./polling-xhr');\nvar JSONP = _dereq_('./polling-jsonp');\nvar websocket = _dereq_('./websocket');\n\n/**\n * Export transports.\n */\n\nexports.polling = polling;\nexports.websocket = websocket;\n\n/**\n * Polling transport polymorphic constructor.\n * Decides on xhr vs jsonp based on feature detection.\n *\n * @api private\n */\n\nfunction polling(opts){\n  var xhr;\n  var xd = false;\n  var xs = false;\n  var jsonp = false !== opts.jsonp;\n\n  if (global.location) {\n    var isSSL = 'https:' == location.protocol;\n    var port = location.port;\n\n    // some user agents have empty `location.port`\n    if (!port) {\n      port = isSSL ? 443 : 80;\n    }\n\n    xd = opts.hostname != location.hostname || port != opts.port;\n    xs = opts.secure != isSSL;\n  }\n\n  opts.xdomain = xd;\n  opts.xscheme = xs;\n  xhr = new XMLHttpRequest(opts);\n\n  if ('open' in xhr && !opts.forceJSONP) {\n    return new XHR(opts);\n  } else {\n    if (!jsonp) throw new Error('JSONP disabled');\n    return new JSONP(opts);\n  }\n}\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n},{\"./polling-jsonp\":6,\"./polling-xhr\":7,\"./websocket\":9,\"xmlhttprequest-ssl\":10}],6:[function(_dereq_,module,exports){\n(function (global){\n\n/**\n * Module requirements.\n */\n\nvar Polling = _dereq_('./polling');\nvar inherit = _dereq_('component-inherit');\n\n/**\n * Module exports.\n */\n\nmodule.exports = JSONPPolling;\n\n/**\n * Cached regular expressions.\n */\n\nvar rNewline = /\\n/g;\nvar rEscapedNewline = /\\\\n/g;\n\n/**\n * Global JSONP callbacks.\n */\n\nvar callbacks;\n\n/**\n * Callbacks count.\n */\n\nvar index = 0;\n\n/**\n * Noop.\n */\n\nfunction empty () { }\n\n/**\n * JSONP Polling constructor.\n *\n * @param {Object} opts.\n * @api public\n */\n\nfunction JSONPPolling (opts) {\n  Polling.call(this, opts);\n\n  this.query = this.query || {};\n\n  // define global callbacks array if not present\n  // we do this here (lazily) to avoid unneeded global pollution\n  if (!callbacks) {\n    // we need to consider multiple engines in the same page\n    if (!global.___eio) global.___eio = [];\n    callbacks = global.___eio;\n  }\n\n  // callback identifier\n  this.index = callbacks.length;\n\n  // add callback to jsonp global\n  var self = this;\n  callbacks.push(function (msg) {\n    self.onData(msg);\n  });\n\n  // append to query string\n  this.query.j = this.index;\n\n  // prevent spurious errors from being emitted when the window is unloaded\n  if (global.document && global.addEventListener) {\n    global.addEventListener('beforeunload', function () {\n      if (self.script) self.script.onerror = empty;\n    }, false);\n  }\n}\n\n/**\n * Inherits from Polling.\n */\n\ninherit(JSONPPolling, Polling);\n\n/*\n * JSONP only supports binary as base64 encoded strings\n */\n\nJSONPPolling.prototype.supportsBinary = false;\n\n/**\n * Closes the socket.\n *\n * @api private\n */\n\nJSONPPolling.prototype.doClose = function () {\n  if (this.script) {\n    this.script.parentNode.removeChild(this.script);\n    this.script = null;\n  }\n\n  if (this.form) {\n    this.form.parentNode.removeChild(this.form);\n    this.form = null;\n    this.iframe = null;\n  }\n\n  Polling.prototype.doClose.call(this);\n};\n\n/**\n * Starts a poll cycle.\n *\n * @api private\n */\n\nJSONPPolling.prototype.doPoll = function () {\n  var self = this;\n  var script = document.createElement('script');\n\n  if (this.script) {\n    this.script.parentNode.removeChild(this.script);\n    this.script = null;\n  }\n\n  script.async = true;\n  script.src = this.uri();\n  script.onerror = function(e){\n    self.onError('jsonp poll error',e);\n  };\n\n  var insertAt = document.getElementsByTagName('script')[0];\n  if (insertAt) {\n    insertAt.parentNode.insertBefore(script, insertAt);\n  }\n  else {\n    (document.head || document.body).appendChild(script);\n  }\n  this.script = script;\n\n  var isUAgecko = 'undefined' != typeof navigator && /gecko/i.test(navigator.userAgent);\n  \n  if (isUAgecko) {\n    setTimeout(function () {\n      var iframe = document.createElement('iframe');\n      document.body.appendChild(iframe);\n      document.body.removeChild(iframe);\n    }, 100);\n  }\n};\n\n/**\n * Writes with a hidden iframe.\n *\n * @param {String} data to send\n * @param {Function} called upon flush.\n * @api private\n */\n\nJSONPPolling.prototype.doWrite = function (data, fn) {\n  var self = this;\n\n  if (!this.form) {\n    var form = document.createElement('form');\n    var area = document.createElement('textarea');\n    var id = this.iframeId = 'eio_iframe_' + this.index;\n    var iframe;\n\n    form.className = 'socketio';\n    form.style.position = 'absolute';\n    form.style.top = '-1000px';\n    form.style.left = '-1000px';\n    form.target = id;\n    form.method = 'POST';\n    form.setAttribute('accept-charset', 'utf-8');\n    area.name = 'd';\n    form.appendChild(area);\n    document.body.appendChild(form);\n\n    this.form = form;\n    this.area = area;\n  }\n\n  this.form.action = this.uri();\n\n  function complete () {\n    initIframe();\n    fn();\n  }\n\n  function initIframe () {\n    if (self.iframe) {\n      try {\n        self.form.removeChild(self.iframe);\n      } catch (e) {\n        self.onError('jsonp polling iframe removal error', e);\n      }\n    }\n\n    try {\n      // ie6 dynamic iframes with target=\"\" support (thanks Chris Lambacher)\n      var html = '<iframe src=\"javascript:0\" name=\"'+ self.iframeId +'\">';\n      iframe = document.createElement(html);\n    } catch (e) {\n      iframe = document.createElement('iframe');\n      iframe.name = self.iframeId;\n      iframe.src = 'javascript:0';\n    }\n\n    iframe.id = self.iframeId;\n\n    self.form.appendChild(iframe);\n    self.iframe = iframe;\n  }\n\n  initIframe();\n\n  // escape \\n to prevent it from being converted into \\r\\n by some UAs\n  // double escaping is required for escaped new lines because unescaping of new lines can be done safely on server-side\n  data = data.replace(rEscapedNewline, '\\\\\\n');\n  this.area.value = data.replace(rNewline, '\\\\n');\n\n  try {\n    this.form.submit();\n  } catch(e) {}\n\n  if (this.iframe.attachEvent) {\n    this.iframe.onreadystatechange = function(){\n      if (self.iframe.readyState == 'complete') {\n        complete();\n      }\n    };\n  } else {\n    this.iframe.onload = complete;\n  }\n};\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n},{\"./polling\":8,\"component-inherit\":16}],7:[function(_dereq_,module,exports){\n(function (global){\n/**\n * Module requirements.\n */\n\nvar XMLHttpRequest = _dereq_('xmlhttprequest-ssl');\nvar Polling = _dereq_('./polling');\nvar Emitter = _dereq_('component-emitter');\nvar inherit = _dereq_('component-inherit');\nvar debug = _dereq_('debug')('engine.io-client:polling-xhr');\n\n/**\n * Module exports.\n */\n\nmodule.exports = XHR;\nmodule.exports.Request = Request;\n\n/**\n * Empty function\n */\n\nfunction empty(){}\n\n/**\n * XHR Polling constructor.\n *\n * @param {Object} opts\n * @api public\n */\n\nfunction XHR(opts){\n  Polling.call(this, opts);\n\n  if (global.location) {\n    var isSSL = 'https:' == location.protocol;\n    var port = location.port;\n\n    // some user agents have empty `location.port`\n    if (!port) {\n      port = isSSL ? 443 : 80;\n    }\n\n    this.xd = opts.hostname != global.location.hostname ||\n      port != opts.port;\n    this.xs = opts.secure != isSSL;\n  } else {\n    this.extraHeaders = opts.extraHeaders;\n  }\n}\n\n/**\n * Inherits from Polling.\n */\n\ninherit(XHR, Polling);\n\n/**\n * XHR supports binary\n */\n\nXHR.prototype.supportsBinary = true;\n\n/**\n * Creates a request.\n *\n * @param {String} method\n * @api private\n */\n\nXHR.prototype.request = function(opts){\n  opts = opts || {};\n  opts.uri = this.uri();\n  opts.xd = this.xd;\n  opts.xs = this.xs;\n  opts.agent = this.agent || false;\n  opts.supportsBinary = this.supportsBinary;\n  opts.enablesXDR = this.enablesXDR;\n\n  // SSL options for Node.js client\n  opts.pfx = this.pfx;\n  opts.key = this.key;\n  opts.passphrase = this.passphrase;\n  opts.cert = this.cert;\n  opts.ca = this.ca;\n  opts.ciphers = this.ciphers;\n  opts.rejectUnauthorized = this.rejectUnauthorized;\n\n  // other options for Node.js client\n  opts.extraHeaders = this.extraHeaders;\n\n  return new Request(opts);\n};\n\n/**\n * Sends data.\n *\n * @param {String} data to send.\n * @param {Function} called upon flush.\n * @api private\n */\n\nXHR.prototype.doWrite = function(data, fn){\n  var isBinary = typeof data !== 'string' && data !== undefined;\n  var req = this.request({ method: 'POST', data: data, isBinary: isBinary });\n  var self = this;\n  req.on('success', fn);\n  req.on('error', function(err){\n    self.onError('xhr post error', err);\n  });\n  this.sendXhr = req;\n};\n\n/**\n * Starts a poll cycle.\n *\n * @api private\n */\n\nXHR.prototype.doPoll = function(){\n  debug('xhr poll');\n  var req = this.request();\n  var self = this;\n  req.on('data', function(data){\n    self.onData(data);\n  });\n  req.on('error', function(err){\n    self.onError('xhr poll error', err);\n  });\n  this.pollXhr = req;\n};\n\n/**\n * Request constructor\n *\n * @param {Object} options\n * @api public\n */\n\nfunction Request(opts){\n  this.method = opts.method || 'GET';\n  this.uri = opts.uri;\n  this.xd = !!opts.xd;\n  this.xs = !!opts.xs;\n  this.async = false !== opts.async;\n  this.data = undefined != opts.data ? opts.data : null;\n  this.agent = opts.agent;\n  this.isBinary = opts.isBinary;\n  this.supportsBinary = opts.supportsBinary;\n  this.enablesXDR = opts.enablesXDR;\n\n  // SSL options for Node.js client\n  this.pfx = opts.pfx;\n  this.key = opts.key;\n  this.passphrase = opts.passphrase;\n  this.cert = opts.cert;\n  this.ca = opts.ca;\n  this.ciphers = opts.ciphers;\n  this.rejectUnauthorized = opts.rejectUnauthorized;\n\n  // other options for Node.js client\n  this.extraHeaders = opts.extraHeaders;\n\n  this.create();\n}\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Request.prototype);\n\n/**\n * Creates the XHR object and sends the request.\n *\n * @api private\n */\n\nRequest.prototype.create = function(){\n  var opts = { agent: this.agent, xdomain: this.xd, xscheme: this.xs, enablesXDR: this.enablesXDR };\n\n  // SSL options for Node.js client\n  opts.pfx = this.pfx;\n  opts.key = this.key;\n  opts.passphrase = this.passphrase;\n  opts.cert = this.cert;\n  opts.ca = this.ca;\n  opts.ciphers = this.ciphers;\n  opts.rejectUnauthorized = this.rejectUnauthorized;\n\n  var xhr = this.xhr = new XMLHttpRequest(opts);\n  var self = this;\n\n  try {\n    debug('xhr open %s: %s', this.method, this.uri);\n    xhr.open(this.method, this.uri, this.async);\n    try {\n      if (this.extraHeaders) {\n        xhr.setDisableHeaderCheck(true);\n        for (var i in this.extraHeaders) {\n          if (this.extraHeaders.hasOwnProperty(i)) {\n            xhr.setRequestHeader(i, this.extraHeaders[i]);\n          }\n        }\n      }\n    } catch (e) {}\n    if (this.supportsBinary) {\n      // This has to be done after open because Firefox is stupid\n      // http://stackoverflow.com/questions/13216903/get-binary-data-with-xmlhttprequest-in-a-firefox-extension\n      xhr.responseType = 'arraybuffer';\n    }\n\n    if ('POST' == this.method) {\n      try {\n        if (this.isBinary) {\n          xhr.setRequestHeader('Content-type', 'application/octet-stream');\n        } else {\n          xhr.setRequestHeader('Content-type', 'text/plain;charset=UTF-8');\n        }\n      } catch (e) {}\n    }\n\n    // ie6 check\n    if ('withCredentials' in xhr) {\n      xhr.withCredentials = true;\n    }\n\n    if (this.hasXDR()) {\n      xhr.onload = function(){\n        self.onLoad();\n      };\n      xhr.onerror = function(){\n        self.onError(xhr.responseText);\n      };\n    } else {\n      xhr.onreadystatechange = function(){\n        if (4 != xhr.readyState) return;\n        if (200 == xhr.status || 1223 == xhr.status) {\n          self.onLoad();\n        } else {\n          // make sure the `error` event handler that's user-set\n          // does not throw in the same tick and gets caught here\n          setTimeout(function(){\n            self.onError(xhr.status);\n          }, 0);\n        }\n      };\n    }\n\n    debug('xhr data %s', this.data);\n    xhr.send(this.data);\n  } catch (e) {\n    // Need to defer since .create() is called directly fhrom the constructor\n    // and thus the 'error' event can only be only bound *after* this exception\n    // occurs.  Therefore, also, we cannot throw here at all.\n    setTimeout(function() {\n      self.onError(e);\n    }, 0);\n    return;\n  }\n\n  if (global.document) {\n    this.index = Request.requestsCount++;\n    Request.requests[this.index] = this;\n  }\n};\n\n/**\n * Called upon successful response.\n *\n * @api private\n */\n\nRequest.prototype.onSuccess = function(){\n  this.emit('success');\n  this.cleanup();\n};\n\n/**\n * Called if we have data.\n *\n * @api private\n */\n\nRequest.prototype.onData = function(data){\n  this.emit('data', data);\n  this.onSuccess();\n};\n\n/**\n * Called upon error.\n *\n * @api private\n */\n\nRequest.prototype.onError = function(err){\n  this.emit('error', err);\n  this.cleanup(true);\n};\n\n/**\n * Cleans up house.\n *\n * @api private\n */\n\nRequest.prototype.cleanup = function(fromError){\n  if ('undefined' == typeof this.xhr || null === this.xhr) {\n    return;\n  }\n  // xmlhttprequest\n  if (this.hasXDR()) {\n    this.xhr.onload = this.xhr.onerror = empty;\n  } else {\n    this.xhr.onreadystatechange = empty;\n  }\n\n  if (fromError) {\n    try {\n      this.xhr.abort();\n    } catch(e) {}\n  }\n\n  if (global.document) {\n    delete Request.requests[this.index];\n  }\n\n  this.xhr = null;\n};\n\n/**\n * Called upon load.\n *\n * @api private\n */\n\nRequest.prototype.onLoad = function(){\n  var data;\n  try {\n    var contentType;\n    try {\n      contentType = this.xhr.getResponseHeader('Content-Type').split(';')[0];\n    } catch (e) {}\n    if (contentType === 'application/octet-stream') {\n      data = this.xhr.response;\n    } else {\n      if (!this.supportsBinary) {\n        data = this.xhr.responseText;\n      } else {\n        try {\n          data = String.fromCharCode.apply(null, new Uint8Array(this.xhr.response));\n        } catch (e) {\n          var ui8Arr = new Uint8Array(this.xhr.response);\n          var dataArray = [];\n          for (var idx = 0, length = ui8Arr.length; idx < length; idx++) {\n            dataArray.push(ui8Arr[idx]);\n          }\n\n          data = String.fromCharCode.apply(null, dataArray);\n        }\n      }\n    }\n  } catch (e) {\n    this.onError(e);\n  }\n  if (null != data) {\n    this.onData(data);\n  }\n};\n\n/**\n * Check if it has XDomainRequest.\n *\n * @api private\n */\n\nRequest.prototype.hasXDR = function(){\n  return 'undefined' !== typeof global.XDomainRequest && !this.xs && this.enablesXDR;\n};\n\n/**\n * Aborts the request.\n *\n * @api public\n */\n\nRequest.prototype.abort = function(){\n  this.cleanup();\n};\n\n/**\n * Aborts pending requests when unloading the window. This is needed to prevent\n * memory leaks (e.g. when using IE) and to ensure that no spurious error is\n * emitted.\n */\n\nif (global.document) {\n  Request.requestsCount = 0;\n  Request.requests = {};\n  if (global.attachEvent) {\n    global.attachEvent('onunload', unloadHandler);\n  } else if (global.addEventListener) {\n    global.addEventListener('beforeunload', unloadHandler, false);\n  }\n}\n\nfunction unloadHandler() {\n  for (var i in Request.requests) {\n    if (Request.requests.hasOwnProperty(i)) {\n      Request.requests[i].abort();\n    }\n  }\n}\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n},{\"./polling\":8,\"component-emitter\":15,\"component-inherit\":16,\"debug\":17,\"xmlhttprequest-ssl\":10}],8:[function(_dereq_,module,exports){\n/**\n * Module dependencies.\n */\n\nvar Transport = _dereq_('../transport');\nvar parseqs = _dereq_('parseqs');\nvar parser = _dereq_('engine.io-parser');\nvar inherit = _dereq_('component-inherit');\nvar yeast = _dereq_('yeast');\nvar debug = _dereq_('debug')('engine.io-client:polling');\n\n/**\n * Module exports.\n */\n\nmodule.exports = Polling;\n\n/**\n * Is XHR2 supported?\n */\n\nvar hasXHR2 = (function() {\n  var XMLHttpRequest = _dereq_('xmlhttprequest-ssl');\n  var xhr = new XMLHttpRequest({ xdomain: false });\n  return null != xhr.responseType;\n})();\n\n/**\n * Polling interface.\n *\n * @param {Object} opts\n * @api private\n */\n\nfunction Polling(opts){\n  var forceBase64 = (opts && opts.forceBase64);\n  if (!hasXHR2 || forceBase64) {\n    this.supportsBinary = false;\n  }\n  Transport.call(this, opts);\n}\n\n/**\n * Inherits from Transport.\n */\n\ninherit(Polling, Transport);\n\n/**\n * Transport name.\n */\n\nPolling.prototype.name = 'polling';\n\n/**\n * Opens the socket (triggers polling). We write a PING message to determine\n * when the transport is open.\n *\n * @api private\n */\n\nPolling.prototype.doOpen = function(){\n  this.poll();\n};\n\n/**\n * Pauses polling.\n *\n * @param {Function} callback upon buffers are flushed and transport is paused\n * @api private\n */\n\nPolling.prototype.pause = function(onPause){\n  var pending = 0;\n  var self = this;\n\n  this.readyState = 'pausing';\n\n  function pause(){\n    debug('paused');\n    self.readyState = 'paused';\n    onPause();\n  }\n\n  if (this.polling || !this.writable) {\n    var total = 0;\n\n    if (this.polling) {\n      debug('we are currently polling - waiting to pause');\n      total++;\n      this.once('pollComplete', function(){\n        debug('pre-pause polling complete');\n        --total || pause();\n      });\n    }\n\n    if (!this.writable) {\n      debug('we are currently writing - waiting to pause');\n      total++;\n      this.once('drain', function(){\n        debug('pre-pause writing complete');\n        --total || pause();\n      });\n    }\n  } else {\n    pause();\n  }\n};\n\n/**\n * Starts polling cycle.\n *\n * @api public\n */\n\nPolling.prototype.poll = function(){\n  debug('polling');\n  this.polling = true;\n  this.doPoll();\n  this.emit('poll');\n};\n\n/**\n * Overloads onData to detect payloads.\n *\n * @api private\n */\n\nPolling.prototype.onData = function(data){\n  var self = this;\n  debug('polling got data %s', data);\n  var callback = function(packet, index, total) {\n    // if its the first message we consider the transport open\n    if ('opening' == self.readyState) {\n      self.onOpen();\n    }\n\n    // if its a close packet, we close the ongoing requests\n    if ('close' == packet.type) {\n      self.onClose();\n      return false;\n    }\n\n    // otherwise bypass onData and handle the message\n    self.onPacket(packet);\n  };\n\n  // decode payload\n  parser.decodePayload(data, this.socket.binaryType, callback);\n\n  // if an event did not trigger closing\n  if ('closed' != this.readyState) {\n    // if we got data we're not polling\n    this.polling = false;\n    this.emit('pollComplete');\n\n    if ('open' == this.readyState) {\n      this.poll();\n    } else {\n      debug('ignoring poll - transport state \"%s\"', this.readyState);\n    }\n  }\n};\n\n/**\n * For polling, send a close packet.\n *\n * @api private\n */\n\nPolling.prototype.doClose = function(){\n  var self = this;\n\n  function close(){\n    debug('writing close packet');\n    self.write([{ type: 'close' }]);\n  }\n\n  if ('open' == this.readyState) {\n    debug('transport open - closing');\n    close();\n  } else {\n    // in case we're trying to close while\n    // handshaking is in progress (GH-164)\n    debug('transport not open - deferring close');\n    this.once('open', close);\n  }\n};\n\n/**\n * Writes a packets payload.\n *\n * @param {Array} data packets\n * @param {Function} drain callback\n * @api private\n */\n\nPolling.prototype.write = function(packets){\n  var self = this;\n  this.writable = false;\n  var callbackfn = function() {\n    self.writable = true;\n    self.emit('drain');\n  };\n\n  var self = this;\n  parser.encodePayload(packets, this.supportsBinary, function(data) {\n    self.doWrite(data, callbackfn);\n  });\n};\n\n/**\n * Generates uri for connection.\n *\n * @api private\n */\n\nPolling.prototype.uri = function(){\n  var query = this.query || {};\n  var schema = this.secure ? 'https' : 'http';\n  var port = '';\n\n  // cache busting is forced\n  if (false !== this.timestampRequests) {\n    query[this.timestampParam] = yeast();\n  }\n\n  if (!this.supportsBinary && !query.sid) {\n    query.b64 = 1;\n  }\n\n  query = parseqs.encode(query);\n\n  // avoid port if default for schema\n  if (this.port && (('https' == schema && this.port != 443) ||\n     ('http' == schema && this.port != 80))) {\n    port = ':' + this.port;\n  }\n\n  // prepend ? to query\n  if (query.length) {\n    query = '?' + query;\n  }\n\n  var ipv6 = this.hostname.indexOf(':') !== -1;\n  return schema + '://' + (ipv6 ? '[' + this.hostname + ']' : this.hostname) + port + this.path + query;\n};\n\n},{\"../transport\":4,\"component-inherit\":16,\"debug\":17,\"engine.io-parser\":19,\"parseqs\":27,\"xmlhttprequest-ssl\":10,\"yeast\":30}],9:[function(_dereq_,module,exports){\n(function (global){\n/**\n * Module dependencies.\n */\n\nvar Transport = _dereq_('../transport');\nvar parser = _dereq_('engine.io-parser');\nvar parseqs = _dereq_('parseqs');\nvar inherit = _dereq_('component-inherit');\nvar yeast = _dereq_('yeast');\nvar debug = _dereq_('debug')('engine.io-client:websocket');\nvar BrowserWebSocket = global.WebSocket || global.MozWebSocket;\n\n/**\n * Get either the `WebSocket` or `MozWebSocket` globals\n * in the browser or the WebSocket-compatible interface\n * exposed by `ws` for Node environment.\n */\n\nvar WebSocket = BrowserWebSocket || (typeof window !== 'undefined' ? null : _dereq_('ws'));\n\n/**\n * Module exports.\n */\n\nmodule.exports = WS;\n\n/**\n * WebSocket transport constructor.\n *\n * @api {Object} connection options\n * @api public\n */\n\nfunction WS(opts){\n  var forceBase64 = (opts && opts.forceBase64);\n  if (forceBase64) {\n    this.supportsBinary = false;\n  }\n  this.perMessageDeflate = opts.perMessageDeflate;\n  Transport.call(this, opts);\n}\n\n/**\n * Inherits from Transport.\n */\n\ninherit(WS, Transport);\n\n/**\n * Transport name.\n *\n * @api public\n */\n\nWS.prototype.name = 'websocket';\n\n/*\n * WebSockets support binary\n */\n\nWS.prototype.supportsBinary = true;\n\n/**\n * Opens socket.\n *\n * @api private\n */\n\nWS.prototype.doOpen = function(){\n  if (!this.check()) {\n    // let probe timeout\n    return;\n  }\n\n  var self = this;\n  var uri = this.uri();\n  var protocols = void(0);\n  var opts = {\n    agent: this.agent,\n    perMessageDeflate: this.perMessageDeflate\n  };\n\n  // SSL options for Node.js client\n  opts.pfx = this.pfx;\n  opts.key = this.key;\n  opts.passphrase = this.passphrase;\n  opts.cert = this.cert;\n  opts.ca = this.ca;\n  opts.ciphers = this.ciphers;\n  opts.rejectUnauthorized = this.rejectUnauthorized;\n  if (this.extraHeaders) {\n    opts.headers = this.extraHeaders;\n  }\n\n  this.ws = BrowserWebSocket ? new WebSocket(uri) : new WebSocket(uri, protocols, opts);\n\n  if (this.ws.binaryType === undefined) {\n    this.supportsBinary = false;\n  }\n\n  if (this.ws.supports && this.ws.supports.binary) {\n    this.supportsBinary = true;\n    this.ws.binaryType = 'buffer';\n  } else {\n    this.ws.binaryType = 'arraybuffer';\n  }\n\n  this.addEventListeners();\n};\n\n/**\n * Adds event listeners to the socket\n *\n * @api private\n */\n\nWS.prototype.addEventListeners = function(){\n  var self = this;\n\n  this.ws.onopen = function(){\n    self.onOpen();\n  };\n  this.ws.onclose = function(){\n    self.onClose();\n  };\n  this.ws.onmessage = function(ev){\n    self.onData(ev.data);\n  };\n  this.ws.onerror = function(e){\n    self.onError('websocket error', e);\n  };\n};\n\n/**\n * Override `onData` to use a timer on iOS.\n * See: https://gist.github.com/mloughran/2052006\n *\n * @api private\n */\n\nif ('undefined' != typeof navigator\n  && /iPad|iPhone|iPod/i.test(navigator.userAgent)) {\n  WS.prototype.onData = function(data){\n    var self = this;\n    setTimeout(function(){\n      Transport.prototype.onData.call(self, data);\n    }, 0);\n  };\n}\n\n/**\n * Writes data to socket.\n *\n * @param {Array} array of packets.\n * @api private\n */\n\nWS.prototype.write = function(packets){\n  var self = this;\n  this.writable = false;\n\n  // encodePacket efficient as it uses WS framing\n  // no need for encodePayload\n  var total = packets.length;\n  for (var i = 0, l = total; i < l; i++) {\n    (function(packet) {\n      parser.encodePacket(packet, self.supportsBinary, function(data) {\n        if (!BrowserWebSocket) {\n          // always create a new object (GH-437)\n          var opts = {};\n          if (packet.options) {\n            opts.compress = packet.options.compress;\n          }\n\n          if (self.perMessageDeflate) {\n            var len = 'string' == typeof data ? global.Buffer.byteLength(data) : data.length;\n            if (len < self.perMessageDeflate.threshold) {\n              opts.compress = false;\n            }\n          }\n        }\n\n        //Sometimes the websocket has already been closed but the browser didn't\n        //have a chance of informing us about it yet, in that case send will\n        //throw an error\n        try {\n          if (BrowserWebSocket) {\n            // TypeError is thrown when passing the second argument on Safari\n            self.ws.send(data);\n          } else {\n            self.ws.send(data, opts);\n          }\n        } catch (e){\n          debug('websocket closed before onclose event');\n        }\n\n        --total || done();\n      });\n    })(packets[i]);\n  }\n\n  function done(){\n    self.emit('flush');\n\n    // fake drain\n    // defer to next tick to allow Socket to clear writeBuffer\n    setTimeout(function(){\n      self.writable = true;\n      self.emit('drain');\n    }, 0);\n  }\n};\n\n/**\n * Called upon close\n *\n * @api private\n */\n\nWS.prototype.onClose = function(){\n  Transport.prototype.onClose.call(this);\n};\n\n/**\n * Closes socket.\n *\n * @api private\n */\n\nWS.prototype.doClose = function(){\n  if (typeof this.ws !== 'undefined') {\n    this.ws.close();\n  }\n};\n\n/**\n * Generates uri for connection.\n *\n * @api private\n */\n\nWS.prototype.uri = function(){\n  var query = this.query || {};\n  var schema = this.secure ? 'wss' : 'ws';\n  var port = '';\n\n  // avoid port if default for schema\n  if (this.port && (('wss' == schema && this.port != 443)\n    || ('ws' == schema && this.port != 80))) {\n    port = ':' + this.port;\n  }\n\n  // append timestamp to URI\n  if (this.timestampRequests) {\n    query[this.timestampParam] = yeast();\n  }\n\n  // communicate binary support capabilities\n  if (!this.supportsBinary) {\n    query.b64 = 1;\n  }\n\n  query = parseqs.encode(query);\n\n  // prepend ? to query\n  if (query.length) {\n    query = '?' + query;\n  }\n\n  var ipv6 = this.hostname.indexOf(':') !== -1;\n  return schema + '://' + (ipv6 ? '[' + this.hostname + ']' : this.hostname) + port + this.path + query;\n};\n\n/**\n * Feature detection for WebSocket.\n *\n * @return {Boolean} whether this transport is available.\n * @api public\n */\n\nWS.prototype.check = function(){\n  return !!WebSocket && !('__initialize' in WebSocket && this.name === WS.prototype.name);\n};\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n},{\"../transport\":4,\"component-inherit\":16,\"debug\":17,\"engine.io-parser\":19,\"parseqs\":27,\"ws\":undefined,\"yeast\":30}],10:[function(_dereq_,module,exports){\n// browser shim for xmlhttprequest module\nvar hasCORS = _dereq_('has-cors');\n\nmodule.exports = function(opts) {\n  var xdomain = opts.xdomain;\n\n  // scheme must be same when usign XDomainRequest\n  // http://blogs.msdn.com/b/ieinternals/archive/2010/05/13/xdomainrequest-restrictions-limitations-and-workarounds.aspx\n  var xscheme = opts.xscheme;\n\n  // XDomainRequest has a flow of not sending cookie, therefore it should be disabled as a default.\n  // https://github.com/Automattic/engine.io-client/pull/217\n  var enablesXDR = opts.enablesXDR;\n\n  // XMLHttpRequest can be disabled on IE\n  try {\n    if ('undefined' != typeof XMLHttpRequest && (!xdomain || hasCORS)) {\n      return new XMLHttpRequest();\n    }\n  } catch (e) { }\n\n  // Use XDomainRequest for IE8 if enablesXDR is true\n  // because loading bar keeps flashing when using jsonp-polling\n  // https://github.com/yujiosaka/socke.io-ie8-loading-example\n  try {\n    if ('undefined' != typeof XDomainRequest && !xscheme && enablesXDR) {\n      return new XDomainRequest();\n    }\n  } catch (e) { }\n\n  if (!xdomain) {\n    try {\n      return new ActiveXObject('Microsoft.XMLHTTP');\n    } catch(e) { }\n  }\n}\n\n},{\"has-cors\":22}],11:[function(_dereq_,module,exports){\nmodule.exports = after\n\nfunction after(count, callback, err_cb) {\n    var bail = false\n    err_cb = err_cb || noop\n    proxy.count = count\n\n    return (count === 0) ? callback() : proxy\n\n    function proxy(err, result) {\n        if (proxy.count <= 0) {\n            throw new Error('after called too many times')\n        }\n        --proxy.count\n\n        // after first error, rest are passed to err_cb\n        if (err) {\n            bail = true\n            callback(err)\n            // future error callbacks will go to error handler\n            callback = err_cb\n        } else if (proxy.count === 0 && !bail) {\n            callback(null, result)\n        }\n    }\n}\n\nfunction noop() {}\n\n},{}],12:[function(_dereq_,module,exports){\n/**\n * An abstraction for slicing an arraybuffer even when\n * ArrayBuffer.prototype.slice is not supported\n *\n * @api public\n */\n\nmodule.exports = function(arraybuffer, start, end) {\n  var bytes = arraybuffer.byteLength;\n  start = start || 0;\n  end = end || bytes;\n\n  if (arraybuffer.slice) { return arraybuffer.slice(start, end); }\n\n  if (start < 0) { start += bytes; }\n  if (end < 0) { end += bytes; }\n  if (end > bytes) { end = bytes; }\n\n  if (start >= bytes || start >= end || bytes === 0) {\n    return new ArrayBuffer(0);\n  }\n\n  var abv = new Uint8Array(arraybuffer);\n  var result = new Uint8Array(end - start);\n  for (var i = start, ii = 0; i < end; i++, ii++) {\n    result[ii] = abv[i];\n  }\n  return result.buffer;\n};\n\n},{}],13:[function(_dereq_,module,exports){\n/*\n * base64-arraybuffer\n * https://github.com/niklasvh/base64-arraybuffer\n *\n * Copyright (c) 2012 Niklas von Hertzen\n * Licensed under the MIT license.\n */\n(function(chars){\n  \"use strict\";\n\n  exports.encode = function(arraybuffer) {\n    var bytes = new Uint8Array(arraybuffer),\n    i, len = bytes.length, base64 = \"\";\n\n    for (i = 0; i < len; i+=3) {\n      base64 += chars[bytes[i] >> 2];\n      base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n      base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n      base64 += chars[bytes[i + 2] & 63];\n    }\n\n    if ((len % 3) === 2) {\n      base64 = base64.substring(0, base64.length - 1) + \"=\";\n    } else if (len % 3 === 1) {\n      base64 = base64.substring(0, base64.length - 2) + \"==\";\n    }\n\n    return base64;\n  };\n\n  exports.decode =  function(base64) {\n    var bufferLength = base64.length * 0.75,\n    len = base64.length, i, p = 0,\n    encoded1, encoded2, encoded3, encoded4;\n\n    if (base64[base64.length - 1] === \"=\") {\n      bufferLength--;\n      if (base64[base64.length - 2] === \"=\") {\n        bufferLength--;\n      }\n    }\n\n    var arraybuffer = new ArrayBuffer(bufferLength),\n    bytes = new Uint8Array(arraybuffer);\n\n    for (i = 0; i < len; i+=4) {\n      encoded1 = chars.indexOf(base64[i]);\n      encoded2 = chars.indexOf(base64[i+1]);\n      encoded3 = chars.indexOf(base64[i+2]);\n      encoded4 = chars.indexOf(base64[i+3]);\n\n      bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n      bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n      bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n\n    return arraybuffer;\n  };\n})(\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\");\n\n},{}],14:[function(_dereq_,module,exports){\n(function (global){\n/**\n * Create a blob builder even when vendor prefixes exist\n */\n\nvar BlobBuilder = global.BlobBuilder\n  || global.WebKitBlobBuilder\n  || global.MSBlobBuilder\n  || global.MozBlobBuilder;\n\n/**\n * Check if Blob constructor is supported\n */\n\nvar blobSupported = (function() {\n  try {\n    var a = new Blob(['hi']);\n    return a.size === 2;\n  } catch(e) {\n    return false;\n  }\n})();\n\n/**\n * Check if Blob constructor supports ArrayBufferViews\n * Fails in Safari 6, so we need to map to ArrayBuffers there.\n */\n\nvar blobSupportsArrayBufferView = blobSupported && (function() {\n  try {\n    var b = new Blob([new Uint8Array([1,2])]);\n    return b.size === 2;\n  } catch(e) {\n    return false;\n  }\n})();\n\n/**\n * Check if BlobBuilder is supported\n */\n\nvar blobBuilderSupported = BlobBuilder\n  && BlobBuilder.prototype.append\n  && BlobBuilder.prototype.getBlob;\n\n/**\n * Helper function that maps ArrayBufferViews to ArrayBuffers\n * Used by BlobBuilder constructor and old browsers that didn't\n * support it in the Blob constructor.\n */\n\nfunction mapArrayBufferViews(ary) {\n  for (var i = 0; i < ary.length; i++) {\n    var chunk = ary[i];\n    if (chunk.buffer instanceof ArrayBuffer) {\n      var buf = chunk.buffer;\n\n      // if this is a subarray, make a copy so we only\n      // include the subarray region from the underlying buffer\n      if (chunk.byteLength !== buf.byteLength) {\n        var copy = new Uint8Array(chunk.byteLength);\n        copy.set(new Uint8Array(buf, chunk.byteOffset, chunk.byteLength));\n        buf = copy.buffer;\n      }\n\n      ary[i] = buf;\n    }\n  }\n}\n\nfunction BlobBuilderConstructor(ary, options) {\n  options = options || {};\n\n  var bb = new BlobBuilder();\n  mapArrayBufferViews(ary);\n\n  for (var i = 0; i < ary.length; i++) {\n    bb.append(ary[i]);\n  }\n\n  return (options.type) ? bb.getBlob(options.type) : bb.getBlob();\n};\n\nfunction BlobConstructor(ary, options) {\n  mapArrayBufferViews(ary);\n  return new Blob(ary, options || {});\n};\n\nmodule.exports = (function() {\n  if (blobSupported) {\n    return blobSupportsArrayBufferView ? global.Blob : BlobConstructor;\n  } else if (blobBuilderSupported) {\n    return BlobBuilderConstructor;\n  } else {\n    return undefined;\n  }\n})();\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n},{}],15:[function(_dereq_,module,exports){\n\n/**\n * Expose `Emitter`.\n */\n\nmodule.exports = Emitter;\n\n/**\n * Initialize a new `Emitter`.\n *\n * @api public\n */\n\nfunction Emitter(obj) {\n  if (obj) return mixin(obj);\n};\n\n/**\n * Mixin the emitter properties.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\nfunction mixin(obj) {\n  for (var key in Emitter.prototype) {\n    obj[key] = Emitter.prototype[key];\n  }\n  return obj;\n}\n\n/**\n * Listen on the given `event` with `fn`.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.on =\nEmitter.prototype.addEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n  (this._callbacks[event] = this._callbacks[event] || [])\n    .push(fn);\n  return this;\n};\n\n/**\n * Adds an `event` listener that will be invoked a single\n * time then automatically removed.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.once = function(event, fn){\n  var self = this;\n  this._callbacks = this._callbacks || {};\n\n  function on() {\n    self.off(event, on);\n    fn.apply(this, arguments);\n  }\n\n  on.fn = fn;\n  this.on(event, on);\n  return this;\n};\n\n/**\n * Remove the given callback for `event` or all\n * registered callbacks.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.off =\nEmitter.prototype.removeListener =\nEmitter.prototype.removeAllListeners =\nEmitter.prototype.removeEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n\n  // all\n  if (0 == arguments.length) {\n    this._callbacks = {};\n    return this;\n  }\n\n  // specific event\n  var callbacks = this._callbacks[event];\n  if (!callbacks) return this;\n\n  // remove all handlers\n  if (1 == arguments.length) {\n    delete this._callbacks[event];\n    return this;\n  }\n\n  // remove specific handler\n  var cb;\n  for (var i = 0; i < callbacks.length; i++) {\n    cb = callbacks[i];\n    if (cb === fn || cb.fn === fn) {\n      callbacks.splice(i, 1);\n      break;\n    }\n  }\n  return this;\n};\n\n/**\n * Emit `event` with the given args.\n *\n * @param {String} event\n * @param {Mixed} ...\n * @return {Emitter}\n */\n\nEmitter.prototype.emit = function(event){\n  this._callbacks = this._callbacks || {};\n  var args = [].slice.call(arguments, 1)\n    , callbacks = this._callbacks[event];\n\n  if (callbacks) {\n    callbacks = callbacks.slice(0);\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\n      callbacks[i].apply(this, args);\n    }\n  }\n\n  return this;\n};\n\n/**\n * Return array of callbacks for `event`.\n *\n * @param {String} event\n * @return {Array}\n * @api public\n */\n\nEmitter.prototype.listeners = function(event){\n  this._callbacks = this._callbacks || {};\n  return this._callbacks[event] || [];\n};\n\n/**\n * Check if this emitter has `event` handlers.\n *\n * @param {String} event\n * @return {Boolean}\n * @api public\n */\n\nEmitter.prototype.hasListeners = function(event){\n  return !! this.listeners(event).length;\n};\n\n},{}],16:[function(_dereq_,module,exports){\n\nmodule.exports = function(a, b){\n  var fn = function(){};\n  fn.prototype = b.prototype;\n  a.prototype = new fn;\n  a.prototype.constructor = a;\n};\n},{}],17:[function(_dereq_,module,exports){\n\n/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = _dereq_('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  'lightseagreen',\n  'forestgreen',\n  'goldenrod',\n  'dodgerblue',\n  'darkorchid',\n  'crimson'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  return ('WebkitAppearance' in document.documentElement.style) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (window.console && (console.firebug || (console.exception && console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31);\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  return JSON.stringify(v);\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs() {\n  var args = arguments;\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return args;\n\n  var c = 'color: ' + this.color;\n  args = [args[0], c, 'color: inherit'].concat(Array.prototype.slice.call(args, 1));\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n  return args;\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage(){\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n\n},{\"./debug\":18}],18:[function(_dereq_,module,exports){\n\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = debug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = _dereq_('ms');\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lowercased letter, i.e. \"n\".\n */\n\nexports.formatters = {};\n\n/**\n * Previously assigned color.\n */\n\nvar prevColor = 0;\n\n/**\n * Previous log timestamp.\n */\n\nvar prevTime;\n\n/**\n * Select a color.\n *\n * @return {Number}\n * @api private\n */\n\nfunction selectColor() {\n  return exports.colors[prevColor++ % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction debug(namespace) {\n\n  // define the `disabled` version\n  function disabled() {\n  }\n  disabled.enabled = false;\n\n  // define the `enabled` version\n  function enabled() {\n\n    var self = enabled;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // add the `color` if not set\n    if (null == self.useColors) self.useColors = exports.useColors();\n    if (null == self.color && self.useColors) self.color = selectColor();\n\n    var args = Array.prototype.slice.call(arguments);\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %o\n      args = ['%o'].concat(args);\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    if ('function' === typeof exports.formatArgs) {\n      args = exports.formatArgs.apply(self, args);\n    }\n    var logFn = enabled.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n  enabled.enabled = true;\n\n  var fn = exports.enabled(namespace) ? enabled : disabled;\n\n  fn.namespace = namespace;\n\n  return fn;\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  var split = (namespaces || '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (var i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n\n},{\"ms\":25}],19:[function(_dereq_,module,exports){\n(function (global){\n/**\n * Module dependencies.\n */\n\nvar keys = _dereq_('./keys');\nvar hasBinary = _dereq_('has-binary');\nvar sliceBuffer = _dereq_('arraybuffer.slice');\nvar base64encoder = _dereq_('base64-arraybuffer');\nvar after = _dereq_('after');\nvar utf8 = _dereq_('utf8');\n\n/**\n * Check if we are running an android browser. That requires us to use\n * ArrayBuffer with polling transports...\n *\n * http://ghinda.net/jpeg-blob-ajax-android/\n */\n\nvar isAndroid = navigator.userAgent.match(/Android/i);\n\n/**\n * Check if we are running in PhantomJS.\n * Uploading a Blob with PhantomJS does not work correctly, as reported here:\n * https://github.com/ariya/phantomjs/issues/11395\n * @type boolean\n */\nvar isPhantomJS = /PhantomJS/i.test(navigator.userAgent);\n\n/**\n * When true, avoids using Blobs to encode payloads.\n * @type boolean\n */\nvar dontSendBlobs = isAndroid || isPhantomJS;\n\n/**\n * Current protocol version.\n */\n\nexports.protocol = 3;\n\n/**\n * Packet types.\n */\n\nvar packets = exports.packets = {\n    open:     0    // non-ws\n  , close:    1    // non-ws\n  , ping:     2\n  , pong:     3\n  , message:  4\n  , upgrade:  5\n  , noop:     6\n};\n\nvar packetslist = keys(packets);\n\n/**\n * Premade error packet.\n */\n\nvar err = { type: 'error', data: 'parser error' };\n\n/**\n * Create a blob api even for blob builder when vendor prefixes exist\n */\n\nvar Blob = _dereq_('blob');\n\n/**\n * Encodes a packet.\n *\n *     <packet type id> [ <data> ]\n *\n * Example:\n *\n *     5hello world\n *     3\n *     4\n *\n * Binary is encoded in an identical principle\n *\n * @api private\n */\n\nexports.encodePacket = function (packet, supportsBinary, utf8encode, callback) {\n  if ('function' == typeof supportsBinary) {\n    callback = supportsBinary;\n    supportsBinary = false;\n  }\n\n  if ('function' == typeof utf8encode) {\n    callback = utf8encode;\n    utf8encode = null;\n  }\n\n  var data = (packet.data === undefined)\n    ? undefined\n    : packet.data.buffer || packet.data;\n\n  if (global.ArrayBuffer && data instanceof ArrayBuffer) {\n    return encodeArrayBuffer(packet, supportsBinary, callback);\n  } else if (Blob && data instanceof global.Blob) {\n    return encodeBlob(packet, supportsBinary, callback);\n  }\n\n  // might be an object with { base64: true, data: dataAsBase64String }\n  if (data && data.base64) {\n    return encodeBase64Object(packet, callback);\n  }\n\n  // Sending data as a utf-8 string\n  var encoded = packets[packet.type];\n\n  // data fragment is optional\n  if (undefined !== packet.data) {\n    encoded += utf8encode ? utf8.encode(String(packet.data)) : String(packet.data);\n  }\n\n  return callback('' + encoded);\n\n};\n\nfunction encodeBase64Object(packet, callback) {\n  // packet data is an object { base64: true, data: dataAsBase64String }\n  var message = 'b' + exports.packets[packet.type] + packet.data.data;\n  return callback(message);\n}\n\n/**\n * Encode packet helpers for binary types\n */\n\nfunction encodeArrayBuffer(packet, supportsBinary, callback) {\n  if (!supportsBinary) {\n    return exports.encodeBase64Packet(packet, callback);\n  }\n\n  var data = packet.data;\n  var contentArray = new Uint8Array(data);\n  var resultBuffer = new Uint8Array(1 + data.byteLength);\n\n  resultBuffer[0] = packets[packet.type];\n  for (var i = 0; i < contentArray.length; i++) {\n    resultBuffer[i+1] = contentArray[i];\n  }\n\n  return callback(resultBuffer.buffer);\n}\n\nfunction encodeBlobAsArrayBuffer(packet, supportsBinary, callback) {\n  if (!supportsBinary) {\n    return exports.encodeBase64Packet(packet, callback);\n  }\n\n  var fr = new FileReader();\n  fr.onload = function() {\n    packet.data = fr.result;\n    exports.encodePacket(packet, supportsBinary, true, callback);\n  };\n  return fr.readAsArrayBuffer(packet.data);\n}\n\nfunction encodeBlob(packet, supportsBinary, callback) {\n  if (!supportsBinary) {\n    return exports.encodeBase64Packet(packet, callback);\n  }\n\n  if (dontSendBlobs) {\n    return encodeBlobAsArrayBuffer(packet, supportsBinary, callback);\n  }\n\n  var length = new Uint8Array(1);\n  length[0] = packets[packet.type];\n  var blob = new Blob([length.buffer, packet.data]);\n\n  return callback(blob);\n}\n\n/**\n * Encodes a packet with binary data in a base64 string\n *\n * @param {Object} packet, has `type` and `data`\n * @return {String} base64 encoded message\n */\n\nexports.encodeBase64Packet = function(packet, callback) {\n  var message = 'b' + exports.packets[packet.type];\n  if (Blob && packet.data instanceof global.Blob) {\n    var fr = new FileReader();\n    fr.onload = function() {\n      var b64 = fr.result.split(',')[1];\n      callback(message + b64);\n    };\n    return fr.readAsDataURL(packet.data);\n  }\n\n  var b64data;\n  try {\n    b64data = String.fromCharCode.apply(null, new Uint8Array(packet.data));\n  } catch (e) {\n    // iPhone Safari doesn't let you apply with typed arrays\n    var typed = new Uint8Array(packet.data);\n    var basic = new Array(typed.length);\n    for (var i = 0; i < typed.length; i++) {\n      basic[i] = typed[i];\n    }\n    b64data = String.fromCharCode.apply(null, basic);\n  }\n  message += global.btoa(b64data);\n  return callback(message);\n};\n\n/**\n * Decodes a packet. Changes format to Blob if requested.\n *\n * @return {Object} with `type` and `data` (if any)\n * @api private\n */\n\nexports.decodePacket = function (data, binaryType, utf8decode) {\n  // String data\n  if (typeof data == 'string' || data === undefined) {\n    if (data.charAt(0) == 'b') {\n      return exports.decodeBase64Packet(data.substr(1), binaryType);\n    }\n\n    if (utf8decode) {\n      try {\n        data = utf8.decode(data);\n      } catch (e) {\n        return err;\n      }\n    }\n    var type = data.charAt(0);\n\n    if (Number(type) != type || !packetslist[type]) {\n      return err;\n    }\n\n    if (data.length > 1) {\n      return { type: packetslist[type], data: data.substring(1) };\n    } else {\n      return { type: packetslist[type] };\n    }\n  }\n\n  var asArray = new Uint8Array(data);\n  var type = asArray[0];\n  var rest = sliceBuffer(data, 1);\n  if (Blob && binaryType === 'blob') {\n    rest = new Blob([rest]);\n  }\n  return { type: packetslist[type], data: rest };\n};\n\n/**\n * Decodes a packet encoded in a base64 string\n *\n * @param {String} base64 encoded message\n * @return {Object} with `type` and `data` (if any)\n */\n\nexports.decodeBase64Packet = function(msg, binaryType) {\n  var type = packetslist[msg.charAt(0)];\n  if (!global.ArrayBuffer) {\n    return { type: type, data: { base64: true, data: msg.substr(1) } };\n  }\n\n  var data = base64encoder.decode(msg.substr(1));\n\n  if (binaryType === 'blob' && Blob) {\n    data = new Blob([data]);\n  }\n\n  return { type: type, data: data };\n};\n\n/**\n * Encodes multiple messages (payload).\n *\n *     <length>:data\n *\n * Example:\n *\n *     11:hello world2:hi\n *\n * If any contents are binary, they will be encoded as base64 strings. Base64\n * encoded strings are marked with a b before the length specifier\n *\n * @param {Array} packets\n * @api private\n */\n\nexports.encodePayload = function (packets, supportsBinary, callback) {\n  if (typeof supportsBinary == 'function') {\n    callback = supportsBinary;\n    supportsBinary = null;\n  }\n\n  var isBinary = hasBinary(packets);\n\n  if (supportsBinary && isBinary) {\n    if (Blob && !dontSendBlobs) {\n      return exports.encodePayloadAsBlob(packets, callback);\n    }\n\n    return exports.encodePayloadAsArrayBuffer(packets, callback);\n  }\n\n  if (!packets.length) {\n    return callback('0:');\n  }\n\n  function setLengthHeader(message) {\n    return message.length + ':' + message;\n  }\n\n  function encodeOne(packet, doneCallback) {\n    exports.encodePacket(packet, !isBinary ? false : supportsBinary, true, function(message) {\n      doneCallback(null, setLengthHeader(message));\n    });\n  }\n\n  map(packets, encodeOne, function(err, results) {\n    return callback(results.join(''));\n  });\n};\n\n/**\n * Async array map using after\n */\n\nfunction map(ary, each, done) {\n  var result = new Array(ary.length);\n  var next = after(ary.length, done);\n\n  var eachWithIndex = function(i, el, cb) {\n    each(el, function(error, msg) {\n      result[i] = msg;\n      cb(error, result);\n    });\n  };\n\n  for (var i = 0; i < ary.length; i++) {\n    eachWithIndex(i, ary[i], next);\n  }\n}\n\n/*\n * Decodes data when a payload is maybe expected. Possible binary contents are\n * decoded from their base64 representation\n *\n * @param {String} data, callback method\n * @api public\n */\n\nexports.decodePayload = function (data, binaryType, callback) {\n  if (typeof data != 'string') {\n    return exports.decodePayloadAsBinary(data, binaryType, callback);\n  }\n\n  if (typeof binaryType === 'function') {\n    callback = binaryType;\n    binaryType = null;\n  }\n\n  var packet;\n  if (data == '') {\n    // parser error - ignoring payload\n    return callback(err, 0, 1);\n  }\n\n  var length = ''\n    , n, msg;\n\n  for (var i = 0, l = data.length; i < l; i++) {\n    var chr = data.charAt(i);\n\n    if (':' != chr) {\n      length += chr;\n    } else {\n      if ('' == length || (length != (n = Number(length)))) {\n        // parser error - ignoring payload\n        return callback(err, 0, 1);\n      }\n\n      msg = data.substr(i + 1, n);\n\n      if (length != msg.length) {\n        // parser error - ignoring payload\n        return callback(err, 0, 1);\n      }\n\n      if (msg.length) {\n        packet = exports.decodePacket(msg, binaryType, true);\n\n        if (err.type == packet.type && err.data == packet.data) {\n          // parser error in individual packet - ignoring payload\n          return callback(err, 0, 1);\n        }\n\n        var ret = callback(packet, i + n, l);\n        if (false === ret) return;\n      }\n\n      // advance cursor\n      i += n;\n      length = '';\n    }\n  }\n\n  if (length != '') {\n    // parser error - ignoring payload\n    return callback(err, 0, 1);\n  }\n\n};\n\n/**\n * Encodes multiple messages (payload) as binary.\n *\n * <1 = binary, 0 = string><number from 0-9><number from 0-9>[...]<number\n * 255><data>\n *\n * Example:\n * 1 3 255 1 2 3, if the binary contents are interpreted as 8 bit integers\n *\n * @param {Array} packets\n * @return {ArrayBuffer} encoded payload\n * @api private\n */\n\nexports.encodePayloadAsArrayBuffer = function(packets, callback) {\n  if (!packets.length) {\n    return callback(new ArrayBuffer(0));\n  }\n\n  function encodeOne(packet, doneCallback) {\n    exports.encodePacket(packet, true, true, function(data) {\n      return doneCallback(null, data);\n    });\n  }\n\n  map(packets, encodeOne, function(err, encodedPackets) {\n    var totalLength = encodedPackets.reduce(function(acc, p) {\n      var len;\n      if (typeof p === 'string'){\n        len = p.length;\n      } else {\n        len = p.byteLength;\n      }\n      return acc + len.toString().length + len + 2; // string/binary identifier + separator = 2\n    }, 0);\n\n    var resultArray = new Uint8Array(totalLength);\n\n    var bufferIndex = 0;\n    encodedPackets.forEach(function(p) {\n      var isString = typeof p === 'string';\n      var ab = p;\n      if (isString) {\n        var view = new Uint8Array(p.length);\n        for (var i = 0; i < p.length; i++) {\n          view[i] = p.charCodeAt(i);\n        }\n        ab = view.buffer;\n      }\n\n      if (isString) { // not true binary\n        resultArray[bufferIndex++] = 0;\n      } else { // true binary\n        resultArray[bufferIndex++] = 1;\n      }\n\n      var lenStr = ab.byteLength.toString();\n      for (var i = 0; i < lenStr.length; i++) {\n        resultArray[bufferIndex++] = parseInt(lenStr[i]);\n      }\n      resultArray[bufferIndex++] = 255;\n\n      var view = new Uint8Array(ab);\n      for (var i = 0; i < view.length; i++) {\n        resultArray[bufferIndex++] = view[i];\n      }\n    });\n\n    return callback(resultArray.buffer);\n  });\n};\n\n/**\n * Encode as Blob\n */\n\nexports.encodePayloadAsBlob = function(packets, callback) {\n  function encodeOne(packet, doneCallback) {\n    exports.encodePacket(packet, true, true, function(encoded) {\n      var binaryIdentifier = new Uint8Array(1);\n      binaryIdentifier[0] = 1;\n      if (typeof encoded === 'string') {\n        var view = new Uint8Array(encoded.length);\n        for (var i = 0; i < encoded.length; i++) {\n          view[i] = encoded.charCodeAt(i);\n        }\n        encoded = view.buffer;\n        binaryIdentifier[0] = 0;\n      }\n\n      var len = (encoded instanceof ArrayBuffer)\n        ? encoded.byteLength\n        : encoded.size;\n\n      var lenStr = len.toString();\n      var lengthAry = new Uint8Array(lenStr.length + 1);\n      for (var i = 0; i < lenStr.length; i++) {\n        lengthAry[i] = parseInt(lenStr[i]);\n      }\n      lengthAry[lenStr.length] = 255;\n\n      if (Blob) {\n        var blob = new Blob([binaryIdentifier.buffer, lengthAry.buffer, encoded]);\n        doneCallback(null, blob);\n      }\n    });\n  }\n\n  map(packets, encodeOne, function(err, results) {\n    return callback(new Blob(results));\n  });\n};\n\n/*\n * Decodes data when a payload is maybe expected. Strings are decoded by\n * interpreting each byte as a key code for entries marked to start with 0. See\n * description of encodePayloadAsBinary\n *\n * @param {ArrayBuffer} data, callback method\n * @api public\n */\n\nexports.decodePayloadAsBinary = function (data, binaryType, callback) {\n  if (typeof binaryType === 'function') {\n    callback = binaryType;\n    binaryType = null;\n  }\n\n  var bufferTail = data;\n  var buffers = [];\n\n  var numberTooLong = false;\n  while (bufferTail.byteLength > 0) {\n    var tailArray = new Uint8Array(bufferTail);\n    var isString = tailArray[0] === 0;\n    var msgLength = '';\n\n    for (var i = 1; ; i++) {\n      if (tailArray[i] == 255) break;\n\n      if (msgLength.length > 310) {\n        numberTooLong = true;\n        break;\n      }\n\n      msgLength += tailArray[i];\n    }\n\n    if(numberTooLong) return callback(err, 0, 1);\n\n    bufferTail = sliceBuffer(bufferTail, 2 + msgLength.length);\n    msgLength = parseInt(msgLength);\n\n    var msg = sliceBuffer(bufferTail, 0, msgLength);\n    if (isString) {\n      try {\n        msg = String.fromCharCode.apply(null, new Uint8Array(msg));\n      } catch (e) {\n        // iPhone Safari doesn't let you apply to typed arrays\n        var typed = new Uint8Array(msg);\n        msg = '';\n        for (var i = 0; i < typed.length; i++) {\n          msg += String.fromCharCode(typed[i]);\n        }\n      }\n    }\n\n    buffers.push(msg);\n    bufferTail = sliceBuffer(bufferTail, msgLength);\n  }\n\n  var total = buffers.length;\n  buffers.forEach(function(buffer, i) {\n    callback(exports.decodePacket(buffer, binaryType, true), i, total);\n  });\n};\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n},{\"./keys\":20,\"after\":11,\"arraybuffer.slice\":12,\"base64-arraybuffer\":13,\"blob\":14,\"has-binary\":21,\"utf8\":29}],20:[function(_dereq_,module,exports){\n\n/**\n * Gets the keys for an object.\n *\n * @return {Array} keys\n * @api private\n */\n\nmodule.exports = Object.keys || function keys (obj){\n  var arr = [];\n  var has = Object.prototype.hasOwnProperty;\n\n  for (var i in obj) {\n    if (has.call(obj, i)) {\n      arr.push(i);\n    }\n  }\n  return arr;\n};\n\n},{}],21:[function(_dereq_,module,exports){\n(function (global){\n\n/*\n * Module requirements.\n */\n\nvar isArray = _dereq_('isarray');\n\n/**\n * Module exports.\n */\n\nmodule.exports = hasBinary;\n\n/**\n * Checks for binary data.\n *\n * Right now only Buffer and ArrayBuffer are supported..\n *\n * @param {Object} anything\n * @api public\n */\n\nfunction hasBinary(data) {\n\n  function _hasBinary(obj) {\n    if (!obj) return false;\n\n    if ( (global.Buffer && global.Buffer.isBuffer(obj)) ||\n         (global.ArrayBuffer && obj instanceof ArrayBuffer) ||\n         (global.Blob && obj instanceof Blob) ||\n         (global.File && obj instanceof File)\n        ) {\n      return true;\n    }\n\n    if (isArray(obj)) {\n      for (var i = 0; i < obj.length; i++) {\n          if (_hasBinary(obj[i])) {\n              return true;\n          }\n      }\n    } else if (obj && 'object' == typeof obj) {\n      if (obj.toJSON) {\n        obj = obj.toJSON();\n      }\n\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key) && _hasBinary(obj[key])) {\n          return true;\n        }\n      }\n    }\n\n    return false;\n  }\n\n  return _hasBinary(data);\n}\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n},{\"isarray\":24}],22:[function(_dereq_,module,exports){\n\n/**\n * Module exports.\n *\n * Logic borrowed from Modernizr:\n *\n *   - https://github.com/Modernizr/Modernizr/blob/master/feature-detects/cors.js\n */\n\ntry {\n  module.exports = typeof XMLHttpRequest !== 'undefined' &&\n    'withCredentials' in new XMLHttpRequest();\n} catch (err) {\n  // if XMLHttp support is disabled in IE then it will throw\n  // when trying to create\n  module.exports = false;\n}\n\n},{}],23:[function(_dereq_,module,exports){\n\nvar indexOf = [].indexOf;\n\nmodule.exports = function(arr, obj){\n  if (indexOf) return arr.indexOf(obj);\n  for (var i = 0; i < arr.length; ++i) {\n    if (arr[i] === obj) return i;\n  }\n  return -1;\n};\n},{}],24:[function(_dereq_,module,exports){\nmodule.exports = Array.isArray || function (arr) {\n  return Object.prototype.toString.call(arr) == '[object Array]';\n};\n\n},{}],25:[function(_dereq_,module,exports){\n/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} options\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options){\n  options = options || {};\n  if ('string' == typeof val) return parse(val);\n  return options.long\n    ? long(val)\n    : short(val);\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = '' + str;\n  if (str.length > 10000) return;\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(str);\n  if (!match) return;\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction short(ms) {\n  if (ms >= d) return Math.round(ms / d) + 'd';\n  if (ms >= h) return Math.round(ms / h) + 'h';\n  if (ms >= m) return Math.round(ms / m) + 'm';\n  if (ms >= s) return Math.round(ms / s) + 's';\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction long(ms) {\n  return plural(ms, d, 'day')\n    || plural(ms, h, 'hour')\n    || plural(ms, m, 'minute')\n    || plural(ms, s, 'second')\n    || ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) return;\n  if (ms < n * 1.5) return Math.floor(ms / n) + ' ' + name;\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n\n},{}],26:[function(_dereq_,module,exports){\n(function (global){\n/**\n * JSON parse.\n *\n * @see Based on jQuery#parseJSON (MIT) and JSON2\n * @api private\n */\n\nvar rvalidchars = /^[\\],:{}\\s]*$/;\nvar rvalidescape = /\\\\(?:[\"\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g;\nvar rvalidtokens = /\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g;\nvar rvalidbraces = /(?:^|:|,)(?:\\s*\\[)+/g;\nvar rtrimLeft = /^\\s+/;\nvar rtrimRight = /\\s+$/;\n\nmodule.exports = function parsejson(data) {\n  if ('string' != typeof data || !data) {\n    return null;\n  }\n\n  data = data.replace(rtrimLeft, '').replace(rtrimRight, '');\n\n  // Attempt to parse using the native JSON parser first\n  if (global.JSON && JSON.parse) {\n    return JSON.parse(data);\n  }\n\n  if (rvalidchars.test(data.replace(rvalidescape, '@')\n      .replace(rvalidtokens, ']')\n      .replace(rvalidbraces, ''))) {\n    return (new Function('return ' + data))();\n  }\n};\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n},{}],27:[function(_dereq_,module,exports){\n/**\n * Compiles a querystring\n * Returns string representation of the object\n *\n * @param {Object}\n * @api private\n */\n\nexports.encode = function (obj) {\n  var str = '';\n\n  for (var i in obj) {\n    if (obj.hasOwnProperty(i)) {\n      if (str.length) str += '&';\n      str += encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]);\n    }\n  }\n\n  return str;\n};\n\n/**\n * Parses a simple querystring into an object\n *\n * @param {String} qs\n * @api private\n */\n\nexports.decode = function(qs){\n  var qry = {};\n  var pairs = qs.split('&');\n  for (var i = 0, l = pairs.length; i < l; i++) {\n    var pair = pairs[i].split('=');\n    qry[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\n  }\n  return qry;\n};\n\n},{}],28:[function(_dereq_,module,exports){\n/**\n * Parses an URI\n *\n * @author Steven Levithan <stevenlevithan.com> (MIT license)\n * @api private\n */\n\nvar re = /^(?:(?![^:@]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\n\nvar parts = [\n    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'\n];\n\nmodule.exports = function parseuri(str) {\n    var src = str,\n        b = str.indexOf('['),\n        e = str.indexOf(']');\n\n    if (b != -1 && e != -1) {\n        str = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);\n    }\n\n    var m = re.exec(str || ''),\n        uri = {},\n        i = 14;\n\n    while (i--) {\n        uri[parts[i]] = m[i] || '';\n    }\n\n    if (b != -1 && e != -1) {\n        uri.source = src;\n        uri.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');\n        uri.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');\n        uri.ipv6uri = true;\n    }\n\n    return uri;\n};\n\n},{}],29:[function(_dereq_,module,exports){\n(function (global){\n/*! https://mths.be/utf8js v2.0.0 by @mathias */\n;(function(root) {\n\n\t// Detect free variables `exports`\n\tvar freeExports = typeof exports == 'object' && exports;\n\n\t// Detect free variable `module`\n\tvar freeModule = typeof module == 'object' && module &&\n\t\tmodule.exports == freeExports && module;\n\n\t// Detect free variable `global`, from Node.js or Browserified code,\n\t// and use it as `root`\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal) {\n\t\troot = freeGlobal;\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tvar stringFromCharCode = String.fromCharCode;\n\n\t// Taken from https://mths.be/punycode\n\tfunction ucs2decode(string) {\n\t\tvar output = [];\n\t\tvar counter = 0;\n\t\tvar length = string.length;\n\t\tvar value;\n\t\tvar extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t// Taken from https://mths.be/punycode\n\tfunction ucs2encode(array) {\n\t\tvar length = array.length;\n\t\tvar index = -1;\n\t\tvar value;\n\t\tvar output = '';\n\t\twhile (++index < length) {\n\t\t\tvalue = array[index];\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t}\n\t\treturn output;\n\t}\n\n\tfunction checkScalarValue(codePoint) {\n\t\tif (codePoint >= 0xD800 && codePoint <= 0xDFFF) {\n\t\t\tthrow Error(\n\t\t\t\t'Lone surrogate U+' + codePoint.toString(16).toUpperCase() +\n\t\t\t\t' is not a scalar value'\n\t\t\t);\n\t\t}\n\t}\n\t/*--------------------------------------------------------------------------*/\n\n\tfunction createByte(codePoint, shift) {\n\t\treturn stringFromCharCode(((codePoint >> shift) & 0x3F) | 0x80);\n\t}\n\n\tfunction encodeCodePoint(codePoint) {\n\t\tif ((codePoint & 0xFFFFFF80) == 0) { // 1-byte sequence\n\t\t\treturn stringFromCharCode(codePoint);\n\t\t}\n\t\tvar symbol = '';\n\t\tif ((codePoint & 0xFFFFF800) == 0) { // 2-byte sequence\n\t\t\tsymbol = stringFromCharCode(((codePoint >> 6) & 0x1F) | 0xC0);\n\t\t}\n\t\telse if ((codePoint & 0xFFFF0000) == 0) { // 3-byte sequence\n\t\t\tcheckScalarValue(codePoint);\n\t\t\tsymbol = stringFromCharCode(((codePoint >> 12) & 0x0F) | 0xE0);\n\t\t\tsymbol += createByte(codePoint, 6);\n\t\t}\n\t\telse if ((codePoint & 0xFFE00000) == 0) { // 4-byte sequence\n\t\t\tsymbol = stringFromCharCode(((codePoint >> 18) & 0x07) | 0xF0);\n\t\t\tsymbol += createByte(codePoint, 12);\n\t\t\tsymbol += createByte(codePoint, 6);\n\t\t}\n\t\tsymbol += stringFromCharCode((codePoint & 0x3F) | 0x80);\n\t\treturn symbol;\n\t}\n\n\tfunction utf8encode(string) {\n\t\tvar codePoints = ucs2decode(string);\n\t\tvar length = codePoints.length;\n\t\tvar index = -1;\n\t\tvar codePoint;\n\t\tvar byteString = '';\n\t\twhile (++index < length) {\n\t\t\tcodePoint = codePoints[index];\n\t\t\tbyteString += encodeCodePoint(codePoint);\n\t\t}\n\t\treturn byteString;\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tfunction readContinuationByte() {\n\t\tif (byteIndex >= byteCount) {\n\t\t\tthrow Error('Invalid byte index');\n\t\t}\n\n\t\tvar continuationByte = byteArray[byteIndex] & 0xFF;\n\t\tbyteIndex++;\n\n\t\tif ((continuationByte & 0xC0) == 0x80) {\n\t\t\treturn continuationByte & 0x3F;\n\t\t}\n\n\t\t// If we end up here, its not a continuation byte\n\t\tthrow Error('Invalid continuation byte');\n\t}\n\n\tfunction decodeSymbol() {\n\t\tvar byte1;\n\t\tvar byte2;\n\t\tvar byte3;\n\t\tvar byte4;\n\t\tvar codePoint;\n\n\t\tif (byteIndex > byteCount) {\n\t\t\tthrow Error('Invalid byte index');\n\t\t}\n\n\t\tif (byteIndex == byteCount) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Read first byte\n\t\tbyte1 = byteArray[byteIndex] & 0xFF;\n\t\tbyteIndex++;\n\n\t\t// 1-byte sequence (no continuation bytes)\n\t\tif ((byte1 & 0x80) == 0) {\n\t\t\treturn byte1;\n\t\t}\n\n\t\t// 2-byte sequence\n\t\tif ((byte1 & 0xE0) == 0xC0) {\n\t\t\tvar byte2 = readContinuationByte();\n\t\t\tcodePoint = ((byte1 & 0x1F) << 6) | byte2;\n\t\t\tif (codePoint >= 0x80) {\n\t\t\t\treturn codePoint;\n\t\t\t} else {\n\t\t\t\tthrow Error('Invalid continuation byte');\n\t\t\t}\n\t\t}\n\n\t\t// 3-byte sequence (may include unpaired surrogates)\n\t\tif ((byte1 & 0xF0) == 0xE0) {\n\t\t\tbyte2 = readContinuationByte();\n\t\t\tbyte3 = readContinuationByte();\n\t\t\tcodePoint = ((byte1 & 0x0F) << 12) | (byte2 << 6) | byte3;\n\t\t\tif (codePoint >= 0x0800) {\n\t\t\t\tcheckScalarValue(codePoint);\n\t\t\t\treturn codePoint;\n\t\t\t} else {\n\t\t\t\tthrow Error('Invalid continuation byte');\n\t\t\t}\n\t\t}\n\n\t\t// 4-byte sequence\n\t\tif ((byte1 & 0xF8) == 0xF0) {\n\t\t\tbyte2 = readContinuationByte();\n\t\t\tbyte3 = readContinuationByte();\n\t\t\tbyte4 = readContinuationByte();\n\t\t\tcodePoint = ((byte1 & 0x0F) << 0x12) | (byte2 << 0x0C) |\n\t\t\t\t(byte3 << 0x06) | byte4;\n\t\t\tif (codePoint >= 0x010000 && codePoint <= 0x10FFFF) {\n\t\t\t\treturn codePoint;\n\t\t\t}\n\t\t}\n\n\t\tthrow Error('Invalid UTF-8 detected');\n\t}\n\n\tvar byteArray;\n\tvar byteCount;\n\tvar byteIndex;\n\tfunction utf8decode(byteString) {\n\t\tbyteArray = ucs2decode(byteString);\n\t\tbyteCount = byteArray.length;\n\t\tbyteIndex = 0;\n\t\tvar codePoints = [];\n\t\tvar tmp;\n\t\twhile ((tmp = decodeSymbol()) !== false) {\n\t\t\tcodePoints.push(tmp);\n\t\t}\n\t\treturn ucs2encode(codePoints);\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tvar utf8 = {\n\t\t'version': '2.0.0',\n\t\t'encode': utf8encode,\n\t\t'decode': utf8decode\n\t};\n\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine(function() {\n\t\t\treturn utf8;\n\t\t});\n\t}\telse if (freeExports && !freeExports.nodeType) {\n\t\tif (freeModule) { // in Node.js or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = utf8;\n\t\t} else { // in Narwhal or RingoJS v0.7.0-\n\t\t\tvar object = {};\n\t\t\tvar hasOwnProperty = object.hasOwnProperty;\n\t\t\tfor (var key in utf8) {\n\t\t\t\thasOwnProperty.call(utf8, key) && (freeExports[key] = utf8[key]);\n\t\t\t}\n\t\t}\n\t} else { // in Rhino or a web browser\n\t\troot.utf8 = utf8;\n\t}\n\n}(this));\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n},{}],30:[function(_dereq_,module,exports){\n'use strict';\n\nvar alphabet = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_'.split('')\n  , length = 64\n  , map = {}\n  , seed = 0\n  , i = 0\n  , prev;\n\n/**\n * Return a string representing the specified number.\n *\n * @param {Number} num The number to convert.\n * @returns {String} The string representation of the number.\n * @api public\n */\nfunction encode(num) {\n  var encoded = '';\n\n  do {\n    encoded = alphabet[num % length] + encoded;\n    num = Math.floor(num / length);\n  } while (num > 0);\n\n  return encoded;\n}\n\n/**\n * Return the integer value specified by the given string.\n *\n * @param {String} str The string to convert.\n * @returns {Number} The integer value represented by the string.\n * @api public\n */\nfunction decode(str) {\n  var decoded = 0;\n\n  for (i = 0; i < str.length; i++) {\n    decoded = decoded * length + map[str.charAt(i)];\n  }\n\n  return decoded;\n}\n\n/**\n * Yeast: A tiny growing id generator.\n *\n * @returns {String} A unique id.\n * @api public\n */\nfunction yeast() {\n  var now = encode(+new Date());\n\n  if (now !== prev) return seed = 0, prev = now;\n  return now +'.'+ encode(seed++);\n}\n\n//\n// Map each character to its index.\n//\nfor (; i < length; i++) map[alphabet[i]] = i;\n\n//\n// Expose the `yeast`, `encode` and `decode` functions.\n//\nyeast.encode = encode;\nyeast.decode = decode;\nmodule.exports = yeast;\n\n},{}],31:[function(_dereq_,module,exports){\n\n/**\n * Module dependencies.\n */\n\nvar url = _dereq_('./url');\nvar parser = _dereq_('socket.io-parser');\nvar Manager = _dereq_('./manager');\nvar debug = _dereq_('debug')('socket.io-client');\n\n/**\n * Module exports.\n */\n\nmodule.exports = exports = lookup;\n\n/**\n * Managers cache.\n */\n\nvar cache = exports.managers = {};\n\n/**\n * Looks up an existing `Manager` for multiplexing.\n * If the user summons:\n *\n *   `io('http://localhost/a');`\n *   `io('http://localhost/b');`\n *\n * We reuse the existing instance based on same scheme/port/host,\n * and we initialize sockets for each namespace.\n *\n * @api public\n */\n\nfunction lookup(uri, opts) {\n  if (typeof uri == 'object') {\n    opts = uri;\n    uri = undefined;\n  }\n\n  opts = opts || {};\n\n  var parsed = url(uri);\n  var source = parsed.source;\n  var id = parsed.id;\n  var path = parsed.path;\n  var sameNamespace = cache[id] && path in cache[id].nsps;\n  var newConnection = opts.forceNew || opts['force new connection'] ||\n                      false === opts.multiplex || sameNamespace;\n\n  var io;\n\n  if (newConnection) {\n    debug('ignoring socket cache for %s', source);\n    io = Manager(source, opts);\n  } else {\n    if (!cache[id]) {\n      debug('new io instance for %s', source);\n      cache[id] = Manager(source, opts);\n    }\n    io = cache[id];\n  }\n\n  return io.socket(parsed.path);\n}\n\n/**\n * Protocol version.\n *\n * @api public\n */\n\nexports.protocol = parser.protocol;\n\n/**\n * `connect`.\n *\n * @param {String} uri\n * @api public\n */\n\nexports.connect = lookup;\n\n/**\n * Expose constructors for standalone build.\n *\n * @api public\n */\n\nexports.Manager = _dereq_('./manager');\nexports.Socket = _dereq_('./socket');\n\n},{\"./manager\":32,\"./socket\":34,\"./url\":35,\"debug\":39,\"socket.io-parser\":47}],32:[function(_dereq_,module,exports){\n\n/**\n * Module dependencies.\n */\n\nvar eio = _dereq_('engine.io-client');\nvar Socket = _dereq_('./socket');\nvar Emitter = _dereq_('component-emitter');\nvar parser = _dereq_('socket.io-parser');\nvar on = _dereq_('./on');\nvar bind = _dereq_('component-bind');\nvar debug = _dereq_('debug')('socket.io-client:manager');\nvar indexOf = _dereq_('indexof');\nvar Backoff = _dereq_('backo2');\n\n/**\n * IE6+ hasOwnProperty\n */\n\nvar has = Object.prototype.hasOwnProperty;\n\n/**\n * Module exports\n */\n\nmodule.exports = Manager;\n\n/**\n * `Manager` constructor.\n *\n * @param {String} engine instance or engine uri/opts\n * @param {Object} options\n * @api public\n */\n\nfunction Manager(uri, opts){\n  if (!(this instanceof Manager)) return new Manager(uri, opts);\n  if (uri && ('object' == typeof uri)) {\n    opts = uri;\n    uri = undefined;\n  }\n  opts = opts || {};\n\n  opts.path = opts.path || '/socket.io';\n  this.nsps = {};\n  this.subs = [];\n  this.opts = opts;\n  this.reconnection(opts.reconnection !== false);\n  this.reconnectionAttempts(opts.reconnectionAttempts || Infinity);\n  this.reconnectionDelay(opts.reconnectionDelay || 1000);\n  this.reconnectionDelayMax(opts.reconnectionDelayMax || 5000);\n  this.randomizationFactor(opts.randomizationFactor || 0.5);\n  this.backoff = new Backoff({\n    min: this.reconnectionDelay(),\n    max: this.reconnectionDelayMax(),\n    jitter: this.randomizationFactor()\n  });\n  this.timeout(null == opts.timeout ? 20000 : opts.timeout);\n  this.readyState = 'closed';\n  this.uri = uri;\n  this.connecting = [];\n  this.lastPing = null;\n  this.encoding = false;\n  this.packetBuffer = [];\n  this.encoder = new parser.Encoder();\n  this.decoder = new parser.Decoder();\n  this.autoConnect = opts.autoConnect !== false;\n  if (this.autoConnect) this.open();\n}\n\n/**\n * Propagate given event to sockets and emit on `this`\n *\n * @api private\n */\n\nManager.prototype.emitAll = function() {\n  this.emit.apply(this, arguments);\n  for (var nsp in this.nsps) {\n    if (has.call(this.nsps, nsp)) {\n      this.nsps[nsp].emit.apply(this.nsps[nsp], arguments);\n    }\n  }\n};\n\n/**\n * Update `socket.id` of all sockets\n *\n * @api private\n */\n\nManager.prototype.updateSocketIds = function(){\n  for (var nsp in this.nsps) {\n    if (has.call(this.nsps, nsp)) {\n      this.nsps[nsp].id = this.engine.id;\n    }\n  }\n};\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Manager.prototype);\n\n/**\n * Sets the `reconnection` config.\n *\n * @param {Boolean} true/false if it should automatically reconnect\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnection = function(v){\n  if (!arguments.length) return this._reconnection;\n  this._reconnection = !!v;\n  return this;\n};\n\n/**\n * Sets the reconnection attempts config.\n *\n * @param {Number} max reconnection attempts before giving up\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnectionAttempts = function(v){\n  if (!arguments.length) return this._reconnectionAttempts;\n  this._reconnectionAttempts = v;\n  return this;\n};\n\n/**\n * Sets the delay between reconnections.\n *\n * @param {Number} delay\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnectionDelay = function(v){\n  if (!arguments.length) return this._reconnectionDelay;\n  this._reconnectionDelay = v;\n  this.backoff && this.backoff.setMin(v);\n  return this;\n};\n\nManager.prototype.randomizationFactor = function(v){\n  if (!arguments.length) return this._randomizationFactor;\n  this._randomizationFactor = v;\n  this.backoff && this.backoff.setJitter(v);\n  return this;\n};\n\n/**\n * Sets the maximum delay between reconnections.\n *\n * @param {Number} delay\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnectionDelayMax = function(v){\n  if (!arguments.length) return this._reconnectionDelayMax;\n  this._reconnectionDelayMax = v;\n  this.backoff && this.backoff.setMax(v);\n  return this;\n};\n\n/**\n * Sets the connection timeout. `false` to disable\n *\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.timeout = function(v){\n  if (!arguments.length) return this._timeout;\n  this._timeout = v;\n  return this;\n};\n\n/**\n * Starts trying to reconnect if reconnection is enabled and we have not\n * started reconnecting yet\n *\n * @api private\n */\n\nManager.prototype.maybeReconnectOnOpen = function() {\n  // Only try to reconnect if it's the first time we're connecting\n  if (!this.reconnecting && this._reconnection && this.backoff.attempts === 0) {\n    // keeps reconnection from firing twice for the same reconnection loop\n    this.reconnect();\n  }\n};\n\n\n/**\n * Sets the current transport `socket`.\n *\n * @param {Function} optional, callback\n * @return {Manager} self\n * @api public\n */\n\nManager.prototype.open =\nManager.prototype.connect = function(fn){\n  debug('readyState %s', this.readyState);\n  if (~this.readyState.indexOf('open')) return this;\n\n  debug('opening %s', this.uri);\n  this.engine = eio(this.uri, this.opts);\n  var socket = this.engine;\n  var self = this;\n  this.readyState = 'opening';\n  this.skipReconnect = false;\n\n  // emit `open`\n  var openSub = on(socket, 'open', function() {\n    self.onopen();\n    fn && fn();\n  });\n\n  // emit `connect_error`\n  var errorSub = on(socket, 'error', function(data){\n    debug('connect_error');\n    self.cleanup();\n    self.readyState = 'closed';\n    self.emitAll('connect_error', data);\n    if (fn) {\n      var err = new Error('Connection error');\n      err.data = data;\n      fn(err);\n    } else {\n      // Only do this if there is no fn to handle the error\n      self.maybeReconnectOnOpen();\n    }\n  });\n\n  // emit `connect_timeout`\n  if (false !== this._timeout) {\n    var timeout = this._timeout;\n    debug('connect attempt will timeout after %d', timeout);\n\n    // set timer\n    var timer = setTimeout(function(){\n      debug('connect attempt timed out after %d', timeout);\n      openSub.destroy();\n      socket.close();\n      socket.emit('error', 'timeout');\n      self.emitAll('connect_timeout', timeout);\n    }, timeout);\n\n    this.subs.push({\n      destroy: function(){\n        clearTimeout(timer);\n      }\n    });\n  }\n\n  this.subs.push(openSub);\n  this.subs.push(errorSub);\n\n  return this;\n};\n\n/**\n * Called upon transport open.\n *\n * @api private\n */\n\nManager.prototype.onopen = function(){\n  debug('open');\n\n  // clear old subs\n  this.cleanup();\n\n  // mark as open\n  this.readyState = 'open';\n  this.emit('open');\n\n  // add new subs\n  var socket = this.engine;\n  this.subs.push(on(socket, 'data', bind(this, 'ondata')));\n  this.subs.push(on(socket, 'ping', bind(this, 'onping')));\n  this.subs.push(on(socket, 'pong', bind(this, 'onpong')));\n  this.subs.push(on(socket, 'error', bind(this, 'onerror')));\n  this.subs.push(on(socket, 'close', bind(this, 'onclose')));\n  this.subs.push(on(this.decoder, 'decoded', bind(this, 'ondecoded')));\n};\n\n/**\n * Called upon a ping.\n *\n * @api private\n */\n\nManager.prototype.onping = function(){\n  this.lastPing = new Date;\n  this.emitAll('ping');\n};\n\n/**\n * Called upon a packet.\n *\n * @api private\n */\n\nManager.prototype.onpong = function(){\n  this.emitAll('pong', new Date - this.lastPing);\n};\n\n/**\n * Called with data.\n *\n * @api private\n */\n\nManager.prototype.ondata = function(data){\n  this.decoder.add(data);\n};\n\n/**\n * Called when parser fully decodes a packet.\n *\n * @api private\n */\n\nManager.prototype.ondecoded = function(packet) {\n  this.emit('packet', packet);\n};\n\n/**\n * Called upon socket error.\n *\n * @api private\n */\n\nManager.prototype.onerror = function(err){\n  debug('error', err);\n  this.emitAll('error', err);\n};\n\n/**\n * Creates a new socket for the given `nsp`.\n *\n * @return {Socket}\n * @api public\n */\n\nManager.prototype.socket = function(nsp){\n  var socket = this.nsps[nsp];\n  if (!socket) {\n    socket = new Socket(this, nsp);\n    this.nsps[nsp] = socket;\n    var self = this;\n    socket.on('connecting', onConnecting);\n    socket.on('connect', function(){\n      socket.id = self.engine.id;\n    });\n\n    if (this.autoConnect) {\n      // manually call here since connecting evnet is fired before listening\n      onConnecting();\n    }\n  }\n\n  function onConnecting() {\n    if (!~indexOf(self.connecting, socket)) {\n      self.connecting.push(socket);\n    }\n  }\n\n  return socket;\n};\n\n/**\n * Called upon a socket close.\n *\n * @param {Socket} socket\n */\n\nManager.prototype.destroy = function(socket){\n  var index = indexOf(this.connecting, socket);\n  if (~index) this.connecting.splice(index, 1);\n  if (this.connecting.length) return;\n\n  this.close();\n};\n\n/**\n * Writes a packet.\n *\n * @param {Object} packet\n * @api private\n */\n\nManager.prototype.packet = function(packet){\n  debug('writing packet %j', packet);\n  var self = this;\n\n  if (!self.encoding) {\n    // encode, then write to engine with result\n    self.encoding = true;\n    this.encoder.encode(packet, function(encodedPackets) {\n      for (var i = 0; i < encodedPackets.length; i++) {\n        self.engine.write(encodedPackets[i], packet.options);\n      }\n      self.encoding = false;\n      self.processPacketQueue();\n    });\n  } else { // add packet to the queue\n    self.packetBuffer.push(packet);\n  }\n};\n\n/**\n * If packet buffer is non-empty, begins encoding the\n * next packet in line.\n *\n * @api private\n */\n\nManager.prototype.processPacketQueue = function() {\n  if (this.packetBuffer.length > 0 && !this.encoding) {\n    var pack = this.packetBuffer.shift();\n    this.packet(pack);\n  }\n};\n\n/**\n * Clean up transport subscriptions and packet buffer.\n *\n * @api private\n */\n\nManager.prototype.cleanup = function(){\n  debug('cleanup');\n\n  var sub;\n  while (sub = this.subs.shift()) sub.destroy();\n\n  this.packetBuffer = [];\n  this.encoding = false;\n  this.lastPing = null;\n\n  this.decoder.destroy();\n};\n\n/**\n * Close the current socket.\n *\n * @api private\n */\n\nManager.prototype.close =\nManager.prototype.disconnect = function(){\n  debug('disconnect');\n  this.skipReconnect = true;\n  this.reconnecting = false;\n  if ('opening' == this.readyState) {\n    // `onclose` will not fire because\n    // an open event never happened\n    this.cleanup();\n  }\n  this.backoff.reset();\n  this.readyState = 'closed';\n  if (this.engine) this.engine.close();\n};\n\n/**\n * Called upon engine close.\n *\n * @api private\n */\n\nManager.prototype.onclose = function(reason){\n  debug('onclose');\n\n  this.cleanup();\n  this.backoff.reset();\n  this.readyState = 'closed';\n  this.emit('close', reason);\n\n  if (this._reconnection && !this.skipReconnect) {\n    this.reconnect();\n  }\n};\n\n/**\n * Attempt a reconnection.\n *\n * @api private\n */\n\nManager.prototype.reconnect = function(){\n  if (this.reconnecting || this.skipReconnect) return this;\n\n  var self = this;\n\n  if (this.backoff.attempts >= this._reconnectionAttempts) {\n    debug('reconnect failed');\n    this.backoff.reset();\n    this.emitAll('reconnect_failed');\n    this.reconnecting = false;\n  } else {\n    var delay = this.backoff.duration();\n    debug('will wait %dms before reconnect attempt', delay);\n\n    this.reconnecting = true;\n    var timer = setTimeout(function(){\n      if (self.skipReconnect) return;\n\n      debug('attempting reconnect');\n      self.emitAll('reconnect_attempt', self.backoff.attempts);\n      self.emitAll('reconnecting', self.backoff.attempts);\n\n      // check again for the case socket closed in above events\n      if (self.skipReconnect) return;\n\n      self.open(function(err){\n        if (err) {\n          debug('reconnect attempt error');\n          self.reconnecting = false;\n          self.reconnect();\n          self.emitAll('reconnect_error', err.data);\n        } else {\n          debug('reconnect success');\n          self.onreconnect();\n        }\n      });\n    }, delay);\n\n    this.subs.push({\n      destroy: function(){\n        clearTimeout(timer);\n      }\n    });\n  }\n};\n\n/**\n * Called upon successful reconnect.\n *\n * @api private\n */\n\nManager.prototype.onreconnect = function(){\n  var attempt = this.backoff.attempts;\n  this.reconnecting = false;\n  this.backoff.reset();\n  this.updateSocketIds();\n  this.emitAll('reconnect', attempt);\n};\n\n},{\"./on\":33,\"./socket\":34,\"backo2\":36,\"component-bind\":37,\"component-emitter\":38,\"debug\":39,\"engine.io-client\":1,\"indexof\":42,\"socket.io-parser\":47}],33:[function(_dereq_,module,exports){\n\n/**\n * Module exports.\n */\n\nmodule.exports = on;\n\n/**\n * Helper for subscriptions.\n *\n * @param {Object|EventEmitter} obj with `Emitter` mixin or `EventEmitter`\n * @param {String} event name\n * @param {Function} callback\n * @api public\n */\n\nfunction on(obj, ev, fn) {\n  obj.on(ev, fn);\n  return {\n    destroy: function(){\n      obj.removeListener(ev, fn);\n    }\n  };\n}\n\n},{}],34:[function(_dereq_,module,exports){\n\n/**\n * Module dependencies.\n */\n\nvar parser = _dereq_('socket.io-parser');\nvar Emitter = _dereq_('component-emitter');\nvar toArray = _dereq_('to-array');\nvar on = _dereq_('./on');\nvar bind = _dereq_('component-bind');\nvar debug = _dereq_('debug')('socket.io-client:socket');\nvar hasBin = _dereq_('has-binary');\n\n/**\n * Module exports.\n */\n\nmodule.exports = exports = Socket;\n\n/**\n * Internal events (blacklisted).\n * These events can't be emitted by the user.\n *\n * @api private\n */\n\nvar events = {\n  connect: 1,\n  connect_error: 1,\n  connect_timeout: 1,\n  connecting: 1,\n  disconnect: 1,\n  error: 1,\n  reconnect: 1,\n  reconnect_attempt: 1,\n  reconnect_failed: 1,\n  reconnect_error: 1,\n  reconnecting: 1,\n  ping: 1,\n  pong: 1\n};\n\n/**\n * Shortcut to `Emitter#emit`.\n */\n\nvar emit = Emitter.prototype.emit;\n\n/**\n * `Socket` constructor.\n *\n * @api public\n */\n\nfunction Socket(io, nsp){\n  this.io = io;\n  this.nsp = nsp;\n  this.json = this; // compat\n  this.ids = 0;\n  this.acks = {};\n  this.receiveBuffer = [];\n  this.sendBuffer = [];\n  this.connected = false;\n  this.disconnected = true;\n  if (this.io.autoConnect) this.open();\n}\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Socket.prototype);\n\n/**\n * Subscribe to open, close and packet events\n *\n * @api private\n */\n\nSocket.prototype.subEvents = function() {\n  if (this.subs) return;\n\n  var io = this.io;\n  this.subs = [\n    on(io, 'open', bind(this, 'onopen')),\n    on(io, 'packet', bind(this, 'onpacket')),\n    on(io, 'close', bind(this, 'onclose'))\n  ];\n};\n\n/**\n * \"Opens\" the socket.\n *\n * @api public\n */\n\nSocket.prototype.open =\nSocket.prototype.connect = function(){\n  if (this.connected) return this;\n\n  this.subEvents();\n  this.io.open(); // ensure open\n  if ('open' == this.io.readyState) this.onopen();\n  this.emit('connecting');\n  return this;\n};\n\n/**\n * Sends a `message` event.\n *\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.send = function(){\n  var args = toArray(arguments);\n  args.unshift('message');\n  this.emit.apply(this, args);\n  return this;\n};\n\n/**\n * Override `emit`.\n * If the event is in `events`, it's emitted normally.\n *\n * @param {String} event name\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.emit = function(ev){\n  if (events.hasOwnProperty(ev)) {\n    emit.apply(this, arguments);\n    return this;\n  }\n\n  var args = toArray(arguments);\n  var parserType = parser.EVENT; // default\n  if (hasBin(args)) { parserType = parser.BINARY_EVENT; } // binary\n  var packet = { type: parserType, data: args };\n\n  packet.options = {};\n  packet.options.compress = !this.flags || false !== this.flags.compress;\n\n  // event ack callback\n  if ('function' == typeof args[args.length - 1]) {\n    debug('emitting packet with ack id %d', this.ids);\n    this.acks[this.ids] = args.pop();\n    packet.id = this.ids++;\n  }\n\n  if (this.connected) {\n    this.packet(packet);\n  } else {\n    this.sendBuffer.push(packet);\n  }\n\n  delete this.flags;\n\n  return this;\n};\n\n/**\n * Sends a packet.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.packet = function(packet){\n  packet.nsp = this.nsp;\n  this.io.packet(packet);\n};\n\n/**\n * Called upon engine `open`.\n *\n * @api private\n */\n\nSocket.prototype.onopen = function(){\n  debug('transport is open - connecting');\n\n  // write connect packet if necessary\n  if ('/' != this.nsp) {\n    this.packet({ type: parser.CONNECT });\n  }\n};\n\n/**\n * Called upon engine `close`.\n *\n * @param {String} reason\n * @api private\n */\n\nSocket.prototype.onclose = function(reason){\n  debug('close (%s)', reason);\n  this.connected = false;\n  this.disconnected = true;\n  delete this.id;\n  this.emit('disconnect', reason);\n};\n\n/**\n * Called with socket packet.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.onpacket = function(packet){\n  if (packet.nsp != this.nsp) return;\n\n  switch (packet.type) {\n    case parser.CONNECT:\n      this.onconnect();\n      break;\n\n    case parser.EVENT:\n      this.onevent(packet);\n      break;\n\n    case parser.BINARY_EVENT:\n      this.onevent(packet);\n      break;\n\n    case parser.ACK:\n      this.onack(packet);\n      break;\n\n    case parser.BINARY_ACK:\n      this.onack(packet);\n      break;\n\n    case parser.DISCONNECT:\n      this.ondisconnect();\n      break;\n\n    case parser.ERROR:\n      this.emit('error', packet.data);\n      break;\n  }\n};\n\n/**\n * Called upon a server event.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.onevent = function(packet){\n  var args = packet.data || [];\n  debug('emitting event %j', args);\n\n  if (null != packet.id) {\n    debug('attaching ack callback to event');\n    args.push(this.ack(packet.id));\n  }\n\n  if (this.connected) {\n    emit.apply(this, args);\n  } else {\n    this.receiveBuffer.push(args);\n  }\n};\n\n/**\n * Produces an ack callback to emit with an event.\n *\n * @api private\n */\n\nSocket.prototype.ack = function(id){\n  var self = this;\n  var sent = false;\n  return function(){\n    // prevent double callbacks\n    if (sent) return;\n    sent = true;\n    var args = toArray(arguments);\n    debug('sending ack %j', args);\n\n    var type = hasBin(args) ? parser.BINARY_ACK : parser.ACK;\n    self.packet({\n      type: type,\n      id: id,\n      data: args\n    });\n  };\n};\n\n/**\n * Called upon a server acknowlegement.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.onack = function(packet){\n  var ack = this.acks[packet.id];\n  if ('function' == typeof ack) {\n    debug('calling ack %s with %j', packet.id, packet.data);\n    ack.apply(this, packet.data);\n    delete this.acks[packet.id];\n  } else {\n    debug('bad ack %s', packet.id);\n  }\n};\n\n/**\n * Called upon server connect.\n *\n * @api private\n */\n\nSocket.prototype.onconnect = function(){\n  this.connected = true;\n  this.disconnected = false;\n  this.emit('connect');\n  this.emitBuffered();\n};\n\n/**\n * Emit buffered events (received and emitted).\n *\n * @api private\n */\n\nSocket.prototype.emitBuffered = function(){\n  var i;\n  for (i = 0; i < this.receiveBuffer.length; i++) {\n    emit.apply(this, this.receiveBuffer[i]);\n  }\n  this.receiveBuffer = [];\n\n  for (i = 0; i < this.sendBuffer.length; i++) {\n    this.packet(this.sendBuffer[i]);\n  }\n  this.sendBuffer = [];\n};\n\n/**\n * Called upon server disconnect.\n *\n * @api private\n */\n\nSocket.prototype.ondisconnect = function(){\n  debug('server disconnect (%s)', this.nsp);\n  this.destroy();\n  this.onclose('io server disconnect');\n};\n\n/**\n * Called upon forced client/server side disconnections,\n * this method ensures the manager stops tracking us and\n * that reconnections don't get triggered for this.\n *\n * @api private.\n */\n\nSocket.prototype.destroy = function(){\n  if (this.subs) {\n    // clean subscriptions to avoid reconnections\n    for (var i = 0; i < this.subs.length; i++) {\n      this.subs[i].destroy();\n    }\n    this.subs = null;\n  }\n\n  this.io.destroy(this);\n};\n\n/**\n * Disconnects the socket manually.\n *\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.close =\nSocket.prototype.disconnect = function(){\n  if (this.connected) {\n    debug('performing disconnect (%s)', this.nsp);\n    this.packet({ type: parser.DISCONNECT });\n  }\n\n  // remove socket from pool\n  this.destroy();\n\n  if (this.connected) {\n    // fire events\n    this.onclose('io client disconnect');\n  }\n  return this;\n};\n\n/**\n * Sets the compress flag.\n *\n * @param {Boolean} if `true`, compresses the sending data\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.compress = function(compress){\n  this.flags = this.flags || {};\n  this.flags.compress = compress;\n  return this;\n};\n\n},{\"./on\":33,\"component-bind\":37,\"component-emitter\":38,\"debug\":39,\"has-binary\":41,\"socket.io-parser\":47,\"to-array\":51}],35:[function(_dereq_,module,exports){\n(function (global){\n\n/**\n * Module dependencies.\n */\n\nvar parseuri = _dereq_('parseuri');\nvar debug = _dereq_('debug')('socket.io-client:url');\n\n/**\n * Module exports.\n */\n\nmodule.exports = url;\n\n/**\n * URL parser.\n *\n * @param {String} url\n * @param {Object} An object meant to mimic window.location.\n *                 Defaults to window.location.\n * @api public\n */\n\nfunction url(uri, loc){\n  var obj = uri;\n\n  // default to window.location\n  var loc = loc || global.location;\n  if (null == uri) uri = loc.protocol + '//' + loc.host;\n\n  // relative path support\n  if ('string' == typeof uri) {\n    if ('/' == uri.charAt(0)) {\n      if ('/' == uri.charAt(1)) {\n        uri = loc.protocol + uri;\n      } else {\n        uri = loc.host + uri;\n      }\n    }\n\n    if (!/^(https?|wss?):\\/\\//.test(uri)) {\n      debug('protocol-less url %s', uri);\n      if ('undefined' != typeof loc) {\n        uri = loc.protocol + '//' + uri;\n      } else {\n        uri = 'https://' + uri;\n      }\n    }\n\n    // parse\n    debug('parse %s', uri);\n    obj = parseuri(uri);\n  }\n\n  // make sure we treat `localhost:80` and `localhost` equally\n  if (!obj.port) {\n    if (/^(http|ws)$/.test(obj.protocol)) {\n      obj.port = '80';\n    }\n    else if (/^(http|ws)s$/.test(obj.protocol)) {\n      obj.port = '443';\n    }\n  }\n\n  obj.path = obj.path || '/';\n\n  var ipv6 = obj.host.indexOf(':') !== -1;\n  var host = ipv6 ? '[' + obj.host + ']' : obj.host;\n\n  // define unique id\n  obj.id = obj.protocol + '://' + host + ':' + obj.port;\n  // define href\n  obj.href = obj.protocol + '://' + host + (loc && loc.port == obj.port ? '' : (':' + obj.port));\n\n  return obj;\n}\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n},{\"debug\":39,\"parseuri\":45}],36:[function(_dereq_,module,exports){\n\n/**\n * Expose `Backoff`.\n */\n\nmodule.exports = Backoff;\n\n/**\n * Initialize backoff timer with `opts`.\n *\n * - `min` initial timeout in milliseconds [100]\n * - `max` max timeout [10000]\n * - `jitter` [0]\n * - `factor` [2]\n *\n * @param {Object} opts\n * @api public\n */\n\nfunction Backoff(opts) {\n  opts = opts || {};\n  this.ms = opts.min || 100;\n  this.max = opts.max || 10000;\n  this.factor = opts.factor || 2;\n  this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n  this.attempts = 0;\n}\n\n/**\n * Return the backoff duration.\n *\n * @return {Number}\n * @api public\n */\n\nBackoff.prototype.duration = function(){\n  var ms = this.ms * Math.pow(this.factor, this.attempts++);\n  if (this.jitter) {\n    var rand =  Math.random();\n    var deviation = Math.floor(rand * this.jitter * ms);\n    ms = (Math.floor(rand * 10) & 1) == 0  ? ms - deviation : ms + deviation;\n  }\n  return Math.min(ms, this.max) | 0;\n};\n\n/**\n * Reset the number of attempts.\n *\n * @api public\n */\n\nBackoff.prototype.reset = function(){\n  this.attempts = 0;\n};\n\n/**\n * Set the minimum duration\n *\n * @api public\n */\n\nBackoff.prototype.setMin = function(min){\n  this.ms = min;\n};\n\n/**\n * Set the maximum duration\n *\n * @api public\n */\n\nBackoff.prototype.setMax = function(max){\n  this.max = max;\n};\n\n/**\n * Set the jitter\n *\n * @api public\n */\n\nBackoff.prototype.setJitter = function(jitter){\n  this.jitter = jitter;\n};\n\n\n},{}],37:[function(_dereq_,module,exports){\n/**\n * Slice reference.\n */\n\nvar slice = [].slice;\n\n/**\n * Bind `obj` to `fn`.\n *\n * @param {Object} obj\n * @param {Function|String} fn or string\n * @return {Function}\n * @api public\n */\n\nmodule.exports = function(obj, fn){\n  if ('string' == typeof fn) fn = obj[fn];\n  if ('function' != typeof fn) throw new Error('bind() requires a function');\n  var args = slice.call(arguments, 2);\n  return function(){\n    return fn.apply(obj, args.concat(slice.call(arguments)));\n  }\n};\n\n},{}],38:[function(_dereq_,module,exports){\n\n/**\n * Expose `Emitter`.\n */\n\nmodule.exports = Emitter;\n\n/**\n * Initialize a new `Emitter`.\n *\n * @api public\n */\n\nfunction Emitter(obj) {\n  if (obj) return mixin(obj);\n};\n\n/**\n * Mixin the emitter properties.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\nfunction mixin(obj) {\n  for (var key in Emitter.prototype) {\n    obj[key] = Emitter.prototype[key];\n  }\n  return obj;\n}\n\n/**\n * Listen on the given `event` with `fn`.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.on =\nEmitter.prototype.addEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\n    .push(fn);\n  return this;\n};\n\n/**\n * Adds an `event` listener that will be invoked a single\n * time then automatically removed.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.once = function(event, fn){\n  function on() {\n    this.off(event, on);\n    fn.apply(this, arguments);\n  }\n\n  on.fn = fn;\n  this.on(event, on);\n  return this;\n};\n\n/**\n * Remove the given callback for `event` or all\n * registered callbacks.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.off =\nEmitter.prototype.removeListener =\nEmitter.prototype.removeAllListeners =\nEmitter.prototype.removeEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n\n  // all\n  if (0 == arguments.length) {\n    this._callbacks = {};\n    return this;\n  }\n\n  // specific event\n  var callbacks = this._callbacks['$' + event];\n  if (!callbacks) return this;\n\n  // remove all handlers\n  if (1 == arguments.length) {\n    delete this._callbacks['$' + event];\n    return this;\n  }\n\n  // remove specific handler\n  var cb;\n  for (var i = 0; i < callbacks.length; i++) {\n    cb = callbacks[i];\n    if (cb === fn || cb.fn === fn) {\n      callbacks.splice(i, 1);\n      break;\n    }\n  }\n  return this;\n};\n\n/**\n * Emit `event` with the given args.\n *\n * @param {String} event\n * @param {Mixed} ...\n * @return {Emitter}\n */\n\nEmitter.prototype.emit = function(event){\n  this._callbacks = this._callbacks || {};\n  var args = [].slice.call(arguments, 1)\n    , callbacks = this._callbacks['$' + event];\n\n  if (callbacks) {\n    callbacks = callbacks.slice(0);\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\n      callbacks[i].apply(this, args);\n    }\n  }\n\n  return this;\n};\n\n/**\n * Return array of callbacks for `event`.\n *\n * @param {String} event\n * @return {Array}\n * @api public\n */\n\nEmitter.prototype.listeners = function(event){\n  this._callbacks = this._callbacks || {};\n  return this._callbacks['$' + event] || [];\n};\n\n/**\n * Check if this emitter has `event` handlers.\n *\n * @param {String} event\n * @return {Boolean}\n * @api public\n */\n\nEmitter.prototype.hasListeners = function(event){\n  return !! this.listeners(event).length;\n};\n\n},{}],39:[function(_dereq_,module,exports){\narguments[4][17][0].apply(exports,arguments)\n},{\"./debug\":40,\"dup\":17}],40:[function(_dereq_,module,exports){\narguments[4][18][0].apply(exports,arguments)\n},{\"dup\":18,\"ms\":44}],41:[function(_dereq_,module,exports){\n(function (global){\n\n/*\n * Module requirements.\n */\n\nvar isArray = _dereq_('isarray');\n\n/**\n * Module exports.\n */\n\nmodule.exports = hasBinary;\n\n/**\n * Checks for binary data.\n *\n * Right now only Buffer and ArrayBuffer are supported..\n *\n * @param {Object} anything\n * @api public\n */\n\nfunction hasBinary(data) {\n\n  function _hasBinary(obj) {\n    if (!obj) return false;\n\n    if ( (global.Buffer && global.Buffer.isBuffer && global.Buffer.isBuffer(obj)) ||\n         (global.ArrayBuffer && obj instanceof ArrayBuffer) ||\n         (global.Blob && obj instanceof Blob) ||\n         (global.File && obj instanceof File)\n        ) {\n      return true;\n    }\n\n    if (isArray(obj)) {\n      for (var i = 0; i < obj.length; i++) {\n          if (_hasBinary(obj[i])) {\n              return true;\n          }\n      }\n    } else if (obj && 'object' == typeof obj) {\n      // see: https://github.com/Automattic/has-binary/pull/4\n      if (obj.toJSON && 'function' == typeof obj.toJSON) {\n        obj = obj.toJSON();\n      }\n\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key) && _hasBinary(obj[key])) {\n          return true;\n        }\n      }\n    }\n\n    return false;\n  }\n\n  return _hasBinary(data);\n}\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n},{\"isarray\":43}],42:[function(_dereq_,module,exports){\narguments[4][23][0].apply(exports,arguments)\n},{\"dup\":23}],43:[function(_dereq_,module,exports){\narguments[4][24][0].apply(exports,arguments)\n},{\"dup\":24}],44:[function(_dereq_,module,exports){\narguments[4][25][0].apply(exports,arguments)\n},{\"dup\":25}],45:[function(_dereq_,module,exports){\narguments[4][28][0].apply(exports,arguments)\n},{\"dup\":28}],46:[function(_dereq_,module,exports){\n(function (global){\n/*global Blob,File*/\n\n/**\n * Module requirements\n */\n\nvar isArray = _dereq_('isarray');\nvar isBuf = _dereq_('./is-buffer');\n\n/**\n * Replaces every Buffer | ArrayBuffer in packet with a numbered placeholder.\n * Anything with blobs or files should be fed through removeBlobs before coming\n * here.\n *\n * @param {Object} packet - socket.io event packet\n * @return {Object} with deconstructed packet and list of buffers\n * @api public\n */\n\nexports.deconstructPacket = function(packet){\n  var buffers = [];\n  var packetData = packet.data;\n\n  function _deconstructPacket(data) {\n    if (!data) return data;\n\n    if (isBuf(data)) {\n      var placeholder = { _placeholder: true, num: buffers.length };\n      buffers.push(data);\n      return placeholder;\n    } else if (isArray(data)) {\n      var newData = new Array(data.length);\n      for (var i = 0; i < data.length; i++) {\n        newData[i] = _deconstructPacket(data[i]);\n      }\n      return newData;\n    } else if ('object' == typeof data && !(data instanceof Date)) {\n      var newData = {};\n      for (var key in data) {\n        newData[key] = _deconstructPacket(data[key]);\n      }\n      return newData;\n    }\n    return data;\n  }\n\n  var pack = packet;\n  pack.data = _deconstructPacket(packetData);\n  pack.attachments = buffers.length; // number of binary 'attachments'\n  return {packet: pack, buffers: buffers};\n};\n\n/**\n * Reconstructs a binary packet from its placeholder packet and buffers\n *\n * @param {Object} packet - event packet with placeholders\n * @param {Array} buffers - binary buffers to put in placeholder positions\n * @return {Object} reconstructed packet\n * @api public\n */\n\nexports.reconstructPacket = function(packet, buffers) {\n  var curPlaceHolder = 0;\n\n  function _reconstructPacket(data) {\n    if (data && data._placeholder) {\n      var buf = buffers[data.num]; // appropriate buffer (should be natural order anyway)\n      return buf;\n    } else if (isArray(data)) {\n      for (var i = 0; i < data.length; i++) {\n        data[i] = _reconstructPacket(data[i]);\n      }\n      return data;\n    } else if (data && 'object' == typeof data) {\n      for (var key in data) {\n        data[key] = _reconstructPacket(data[key]);\n      }\n      return data;\n    }\n    return data;\n  }\n\n  packet.data = _reconstructPacket(packet.data);\n  packet.attachments = undefined; // no longer useful\n  return packet;\n};\n\n/**\n * Asynchronously removes Blobs or Files from data via\n * FileReader's readAsArrayBuffer method. Used before encoding\n * data as msgpack. Calls callback with the blobless data.\n *\n * @param {Object} data\n * @param {Function} callback\n * @api private\n */\n\nexports.removeBlobs = function(data, callback) {\n  function _removeBlobs(obj, curKey, containingObject) {\n    if (!obj) return obj;\n\n    // convert any blob\n    if ((global.Blob && obj instanceof Blob) ||\n        (global.File && obj instanceof File)) {\n      pendingBlobs++;\n\n      // async filereader\n      var fileReader = new FileReader();\n      fileReader.onload = function() { // this.result == arraybuffer\n        if (containingObject) {\n          containingObject[curKey] = this.result;\n        }\n        else {\n          bloblessData = this.result;\n        }\n\n        // if nothing pending its callback time\n        if(! --pendingBlobs) {\n          callback(bloblessData);\n        }\n      };\n\n      fileReader.readAsArrayBuffer(obj); // blob -> arraybuffer\n    } else if (isArray(obj)) { // handle array\n      for (var i = 0; i < obj.length; i++) {\n        _removeBlobs(obj[i], i, obj);\n      }\n    } else if (obj && 'object' == typeof obj && !isBuf(obj)) { // and object\n      for (var key in obj) {\n        _removeBlobs(obj[key], key, obj);\n      }\n    }\n  }\n\n  var pendingBlobs = 0;\n  var bloblessData = data;\n  _removeBlobs(bloblessData);\n  if (!pendingBlobs) {\n    callback(bloblessData);\n  }\n};\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n},{\"./is-buffer\":48,\"isarray\":43}],47:[function(_dereq_,module,exports){\n\n/**\n * Module dependencies.\n */\n\nvar debug = _dereq_('debug')('socket.io-parser');\nvar json = _dereq_('json3');\nvar isArray = _dereq_('isarray');\nvar Emitter = _dereq_('component-emitter');\nvar binary = _dereq_('./binary');\nvar isBuf = _dereq_('./is-buffer');\n\n/**\n * Protocol version.\n *\n * @api public\n */\n\nexports.protocol = 4;\n\n/**\n * Packet types.\n *\n * @api public\n */\n\nexports.types = [\n  'CONNECT',\n  'DISCONNECT',\n  'EVENT',\n  'BINARY_EVENT',\n  'ACK',\n  'BINARY_ACK',\n  'ERROR'\n];\n\n/**\n * Packet type `connect`.\n *\n * @api public\n */\n\nexports.CONNECT = 0;\n\n/**\n * Packet type `disconnect`.\n *\n * @api public\n */\n\nexports.DISCONNECT = 1;\n\n/**\n * Packet type `event`.\n *\n * @api public\n */\n\nexports.EVENT = 2;\n\n/**\n * Packet type `ack`.\n *\n * @api public\n */\n\nexports.ACK = 3;\n\n/**\n * Packet type `error`.\n *\n * @api public\n */\n\nexports.ERROR = 4;\n\n/**\n * Packet type 'binary event'\n *\n * @api public\n */\n\nexports.BINARY_EVENT = 5;\n\n/**\n * Packet type `binary ack`. For acks with binary arguments.\n *\n * @api public\n */\n\nexports.BINARY_ACK = 6;\n\n/**\n * Encoder constructor.\n *\n * @api public\n */\n\nexports.Encoder = Encoder;\n\n/**\n * Decoder constructor.\n *\n * @api public\n */\n\nexports.Decoder = Decoder;\n\n/**\n * A socket.io Encoder instance\n *\n * @api public\n */\n\nfunction Encoder() {}\n\n/**\n * Encode a packet as a single string if non-binary, or as a\n * buffer sequence, depending on packet type.\n *\n * @param {Object} obj - packet object\n * @param {Function} callback - function to handle encodings (likely engine.write)\n * @return Calls callback with Array of encodings\n * @api public\n */\n\nEncoder.prototype.encode = function(obj, callback){\n  debug('encoding packet %j', obj);\n\n  if (exports.BINARY_EVENT == obj.type || exports.BINARY_ACK == obj.type) {\n    encodeAsBinary(obj, callback);\n  }\n  else {\n    var encoding = encodeAsString(obj);\n    callback([encoding]);\n  }\n};\n\n/**\n * Encode packet as string.\n *\n * @param {Object} packet\n * @return {String} encoded\n * @api private\n */\n\nfunction encodeAsString(obj) {\n  var str = '';\n  var nsp = false;\n\n  // first is type\n  str += obj.type;\n\n  // attachments if we have them\n  if (exports.BINARY_EVENT == obj.type || exports.BINARY_ACK == obj.type) {\n    str += obj.attachments;\n    str += '-';\n  }\n\n  // if we have a namespace other than `/`\n  // we append it followed by a comma `,`\n  if (obj.nsp && '/' != obj.nsp) {\n    nsp = true;\n    str += obj.nsp;\n  }\n\n  // immediately followed by the id\n  if (null != obj.id) {\n    if (nsp) {\n      str += ',';\n      nsp = false;\n    }\n    str += obj.id;\n  }\n\n  // json data\n  if (null != obj.data) {\n    if (nsp) str += ',';\n    str += json.stringify(obj.data);\n  }\n\n  debug('encoded %j as %s', obj, str);\n  return str;\n}\n\n/**\n * Encode packet as 'buffer sequence' by removing blobs, and\n * deconstructing packet into object with placeholders and\n * a list of buffers.\n *\n * @param {Object} packet\n * @return {Buffer} encoded\n * @api private\n */\n\nfunction encodeAsBinary(obj, callback) {\n\n  function writeEncoding(bloblessData) {\n    var deconstruction = binary.deconstructPacket(bloblessData);\n    var pack = encodeAsString(deconstruction.packet);\n    var buffers = deconstruction.buffers;\n\n    buffers.unshift(pack); // add packet info to beginning of data list\n    callback(buffers); // write all the buffers\n  }\n\n  binary.removeBlobs(obj, writeEncoding);\n}\n\n/**\n * A socket.io Decoder instance\n *\n * @return {Object} decoder\n * @api public\n */\n\nfunction Decoder() {\n  this.reconstructor = null;\n}\n\n/**\n * Mix in `Emitter` with Decoder.\n */\n\nEmitter(Decoder.prototype);\n\n/**\n * Decodes an ecoded packet string into packet JSON.\n *\n * @param {String} obj - encoded packet\n * @return {Object} packet\n * @api public\n */\n\nDecoder.prototype.add = function(obj) {\n  var packet;\n  if ('string' == typeof obj) {\n    packet = decodeString(obj);\n    if (exports.BINARY_EVENT == packet.type || exports.BINARY_ACK == packet.type) { // binary packet's json\n      this.reconstructor = new BinaryReconstructor(packet);\n\n      // no attachments, labeled binary but no binary data to follow\n      if (this.reconstructor.reconPack.attachments === 0) {\n        this.emit('decoded', packet);\n      }\n    } else { // non-binary full packet\n      this.emit('decoded', packet);\n    }\n  }\n  else if (isBuf(obj) || obj.base64) { // raw binary data\n    if (!this.reconstructor) {\n      throw new Error('got binary data when not reconstructing a packet');\n    } else {\n      packet = this.reconstructor.takeBinaryData(obj);\n      if (packet) { // received final buffer\n        this.reconstructor = null;\n        this.emit('decoded', packet);\n      }\n    }\n  }\n  else {\n    throw new Error('Unknown type: ' + obj);\n  }\n};\n\n/**\n * Decode a packet String (JSON data)\n *\n * @param {String} str\n * @return {Object} packet\n * @api private\n */\n\nfunction decodeString(str) {\n  var p = {};\n  var i = 0;\n\n  // look up type\n  p.type = Number(str.charAt(0));\n  if (null == exports.types[p.type]) return error();\n\n  // look up attachments if type binary\n  if (exports.BINARY_EVENT == p.type || exports.BINARY_ACK == p.type) {\n    var buf = '';\n    while (str.charAt(++i) != '-') {\n      buf += str.charAt(i);\n      if (i == str.length) break;\n    }\n    if (buf != Number(buf) || str.charAt(i) != '-') {\n      throw new Error('Illegal attachments');\n    }\n    p.attachments = Number(buf);\n  }\n\n  // look up namespace (if any)\n  if ('/' == str.charAt(i + 1)) {\n    p.nsp = '';\n    while (++i) {\n      var c = str.charAt(i);\n      if (',' == c) break;\n      p.nsp += c;\n      if (i == str.length) break;\n    }\n  } else {\n    p.nsp = '/';\n  }\n\n  // look up id\n  var next = str.charAt(i + 1);\n  if ('' !== next && Number(next) == next) {\n    p.id = '';\n    while (++i) {\n      var c = str.charAt(i);\n      if (null == c || Number(c) != c) {\n        --i;\n        break;\n      }\n      p.id += str.charAt(i);\n      if (i == str.length) break;\n    }\n    p.id = Number(p.id);\n  }\n\n  // look up json data\n  if (str.charAt(++i)) {\n    try {\n      p.data = json.parse(str.substr(i));\n    } catch(e){\n      return error();\n    }\n  }\n\n  debug('decoded %s as %j', str, p);\n  return p;\n}\n\n/**\n * Deallocates a parser's resources\n *\n * @api public\n */\n\nDecoder.prototype.destroy = function() {\n  if (this.reconstructor) {\n    this.reconstructor.finishedReconstruction();\n  }\n};\n\n/**\n * A manager of a binary event's 'buffer sequence'. Should\n * be constructed whenever a packet of type BINARY_EVENT is\n * decoded.\n *\n * @param {Object} packet\n * @return {BinaryReconstructor} initialized reconstructor\n * @api private\n */\n\nfunction BinaryReconstructor(packet) {\n  this.reconPack = packet;\n  this.buffers = [];\n}\n\n/**\n * Method to be called when binary data received from connection\n * after a BINARY_EVENT packet.\n *\n * @param {Buffer | ArrayBuffer} binData - the raw binary data received\n * @return {null | Object} returns null if more binary data is expected or\n *   a reconstructed packet object if all buffers have been received.\n * @api private\n */\n\nBinaryReconstructor.prototype.takeBinaryData = function(binData) {\n  this.buffers.push(binData);\n  if (this.buffers.length == this.reconPack.attachments) { // done with buffer list\n    var packet = binary.reconstructPacket(this.reconPack, this.buffers);\n    this.finishedReconstruction();\n    return packet;\n  }\n  return null;\n};\n\n/**\n * Cleans up binary packet reconstruction variables.\n *\n * @api private\n */\n\nBinaryReconstructor.prototype.finishedReconstruction = function() {\n  this.reconPack = null;\n  this.buffers = [];\n};\n\nfunction error(data){\n  return {\n    type: exports.ERROR,\n    data: 'parser error'\n  };\n}\n\n},{\"./binary\":46,\"./is-buffer\":48,\"component-emitter\":49,\"debug\":39,\"isarray\":43,\"json3\":50}],48:[function(_dereq_,module,exports){\n(function (global){\n\nmodule.exports = isBuf;\n\n/**\n * Returns true if obj is a buffer or an arraybuffer.\n *\n * @api private\n */\n\nfunction isBuf(obj) {\n  return (global.Buffer && global.Buffer.isBuffer(obj)) ||\n         (global.ArrayBuffer && obj instanceof ArrayBuffer);\n}\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n},{}],49:[function(_dereq_,module,exports){\narguments[4][15][0].apply(exports,arguments)\n},{\"dup\":15}],50:[function(_dereq_,module,exports){\n(function (global){\n/*! JSON v3.3.2 | http://bestiejs.github.io/json3 | Copyright 2012-2014, Kit Cambridge | http://kit.mit-license.org */\n;(function () {\n  // Detect the `define` function exposed by asynchronous module loaders. The\n  // strict `define` check is necessary for compatibility with `r.js`.\n  var isLoader = typeof define === \"function\" && define.amd;\n\n  // A set of types used to distinguish objects from primitives.\n  var objectTypes = {\n    \"function\": true,\n    \"object\": true\n  };\n\n  // Detect the `exports` object exposed by CommonJS implementations.\n  var freeExports = objectTypes[typeof exports] && exports && !exports.nodeType && exports;\n\n  // Use the `global` object exposed by Node (including Browserify via\n  // `insert-module-globals`), Narwhal, and Ringo as the default context,\n  // and the `window` object in browsers. Rhino exports a `global` function\n  // instead.\n  var root = objectTypes[typeof window] && window || this,\n      freeGlobal = freeExports && objectTypes[typeof module] && module && !module.nodeType && typeof global == \"object\" && global;\n\n  if (freeGlobal && (freeGlobal[\"global\"] === freeGlobal || freeGlobal[\"window\"] === freeGlobal || freeGlobal[\"self\"] === freeGlobal)) {\n    root = freeGlobal;\n  }\n\n  // Public: Initializes JSON 3 using the given `context` object, attaching the\n  // `stringify` and `parse` functions to the specified `exports` object.\n  function runInContext(context, exports) {\n    context || (context = root[\"Object\"]());\n    exports || (exports = root[\"Object\"]());\n\n    // Native constructor aliases.\n    var Number = context[\"Number\"] || root[\"Number\"],\n        String = context[\"String\"] || root[\"String\"],\n        Object = context[\"Object\"] || root[\"Object\"],\n        Date = context[\"Date\"] || root[\"Date\"],\n        SyntaxError = context[\"SyntaxError\"] || root[\"SyntaxError\"],\n        TypeError = context[\"TypeError\"] || root[\"TypeError\"],\n        Math = context[\"Math\"] || root[\"Math\"],\n        nativeJSON = context[\"JSON\"] || root[\"JSON\"];\n\n    // Delegate to the native `stringify` and `parse` implementations.\n    if (typeof nativeJSON == \"object\" && nativeJSON) {\n      exports.stringify = nativeJSON.stringify;\n      exports.parse = nativeJSON.parse;\n    }\n\n    // Convenience aliases.\n    var objectProto = Object.prototype,\n        getClass = objectProto.toString,\n        isProperty, forEach, undef;\n\n    // Test the `Date#getUTC*` methods. Based on work by @Yaffle.\n    var isExtended = new Date(-3509827334573292);\n    try {\n      // The `getUTCFullYear`, `Month`, and `Date` methods return nonsensical\n      // results for certain dates in Opera >= 10.53.\n      isExtended = isExtended.getUTCFullYear() == -109252 && isExtended.getUTCMonth() === 0 && isExtended.getUTCDate() === 1 &&\n        // Safari < 2.0.2 stores the internal millisecond time value correctly,\n        // but clips the values returned by the date methods to the range of\n        // signed 32-bit integers ([-2 ** 31, 2 ** 31 - 1]).\n        isExtended.getUTCHours() == 10 && isExtended.getUTCMinutes() == 37 && isExtended.getUTCSeconds() == 6 && isExtended.getUTCMilliseconds() == 708;\n    } catch (exception) {}\n\n    // Internal: Determines whether the native `JSON.stringify` and `parse`\n    // implementations are spec-compliant. Based on work by Ken Snyder.\n    function has(name) {\n      if (has[name] !== undef) {\n        // Return cached feature test result.\n        return has[name];\n      }\n      var isSupported;\n      if (name == \"bug-string-char-index\") {\n        // IE <= 7 doesn't support accessing string characters using square\n        // bracket notation. IE 8 only supports this for primitives.\n        isSupported = \"a\"[0] != \"a\";\n      } else if (name == \"json\") {\n        // Indicates whether both `JSON.stringify` and `JSON.parse` are\n        // supported.\n        isSupported = has(\"json-stringify\") && has(\"json-parse\");\n      } else {\n        var value, serialized = '{\"a\":[1,true,false,null,\"\\\\u0000\\\\b\\\\n\\\\f\\\\r\\\\t\"]}';\n        // Test `JSON.stringify`.\n        if (name == \"json-stringify\") {\n          var stringify = exports.stringify, stringifySupported = typeof stringify == \"function\" && isExtended;\n          if (stringifySupported) {\n            // A test function object with a custom `toJSON` method.\n            (value = function () {\n              return 1;\n            }).toJSON = value;\n            try {\n              stringifySupported =\n                // Firefox 3.1b1 and b2 serialize string, number, and boolean\n                // primitives as object literals.\n                stringify(0) === \"0\" &&\n                // FF 3.1b1, b2, and JSON 2 serialize wrapped primitives as object\n                // literals.\n                stringify(new Number()) === \"0\" &&\n                stringify(new String()) == '\"\"' &&\n                // FF 3.1b1, 2 throw an error if the value is `null`, `undefined`, or\n                // does not define a canonical JSON representation (this applies to\n                // objects with `toJSON` properties as well, *unless* they are nested\n                // within an object or array).\n                stringify(getClass) === undef &&\n                // IE 8 serializes `undefined` as `\"undefined\"`. Safari <= 5.1.7 and\n                // FF 3.1b3 pass this test.\n                stringify(undef) === undef &&\n                // Safari <= 5.1.7 and FF 3.1b3 throw `Error`s and `TypeError`s,\n                // respectively, if the value is omitted entirely.\n                stringify() === undef &&\n                // FF 3.1b1, 2 throw an error if the given value is not a number,\n                // string, array, object, Boolean, or `null` literal. This applies to\n                // objects with custom `toJSON` methods as well, unless they are nested\n                // inside object or array literals. YUI 3.0.0b1 ignores custom `toJSON`\n                // methods entirely.\n                stringify(value) === \"1\" &&\n                stringify([value]) == \"[1]\" &&\n                // Prototype <= 1.6.1 serializes `[undefined]` as `\"[]\"` instead of\n                // `\"[null]\"`.\n                stringify([undef]) == \"[null]\" &&\n                // YUI 3.0.0b1 fails to serialize `null` literals.\n                stringify(null) == \"null\" &&\n                // FF 3.1b1, 2 halts serialization if an array contains a function:\n                // `[1, true, getClass, 1]` serializes as \"[1,true,],\". FF 3.1b3\n                // elides non-JSON values from objects and arrays, unless they\n                // define custom `toJSON` methods.\n                stringify([undef, getClass, null]) == \"[null,null,null]\" &&\n                // Simple serialization test. FF 3.1b1 uses Unicode escape sequences\n                // where character escape codes are expected (e.g., `\\b` => `\\u0008`).\n                stringify({ \"a\": [value, true, false, null, \"\\x00\\b\\n\\f\\r\\t\"] }) == serialized &&\n                // FF 3.1b1 and b2 ignore the `filter` and `width` arguments.\n                stringify(null, value) === \"1\" &&\n                stringify([1, 2], null, 1) == \"[\\n 1,\\n 2\\n]\" &&\n                // JSON 2, Prototype <= 1.7, and older WebKit builds incorrectly\n                // serialize extended years.\n                stringify(new Date(-8.64e15)) == '\"-271821-04-20T00:00:00.000Z\"' &&\n                // The milliseconds are optional in ES 5, but required in 5.1.\n                stringify(new Date(8.64e15)) == '\"+275760-09-13T00:00:00.000Z\"' &&\n                // Firefox <= 11.0 incorrectly serializes years prior to 0 as negative\n                // four-digit years instead of six-digit years. Credits: @Yaffle.\n                stringify(new Date(-621987552e5)) == '\"-000001-01-01T00:00:00.000Z\"' &&\n                // Safari <= 5.1.5 and Opera >= 10.53 incorrectly serialize millisecond\n                // values less than 1000. Credits: @Yaffle.\n                stringify(new Date(-1)) == '\"1969-12-31T23:59:59.999Z\"';\n            } catch (exception) {\n              stringifySupported = false;\n            }\n          }\n          isSupported = stringifySupported;\n        }\n        // Test `JSON.parse`.\n        if (name == \"json-parse\") {\n          var parse = exports.parse;\n          if (typeof parse == \"function\") {\n            try {\n              // FF 3.1b1, b2 will throw an exception if a bare literal is provided.\n              // Conforming implementations should also coerce the initial argument to\n              // a string prior to parsing.\n              if (parse(\"0\") === 0 && !parse(false)) {\n                // Simple parsing test.\n                value = parse(serialized);\n                var parseSupported = value[\"a\"].length == 5 && value[\"a\"][0] === 1;\n                if (parseSupported) {\n                  try {\n                    // Safari <= 5.1.2 and FF 3.1b1 allow unescaped tabs in strings.\n                    parseSupported = !parse('\"\\t\"');\n                  } catch (exception) {}\n                  if (parseSupported) {\n                    try {\n                      // FF 4.0 and 4.0.1 allow leading `+` signs and leading\n                      // decimal points. FF 4.0, 4.0.1, and IE 9-10 also allow\n                      // certain octal literals.\n                      parseSupported = parse(\"01\") !== 1;\n                    } catch (exception) {}\n                  }\n                  if (parseSupported) {\n                    try {\n                      // FF 4.0, 4.0.1, and Rhino 1.7R3-R4 allow trailing decimal\n                      // points. These environments, along with FF 3.1b1 and 2,\n                      // also allow trailing commas in JSON objects and arrays.\n                      parseSupported = parse(\"1.\") !== 1;\n                    } catch (exception) {}\n                  }\n                }\n              }\n            } catch (exception) {\n              parseSupported = false;\n            }\n          }\n          isSupported = parseSupported;\n        }\n      }\n      return has[name] = !!isSupported;\n    }\n\n    if (!has(\"json\")) {\n      // Common `[[Class]]` name aliases.\n      var functionClass = \"[object Function]\",\n          dateClass = \"[object Date]\",\n          numberClass = \"[object Number]\",\n          stringClass = \"[object String]\",\n          arrayClass = \"[object Array]\",\n          booleanClass = \"[object Boolean]\";\n\n      // Detect incomplete support for accessing string characters by index.\n      var charIndexBuggy = has(\"bug-string-char-index\");\n\n      // Define additional utility methods if the `Date` methods are buggy.\n      if (!isExtended) {\n        var floor = Math.floor;\n        // A mapping between the months of the year and the number of days between\n        // January 1st and the first of the respective month.\n        var Months = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334];\n        // Internal: Calculates the number of days between the Unix epoch and the\n        // first day of the given month.\n        var getDay = function (year, month) {\n          return Months[month] + 365 * (year - 1970) + floor((year - 1969 + (month = +(month > 1))) / 4) - floor((year - 1901 + month) / 100) + floor((year - 1601 + month) / 400);\n        };\n      }\n\n      // Internal: Determines if a property is a direct property of the given\n      // object. Delegates to the native `Object#hasOwnProperty` method.\n      if (!(isProperty = objectProto.hasOwnProperty)) {\n        isProperty = function (property) {\n          var members = {}, constructor;\n          if ((members.__proto__ = null, members.__proto__ = {\n            // The *proto* property cannot be set multiple times in recent\n            // versions of Firefox and SeaMonkey.\n            \"toString\": 1\n          }, members).toString != getClass) {\n            // Safari <= 2.0.3 doesn't implement `Object#hasOwnProperty`, but\n            // supports the mutable *proto* property.\n            isProperty = function (property) {\n              // Capture and break the object's prototype chain (see section 8.6.2\n              // of the ES 5.1 spec). The parenthesized expression prevents an\n              // unsafe transformation by the Closure Compiler.\n              var original = this.__proto__, result = property in (this.__proto__ = null, this);\n              // Restore the original prototype chain.\n              this.__proto__ = original;\n              return result;\n            };\n          } else {\n            // Capture a reference to the top-level `Object` constructor.\n            constructor = members.constructor;\n            // Use the `constructor` property to simulate `Object#hasOwnProperty` in\n            // other environments.\n            isProperty = function (property) {\n              var parent = (this.constructor || constructor).prototype;\n              return property in this && !(property in parent && this[property] === parent[property]);\n            };\n          }\n          members = null;\n          return isProperty.call(this, property);\n        };\n      }\n\n      // Internal: Normalizes the `for...in` iteration algorithm across\n      // environments. Each enumerated key is yielded to a `callback` function.\n      forEach = function (object, callback) {\n        var size = 0, Properties, members, property;\n\n        // Tests for bugs in the current environment's `for...in` algorithm. The\n        // `valueOf` property inherits the non-enumerable flag from\n        // `Object.prototype` in older versions of IE, Netscape, and Mozilla.\n        (Properties = function () {\n          this.valueOf = 0;\n        }).prototype.valueOf = 0;\n\n        // Iterate over a new instance of the `Properties` class.\n        members = new Properties();\n        for (property in members) {\n          // Ignore all properties inherited from `Object.prototype`.\n          if (isProperty.call(members, property)) {\n            size++;\n          }\n        }\n        Properties = members = null;\n\n        // Normalize the iteration algorithm.\n        if (!size) {\n          // A list of non-enumerable properties inherited from `Object.prototype`.\n          members = [\"valueOf\", \"toString\", \"toLocaleString\", \"propertyIsEnumerable\", \"isPrototypeOf\", \"hasOwnProperty\", \"constructor\"];\n          // IE <= 8, Mozilla 1.0, and Netscape 6.2 ignore shadowed non-enumerable\n          // properties.\n          forEach = function (object, callback) {\n            var isFunction = getClass.call(object) == functionClass, property, length;\n            var hasProperty = !isFunction && typeof object.constructor != \"function\" && objectTypes[typeof object.hasOwnProperty] && object.hasOwnProperty || isProperty;\n            for (property in object) {\n              // Gecko <= 1.0 enumerates the `prototype` property of functions under\n              // certain conditions; IE does not.\n              if (!(isFunction && property == \"prototype\") && hasProperty.call(object, property)) {\n                callback(property);\n              }\n            }\n            // Manually invoke the callback for each non-enumerable property.\n            for (length = members.length; property = members[--length]; hasProperty.call(object, property) && callback(property));\n          };\n        } else if (size == 2) {\n          // Safari <= 2.0.4 enumerates shadowed properties twice.\n          forEach = function (object, callback) {\n            // Create a set of iterated properties.\n            var members = {}, isFunction = getClass.call(object) == functionClass, property;\n            for (property in object) {\n              // Store each property name to prevent double enumeration. The\n              // `prototype` property of functions is not enumerated due to cross-\n              // environment inconsistencies.\n              if (!(isFunction && property == \"prototype\") && !isProperty.call(members, property) && (members[property] = 1) && isProperty.call(object, property)) {\n                callback(property);\n              }\n            }\n          };\n        } else {\n          // No bugs detected; use the standard `for...in` algorithm.\n          forEach = function (object, callback) {\n            var isFunction = getClass.call(object) == functionClass, property, isConstructor;\n            for (property in object) {\n              if (!(isFunction && property == \"prototype\") && isProperty.call(object, property) && !(isConstructor = property === \"constructor\")) {\n                callback(property);\n              }\n            }\n            // Manually invoke the callback for the `constructor` property due to\n            // cross-environment inconsistencies.\n            if (isConstructor || isProperty.call(object, (property = \"constructor\"))) {\n              callback(property);\n            }\n          };\n        }\n        return forEach(object, callback);\n      };\n\n      // Public: Serializes a JavaScript `value` as a JSON string. The optional\n      // `filter` argument may specify either a function that alters how object and\n      // array members are serialized, or an array of strings and numbers that\n      // indicates which properties should be serialized. The optional `width`\n      // argument may be either a string or number that specifies the indentation\n      // level of the output.\n      if (!has(\"json-stringify\")) {\n        // Internal: A map of control characters and their escaped equivalents.\n        var Escapes = {\n          92: \"\\\\\\\\\",\n          34: '\\\\\"',\n          8: \"\\\\b\",\n          12: \"\\\\f\",\n          10: \"\\\\n\",\n          13: \"\\\\r\",\n          9: \"\\\\t\"\n        };\n\n        // Internal: Converts `value` into a zero-padded string such that its\n        // length is at least equal to `width`. The `width` must be <= 6.\n        var leadingZeroes = \"000000\";\n        var toPaddedString = function (width, value) {\n          // The `|| 0` expression is necessary to work around a bug in\n          // Opera <= 7.54u2 where `0 == -0`, but `String(-0) !== \"0\"`.\n          return (leadingZeroes + (value || 0)).slice(-width);\n        };\n\n        // Internal: Double-quotes a string `value`, replacing all ASCII control\n        // characters (characters with code unit values between 0 and 31) with\n        // their escaped equivalents. This is an implementation of the\n        // `Quote(value)` operation defined in ES 5.1 section 15.12.3.\n        var unicodePrefix = \"\\\\u00\";\n        var quote = function (value) {\n          var result = '\"', index = 0, length = value.length, useCharIndex = !charIndexBuggy || length > 10;\n          var symbols = useCharIndex && (charIndexBuggy ? value.split(\"\") : value);\n          for (; index < length; index++) {\n            var charCode = value.charCodeAt(index);\n            // If the character is a control character, append its Unicode or\n            // shorthand escape sequence; otherwise, append the character as-is.\n            switch (charCode) {\n              case 8: case 9: case 10: case 12: case 13: case 34: case 92:\n                result += Escapes[charCode];\n                break;\n              default:\n                if (charCode < 32) {\n                  result += unicodePrefix + toPaddedString(2, charCode.toString(16));\n                  break;\n                }\n                result += useCharIndex ? symbols[index] : value.charAt(index);\n            }\n          }\n          return result + '\"';\n        };\n\n        // Internal: Recursively serializes an object. Implements the\n        // `Str(key, holder)`, `JO(value)`, and `JA(value)` operations.\n        var serialize = function (property, object, callback, properties, whitespace, indentation, stack) {\n          var value, className, year, month, date, time, hours, minutes, seconds, milliseconds, results, element, index, length, prefix, result;\n          try {\n            // Necessary for host object support.\n            value = object[property];\n          } catch (exception) {}\n          if (typeof value == \"object\" && value) {\n            className = getClass.call(value);\n            if (className == dateClass && !isProperty.call(value, \"toJSON\")) {\n              if (value > -1 / 0 && value < 1 / 0) {\n                // Dates are serialized according to the `Date#toJSON` method\n                // specified in ES 5.1 section 15.9.5.44. See section 15.9.1.15\n                // for the ISO 8601 date time string format.\n                if (getDay) {\n                  // Manually compute the year, month, date, hours, minutes,\n                  // seconds, and milliseconds if the `getUTC*` methods are\n                  // buggy. Adapted from @Yaffle's `date-shim` project.\n                  date = floor(value / 864e5);\n                  for (year = floor(date / 365.2425) + 1970 - 1; getDay(year + 1, 0) <= date; year++);\n                  for (month = floor((date - getDay(year, 0)) / 30.42); getDay(year, month + 1) <= date; month++);\n                  date = 1 + date - getDay(year, month);\n                  // The `time` value specifies the time within the day (see ES\n                  // 5.1 section 15.9.1.2). The formula `(A % B + B) % B` is used\n                  // to compute `A modulo B`, as the `%` operator does not\n                  // correspond to the `modulo` operation for negative numbers.\n                  time = (value % 864e5 + 864e5) % 864e5;\n                  // The hours, minutes, seconds, and milliseconds are obtained by\n                  // decomposing the time within the day. See section 15.9.1.10.\n                  hours = floor(time / 36e5) % 24;\n                  minutes = floor(time / 6e4) % 60;\n                  seconds = floor(time / 1e3) % 60;\n                  milliseconds = time % 1e3;\n                } else {\n                  year = value.getUTCFullYear();\n                  month = value.getUTCMonth();\n                  date = value.getUTCDate();\n                  hours = value.getUTCHours();\n                  minutes = value.getUTCMinutes();\n                  seconds = value.getUTCSeconds();\n                  milliseconds = value.getUTCMilliseconds();\n                }\n                // Serialize extended years correctly.\n                value = (year <= 0 || year >= 1e4 ? (year < 0 ? \"-\" : \"+\") + toPaddedString(6, year < 0 ? -year : year) : toPaddedString(4, year)) +\n                  \"-\" + toPaddedString(2, month + 1) + \"-\" + toPaddedString(2, date) +\n                  // Months, dates, hours, minutes, and seconds should have two\n                  // digits; milliseconds should have three.\n                  \"T\" + toPaddedString(2, hours) + \":\" + toPaddedString(2, minutes) + \":\" + toPaddedString(2, seconds) +\n                  // Milliseconds are optional in ES 5.0, but required in 5.1.\n                  \".\" + toPaddedString(3, milliseconds) + \"Z\";\n              } else {\n                value = null;\n              }\n            } else if (typeof value.toJSON == \"function\" && ((className != numberClass && className != stringClass && className != arrayClass) || isProperty.call(value, \"toJSON\"))) {\n              // Prototype <= 1.6.1 adds non-standard `toJSON` methods to the\n              // `Number`, `String`, `Date`, and `Array` prototypes. JSON 3\n              // ignores all `toJSON` methods on these objects unless they are\n              // defined directly on an instance.\n              value = value.toJSON(property);\n            }\n          }\n          if (callback) {\n            // If a replacement function was provided, call it to obtain the value\n            // for serialization.\n            value = callback.call(object, property, value);\n          }\n          if (value === null) {\n            return \"null\";\n          }\n          className = getClass.call(value);\n          if (className == booleanClass) {\n            // Booleans are represented literally.\n            return \"\" + value;\n          } else if (className == numberClass) {\n            // JSON numbers must be finite. `Infinity` and `NaN` are serialized as\n            // `\"null\"`.\n            return value > -1 / 0 && value < 1 / 0 ? \"\" + value : \"null\";\n          } else if (className == stringClass) {\n            // Strings are double-quoted and escaped.\n            return quote(\"\" + value);\n          }\n          // Recursively serialize objects and arrays.\n          if (typeof value == \"object\") {\n            // Check for cyclic structures. This is a linear search; performance\n            // is inversely proportional to the number of unique nested objects.\n            for (length = stack.length; length--;) {\n              if (stack[length] === value) {\n                // Cyclic structures cannot be serialized by `JSON.stringify`.\n                throw TypeError();\n              }\n            }\n            // Add the object to the stack of traversed objects.\n            stack.push(value);\n            results = [];\n            // Save the current indentation level and indent one additional level.\n            prefix = indentation;\n            indentation += whitespace;\n            if (className == arrayClass) {\n              // Recursively serialize array elements.\n              for (index = 0, length = value.length; index < length; index++) {\n                element = serialize(index, value, callback, properties, whitespace, indentation, stack);\n                results.push(element === undef ? \"null\" : element);\n              }\n              result = results.length ? (whitespace ? \"[\\n\" + indentation + results.join(\",\\n\" + indentation) + \"\\n\" + prefix + \"]\" : (\"[\" + results.join(\",\") + \"]\")) : \"[]\";\n            } else {\n              // Recursively serialize object members. Members are selected from\n              // either a user-specified list of property names, or the object\n              // itself.\n              forEach(properties || value, function (property) {\n                var element = serialize(property, value, callback, properties, whitespace, indentation, stack);\n                if (element !== undef) {\n                  // According to ES 5.1 section 15.12.3: \"If `gap` {whitespace}\n                  // is not the empty string, let `member` {quote(property) + \":\"}\n                  // be the concatenation of `member` and the `space` character.\"\n                  // The \"`space` character\" refers to the literal space\n                  // character, not the `space` {width} argument provided to\n                  // `JSON.stringify`.\n                  results.push(quote(property) + \":\" + (whitespace ? \" \" : \"\") + element);\n                }\n              });\n              result = results.length ? (whitespace ? \"{\\n\" + indentation + results.join(\",\\n\" + indentation) + \"\\n\" + prefix + \"}\" : (\"{\" + results.join(\",\") + \"}\")) : \"{}\";\n            }\n            // Remove the object from the traversed object stack.\n            stack.pop();\n            return result;\n          }\n        };\n\n        // Public: `JSON.stringify`. See ES 5.1 section 15.12.3.\n        exports.stringify = function (source, filter, width) {\n          var whitespace, callback, properties, className;\n          if (objectTypes[typeof filter] && filter) {\n            if ((className = getClass.call(filter)) == functionClass) {\n              callback = filter;\n            } else if (className == arrayClass) {\n              // Convert the property names array into a makeshift set.\n              properties = {};\n              for (var index = 0, length = filter.length, value; index < length; value = filter[index++], ((className = getClass.call(value)), className == stringClass || className == numberClass) && (properties[value] = 1));\n            }\n          }\n          if (width) {\n            if ((className = getClass.call(width)) == numberClass) {\n              // Convert the `width` to an integer and create a string containing\n              // `width` number of space characters.\n              if ((width -= width % 1) > 0) {\n                for (whitespace = \"\", width > 10 && (width = 10); whitespace.length < width; whitespace += \" \");\n              }\n            } else if (className == stringClass) {\n              whitespace = width.length <= 10 ? width : width.slice(0, 10);\n            }\n          }\n          // Opera <= 7.54u2 discards the values associated with empty string keys\n          // (`\"\"`) only if they are used directly within an object member list\n          // (e.g., `!(\"\" in { \"\": 1})`).\n          return serialize(\"\", (value = {}, value[\"\"] = source, value), callback, properties, whitespace, \"\", []);\n        };\n      }\n\n      // Public: Parses a JSON source string.\n      if (!has(\"json-parse\")) {\n        var fromCharCode = String.fromCharCode;\n\n        // Internal: A map of escaped control characters and their unescaped\n        // equivalents.\n        var Unescapes = {\n          92: \"\\\\\",\n          34: '\"',\n          47: \"/\",\n          98: \"\\b\",\n          116: \"\\t\",\n          110: \"\\n\",\n          102: \"\\f\",\n          114: \"\\r\"\n        };\n\n        // Internal: Stores the parser state.\n        var Index, Source;\n\n        // Internal: Resets the parser state and throws a `SyntaxError`.\n        var abort = function () {\n          Index = Source = null;\n          throw SyntaxError();\n        };\n\n        // Internal: Returns the next token, or `\"$\"` if the parser has reached\n        // the end of the source string. A token may be a string, number, `null`\n        // literal, or Boolean literal.\n        var lex = function () {\n          var source = Source, length = source.length, value, begin, position, isSigned, charCode;\n          while (Index < length) {\n            charCode = source.charCodeAt(Index);\n            switch (charCode) {\n              case 9: case 10: case 13: case 32:\n                // Skip whitespace tokens, including tabs, carriage returns, line\n                // feeds, and space characters.\n                Index++;\n                break;\n              case 123: case 125: case 91: case 93: case 58: case 44:\n                // Parse a punctuator token (`{`, `}`, `[`, `]`, `:`, or `,`) at\n                // the current position.\n                value = charIndexBuggy ? source.charAt(Index) : source[Index];\n                Index++;\n                return value;\n              case 34:\n                // `\"` delimits a JSON string; advance to the next character and\n                // begin parsing the string. String tokens are prefixed with the\n                // sentinel `@` character to distinguish them from punctuators and\n                // end-of-string tokens.\n                for (value = \"@\", Index++; Index < length;) {\n                  charCode = source.charCodeAt(Index);\n                  if (charCode < 32) {\n                    // Unescaped ASCII control characters (those with a code unit\n                    // less than the space character) are not permitted.\n                    abort();\n                  } else if (charCode == 92) {\n                    // A reverse solidus (`\\`) marks the beginning of an escaped\n                    // control character (including `\"`, `\\`, and `/`) or Unicode\n                    // escape sequence.\n                    charCode = source.charCodeAt(++Index);\n                    switch (charCode) {\n                      case 92: case 34: case 47: case 98: case 116: case 110: case 102: case 114:\n                        // Revive escaped control characters.\n                        value += Unescapes[charCode];\n                        Index++;\n                        break;\n                      case 117:\n                        // `\\u` marks the beginning of a Unicode escape sequence.\n                        // Advance to the first character and validate the\n                        // four-digit code point.\n                        begin = ++Index;\n                        for (position = Index + 4; Index < position; Index++) {\n                          charCode = source.charCodeAt(Index);\n                          // A valid sequence comprises four hexdigits (case-\n                          // insensitive) that form a single hexadecimal value.\n                          if (!(charCode >= 48 && charCode <= 57 || charCode >= 97 && charCode <= 102 || charCode >= 65 && charCode <= 70)) {\n                            // Invalid Unicode escape sequence.\n                            abort();\n                          }\n                        }\n                        // Revive the escaped character.\n                        value += fromCharCode(\"0x\" + source.slice(begin, Index));\n                        break;\n                      default:\n                        // Invalid escape sequence.\n                        abort();\n                    }\n                  } else {\n                    if (charCode == 34) {\n                      // An unescaped double-quote character marks the end of the\n                      // string.\n                      break;\n                    }\n                    charCode = source.charCodeAt(Index);\n                    begin = Index;\n                    // Optimize for the common case where a string is valid.\n                    while (charCode >= 32 && charCode != 92 && charCode != 34) {\n                      charCode = source.charCodeAt(++Index);\n                    }\n                    // Append the string as-is.\n                    value += source.slice(begin, Index);\n                  }\n                }\n                if (source.charCodeAt(Index) == 34) {\n                  // Advance to the next character and return the revived string.\n                  Index++;\n                  return value;\n                }\n                // Unterminated string.\n                abort();\n              default:\n                // Parse numbers and literals.\n                begin = Index;\n                // Advance past the negative sign, if one is specified.\n                if (charCode == 45) {\n                  isSigned = true;\n                  charCode = source.charCodeAt(++Index);\n                }\n                // Parse an integer or floating-point value.\n                if (charCode >= 48 && charCode <= 57) {\n                  // Leading zeroes are interpreted as octal literals.\n                  if (charCode == 48 && ((charCode = source.charCodeAt(Index + 1)), charCode >= 48 && charCode <= 57)) {\n                    // Illegal octal literal.\n                    abort();\n                  }\n                  isSigned = false;\n                  // Parse the integer component.\n                  for (; Index < length && ((charCode = source.charCodeAt(Index)), charCode >= 48 && charCode <= 57); Index++);\n                  // Floats cannot contain a leading decimal point; however, this\n                  // case is already accounted for by the parser.\n                  if (source.charCodeAt(Index) == 46) {\n                    position = ++Index;\n                    // Parse the decimal component.\n                    for (; position < length && ((charCode = source.charCodeAt(position)), charCode >= 48 && charCode <= 57); position++);\n                    if (position == Index) {\n                      // Illegal trailing decimal.\n                      abort();\n                    }\n                    Index = position;\n                  }\n                  // Parse exponents. The `e` denoting the exponent is\n                  // case-insensitive.\n                  charCode = source.charCodeAt(Index);\n                  if (charCode == 101 || charCode == 69) {\n                    charCode = source.charCodeAt(++Index);\n                    // Skip past the sign following the exponent, if one is\n                    // specified.\n                    if (charCode == 43 || charCode == 45) {\n                      Index++;\n                    }\n                    // Parse the exponential component.\n                    for (position = Index; position < length && ((charCode = source.charCodeAt(position)), charCode >= 48 && charCode <= 57); position++);\n                    if (position == Index) {\n                      // Illegal empty exponent.\n                      abort();\n                    }\n                    Index = position;\n                  }\n                  // Coerce the parsed value to a JavaScript number.\n                  return +source.slice(begin, Index);\n                }\n                // A negative sign may only precede numbers.\n                if (isSigned) {\n                  abort();\n                }\n                // `true`, `false`, and `null` literals.\n                if (source.slice(Index, Index + 4) == \"true\") {\n                  Index += 4;\n                  return true;\n                } else if (source.slice(Index, Index + 5) == \"false\") {\n                  Index += 5;\n                  return false;\n                } else if (source.slice(Index, Index + 4) == \"null\") {\n                  Index += 4;\n                  return null;\n                }\n                // Unrecognized token.\n                abort();\n            }\n          }\n          // Return the sentinel `$` character if the parser has reached the end\n          // of the source string.\n          return \"$\";\n        };\n\n        // Internal: Parses a JSON `value` token.\n        var get = function (value) {\n          var results, hasMembers;\n          if (value == \"$\") {\n            // Unexpected end of input.\n            abort();\n          }\n          if (typeof value == \"string\") {\n            if ((charIndexBuggy ? value.charAt(0) : value[0]) == \"@\") {\n              // Remove the sentinel `@` character.\n              return value.slice(1);\n            }\n            // Parse object and array literals.\n            if (value == \"[\") {\n              // Parses a JSON array, returning a new JavaScript array.\n              results = [];\n              for (;; hasMembers || (hasMembers = true)) {\n                value = lex();\n                // A closing square bracket marks the end of the array literal.\n                if (value == \"]\") {\n                  break;\n                }\n                // If the array literal contains elements, the current token\n                // should be a comma separating the previous element from the\n                // next.\n                if (hasMembers) {\n                  if (value == \",\") {\n                    value = lex();\n                    if (value == \"]\") {\n                      // Unexpected trailing `,` in array literal.\n                      abort();\n                    }\n                  } else {\n                    // A `,` must separate each array element.\n                    abort();\n                  }\n                }\n                // Elisions and leading commas are not permitted.\n                if (value == \",\") {\n                  abort();\n                }\n                results.push(get(value));\n              }\n              return results;\n            } else if (value == \"{\") {\n              // Parses a JSON object, returning a new JavaScript object.\n              results = {};\n              for (;; hasMembers || (hasMembers = true)) {\n                value = lex();\n                // A closing curly brace marks the end of the object literal.\n                if (value == \"}\") {\n                  break;\n                }\n                // If the object literal contains members, the current token\n                // should be a comma separator.\n                if (hasMembers) {\n                  if (value == \",\") {\n                    value = lex();\n                    if (value == \"}\") {\n                      // Unexpected trailing `,` in object literal.\n                      abort();\n                    }\n                  } else {\n                    // A `,` must separate each object member.\n                    abort();\n                  }\n                }\n                // Leading commas are not permitted, object property names must be\n                // double-quoted strings, and a `:` must separate each property\n                // name and value.\n                if (value == \",\" || typeof value != \"string\" || (charIndexBuggy ? value.charAt(0) : value[0]) != \"@\" || lex() != \":\") {\n                  abort();\n                }\n                results[value.slice(1)] = get(lex());\n              }\n              return results;\n            }\n            // Unexpected token encountered.\n            abort();\n          }\n          return value;\n        };\n\n        // Internal: Updates a traversed object member.\n        var update = function (source, property, callback) {\n          var element = walk(source, property, callback);\n          if (element === undef) {\n            delete source[property];\n          } else {\n            source[property] = element;\n          }\n        };\n\n        // Internal: Recursively traverses a parsed JSON object, invoking the\n        // `callback` function for each value. This is an implementation of the\n        // `Walk(holder, name)` operation defined in ES 5.1 section 15.12.2.\n        var walk = function (source, property, callback) {\n          var value = source[property], length;\n          if (typeof value == \"object\" && value) {\n            // `forEach` can't be used to traverse an array in Opera <= 8.54\n            // because its `Object#hasOwnProperty` implementation returns `false`\n            // for array indices (e.g., `![1, 2, 3].hasOwnProperty(\"0\")`).\n            if (getClass.call(value) == arrayClass) {\n              for (length = value.length; length--;) {\n                update(value, length, callback);\n              }\n            } else {\n              forEach(value, function (property) {\n                update(value, property, callback);\n              });\n            }\n          }\n          return callback.call(source, property, value);\n        };\n\n        // Public: `JSON.parse`. See ES 5.1 section 15.12.2.\n        exports.parse = function (source, callback) {\n          var result, value;\n          Index = 0;\n          Source = \"\" + source;\n          result = get(lex());\n          // If a JSON string contains multiple tokens, it is invalid.\n          if (lex() != \"$\") {\n            abort();\n          }\n          // Reset the parser state.\n          Index = Source = null;\n          return callback && getClass.call(callback) == functionClass ? walk((value = {}, value[\"\"] = result, value), \"\", callback) : result;\n        };\n      }\n    }\n\n    exports[\"runInContext\"] = runInContext;\n    return exports;\n  }\n\n  if (freeExports && !isLoader) {\n    // Export for CommonJS environments.\n    runInContext(root, freeExports);\n  } else {\n    // Export for web browsers and JavaScript engines.\n    var nativeJSON = root.JSON,\n        previousJSON = root[\"JSON3\"],\n        isRestored = false;\n\n    var JSON3 = runInContext(root, (root[\"JSON3\"] = {\n      // Public: Restores the original value of the global `JSON` object and\n      // returns a reference to the `JSON3` object.\n      \"noConflict\": function () {\n        if (!isRestored) {\n          isRestored = true;\n          root.JSON = nativeJSON;\n          root[\"JSON3\"] = previousJSON;\n          nativeJSON = previousJSON = null;\n        }\n        return JSON3;\n      }\n    }));\n\n    root.JSON = {\n      \"parse\": JSON3.parse,\n      \"stringify\": JSON3.stringify\n    };\n  }\n\n  // Export for asynchronous module loaders.\n  if (isLoader) {\n    define(function () {\n      return JSON3;\n    });\n  }\n}).call(this);\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n},{}],51:[function(_dereq_,module,exports){\nmodule.exports = toArray\n\nfunction toArray(list, index) {\n    var array = []\n\n    index = index || 0\n\n    for (var i = index || 0; i < list.length; i++) {\n        array[i - index] = list[i]\n    }\n\n    return array\n}\n\n},{}]},{},[31])(31)\n});\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{}],2:[function(require,module,exports){\n/* Web Font Loader v1.6.20 - (c) Adobe Systems, Google. License: Apache 2.0 */\n(function(){function aa(a,b,c){return a.call.apply(a.bind,arguments)}function ba(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function p(a,b,c){p=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf(\"native code\")?aa:ba;return p.apply(null,arguments)}var q=Date.now||function(){return+new Date};function ca(a,b){this.a=a;this.m=b||a;this.c=this.m.document}var da=!!window.FontFace;function t(a,b,c,d){b=a.c.createElement(b);if(c)for(var e in c)c.hasOwnProperty(e)&&(\"style\"==e?b.style.cssText=c[e]:b.setAttribute(e,c[e]));d&&b.appendChild(a.c.createTextNode(d));return b}function u(a,b,c){a=a.c.getElementsByTagName(b)[0];a||(a=document.documentElement);a.insertBefore(c,a.lastChild)}function v(a){a.parentNode&&a.parentNode.removeChild(a)}\nfunction w(a,b,c){b=b||[];c=c||[];for(var d=a.className.split(/\\s+/),e=0;e<b.length;e+=1){for(var f=!1,g=0;g<d.length;g+=1)if(b[e]===d[g]){f=!0;break}f||d.push(b[e])}b=[];for(e=0;e<d.length;e+=1){f=!1;for(g=0;g<c.length;g+=1)if(d[e]===c[g]){f=!0;break}f||b.push(d[e])}a.className=b.join(\" \").replace(/\\s+/g,\" \").replace(/^\\s+|\\s+$/,\"\")}function y(a,b){for(var c=a.className.split(/\\s+/),d=0,e=c.length;d<e;d++)if(c[d]==b)return!0;return!1}\nfunction z(a){if(\"string\"===typeof a.f)return a.f;var b=a.m.location.protocol;\"about:\"==b&&(b=a.a.location.protocol);return\"https:\"==b?\"https:\":\"http:\"}function ea(a){return a.m.location.hostname||a.a.location.hostname}\nfunction A(a,b,c){function d(){k&&e&&f&&(k(g),k=null)}b=t(a,\"link\",{rel:\"stylesheet\",href:b,media:\"all\"});var e=!1,f=!0,g=null,k=c||null;da?(b.onload=function(){e=!0;d()},b.onerror=function(){e=!0;g=Error(\"Stylesheet failed to load\");d()}):setTimeout(function(){e=!0;d()},0);u(a,\"head\",b)}\nfunction B(a,b,c,d){var e=a.c.getElementsByTagName(\"head\")[0];if(e){var f=t(a,\"script\",{src:b}),g=!1;f.onload=f.onreadystatechange=function(){g||this.readyState&&\"loaded\"!=this.readyState&&\"complete\"!=this.readyState||(g=!0,c&&c(null),f.onload=f.onreadystatechange=null,\"HEAD\"==f.parentNode.tagName&&e.removeChild(f))};e.appendChild(f);setTimeout(function(){g||(g=!0,c&&c(Error(\"Script load timeout\")))},d||5E3);return f}return null};function C(){this.a=0;this.c=null}function D(a){a.a++;return function(){a.a--;E(a)}}function F(a,b){a.c=b;E(a)}function E(a){0==a.a&&a.c&&(a.c(),a.c=null)};function G(a){this.a=a||\"-\"}G.prototype.c=function(a){for(var b=[],c=0;c<arguments.length;c++)b.push(arguments[c].replace(/[\\W_]+/g,\"\").toLowerCase());return b.join(this.a)};function H(a,b){this.c=a;this.f=4;this.a=\"n\";var c=(b||\"n4\").match(/^([nio])([1-9])$/i);c&&(this.a=c[1],this.f=parseInt(c[2],10))}function fa(a){return I(a)+\" \"+(a.f+\"00\")+\" 300px \"+J(a.c)}function J(a){var b=[];a=a.split(/,\\s*/);for(var c=0;c<a.length;c++){var d=a[c].replace(/['\"]/g,\"\");-1!=d.indexOf(\" \")||/^\\d/.test(d)?b.push(\"'\"+d+\"'\"):b.push(d)}return b.join(\",\")}function K(a){return a.a+a.f}function I(a){var b=\"normal\";\"o\"===a.a?b=\"oblique\":\"i\"===a.a&&(b=\"italic\");return b}\nfunction ga(a){var b=4,c=\"n\",d=null;a&&((d=a.match(/(normal|oblique|italic)/i))&&d[1]&&(c=d[1].substr(0,1).toLowerCase()),(d=a.match(/([1-9]00|normal|bold)/i))&&d[1]&&(/bold/i.test(d[1])?b=7:/[1-9]00/.test(d[1])&&(b=parseInt(d[1].substr(0,1),10))));return c+b};function ha(a,b){this.c=a;this.f=a.m.document.documentElement;this.h=b;this.a=new G(\"-\");this.j=!1!==b.events;this.g=!1!==b.classes}function ia(a){a.g&&w(a.f,[a.a.c(\"wf\",\"loading\")]);L(a,\"loading\")}function M(a){if(a.g){var b=y(a.f,a.a.c(\"wf\",\"active\")),c=[],d=[a.a.c(\"wf\",\"loading\")];b||c.push(a.a.c(\"wf\",\"inactive\"));w(a.f,c,d)}L(a,\"inactive\")}function L(a,b,c){if(a.j&&a.h[b])if(c)a.h[b](c.c,K(c));else a.h[b]()};function ja(){this.c={}}function ka(a,b,c){var d=[],e;for(e in b)if(b.hasOwnProperty(e)){var f=a.c[e];f&&d.push(f(b[e],c))}return d};function N(a,b){this.c=a;this.f=b;this.a=t(this.c,\"span\",{\"aria-hidden\":\"true\"},this.f)}function O(a){u(a.c,\"body\",a.a)}function P(a){return\"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:\"+J(a.c)+\";\"+(\"font-style:\"+I(a)+\";font-weight:\"+(a.f+\"00\")+\";\")};function Q(a,b,c,d,e,f){this.g=a;this.f=b;this.a=d;this.c=c;this.j=e||3E3;this.h=f||void 0}Q.prototype.start=function(){function a(){q()-d>=c.j?c.f(c.a):b.fonts.load(fa(c.a),c.h).then(function(b){1<=b.length?c.g(c.a):setTimeout(a,25)},function(){c.f(c.a)})}var b=this.c.m.document,c=this,d=q();a()};function R(a,b,c,d,e,f,g){this.v=a;this.B=b;this.c=c;this.a=d;this.s=g||\"BESbswy\";this.f={};this.w=e||3E3;this.u=f||null;this.o=this.j=this.h=this.g=null;this.g=new N(this.c,this.s);this.h=new N(this.c,this.s);this.j=new N(this.c,this.s);this.o=new N(this.c,this.s);a=new H(this.a.c+\",serif\",K(this.a));a=P(a);this.g.a.style.cssText=a;a=new H(this.a.c+\",sans-serif\",K(this.a));a=P(a);this.h.a.style.cssText=a;a=new H(\"serif\",K(this.a));a=P(a);this.j.a.style.cssText=a;a=new H(\"sans-serif\",K(this.a));a=\nP(a);this.o.a.style.cssText=a;O(this.g);O(this.h);O(this.j);O(this.o)}var S={D:\"serif\",C:\"sans-serif\"},T=null;function U(){if(null===T){var a=/AppleWebKit\\/([0-9]+)(?:\\.([0-9]+))/.exec(window.navigator.userAgent);T=!!a&&(536>parseInt(a[1],10)||536===parseInt(a[1],10)&&11>=parseInt(a[2],10))}return T}R.prototype.start=function(){this.f.serif=this.j.a.offsetWidth;this.f[\"sans-serif\"]=this.o.a.offsetWidth;this.A=q();la(this)};\nfunction ma(a,b,c){for(var d in S)if(S.hasOwnProperty(d)&&b===a.f[S[d]]&&c===a.f[S[d]])return!0;return!1}function la(a){var b=a.g.a.offsetWidth,c=a.h.a.offsetWidth,d;(d=b===a.f.serif&&c===a.f[\"sans-serif\"])||(d=U()&&ma(a,b,c));d?q()-a.A>=a.w?U()&&ma(a,b,c)&&(null===a.u||a.u.hasOwnProperty(a.a.c))?V(a,a.v):V(a,a.B):na(a):V(a,a.v)}function na(a){setTimeout(p(function(){la(this)},a),50)}function V(a,b){setTimeout(p(function(){v(this.g.a);v(this.h.a);v(this.j.a);v(this.o.a);b(this.a)},a),0)};function W(a,b,c){this.c=a;this.a=b;this.f=0;this.o=this.j=!1;this.s=c}var X=null;W.prototype.g=function(a){var b=this.a;b.g&&w(b.f,[b.a.c(\"wf\",a.c,K(a).toString(),\"active\")],[b.a.c(\"wf\",a.c,K(a).toString(),\"loading\"),b.a.c(\"wf\",a.c,K(a).toString(),\"inactive\")]);L(b,\"fontactive\",a);this.o=!0;oa(this)};\nW.prototype.h=function(a){var b=this.a;if(b.g){var c=y(b.f,b.a.c(\"wf\",a.c,K(a).toString(),\"active\")),d=[],e=[b.a.c(\"wf\",a.c,K(a).toString(),\"loading\")];c||d.push(b.a.c(\"wf\",a.c,K(a).toString(),\"inactive\"));w(b.f,d,e)}L(b,\"fontinactive\",a);oa(this)};function oa(a){0==--a.f&&a.j&&(a.o?(a=a.a,a.g&&w(a.f,[a.a.c(\"wf\",\"active\")],[a.a.c(\"wf\",\"loading\"),a.a.c(\"wf\",\"inactive\")]),L(a,\"active\")):M(a.a))};function pa(a){this.j=a;this.a=new ja;this.h=0;this.f=this.g=!0}pa.prototype.load=function(a){this.c=new ca(this.j,a.context||this.j);this.g=!1!==a.events;this.f=!1!==a.classes;qa(this,new ha(this.c,a),a)};\nfunction ra(a,b,c,d,e){var f=0==--a.h;(a.f||a.g)&&setTimeout(function(){var a=e||null,k=d||null||{};if(0===c.length&&f)M(b.a);else{b.f+=c.length;f&&(b.j=f);var h,m=[];for(h=0;h<c.length;h++){var l=c[h],n=k[l.c],r=b.a,x=l;r.g&&w(r.f,[r.a.c(\"wf\",x.c,K(x).toString(),\"loading\")]);L(r,\"fontloading\",x);r=null;null===X&&(X=window.FontFace?(x=/Gecko.*Firefox\\/(\\d+)/.exec(window.navigator.userAgent))?42<parseInt(x[1],10):!0:!1);X?r=new Q(p(b.g,b),p(b.h,b),b.c,l,b.s,n):r=new R(p(b.g,b),p(b.h,b),b.c,l,b.s,a,\nn);m.push(r)}for(h=0;h<m.length;h++)m[h].start()}},0)}function qa(a,b,c){var d=[],e=c.timeout;ia(b);var d=ka(a.a,c,a.c),f=new W(a.c,b,e);a.h=d.length;b=0;for(c=d.length;b<c;b++)d[b].load(function(b,c,d){ra(a,f,b,c,d)})};function sa(a,b){this.c=a;this.a=b}function ta(a,b,c){var d=z(a.c);a=(a.a.api||\"fast.fonts.net/jsapi\").replace(/^.*http(s?):(\\/\\/)?/,\"\");return d+\"//\"+a+\"/\"+b+\".js\"+(c?\"?v=\"+c:\"\")}\nsa.prototype.load=function(a){function b(){if(e[\"__mti_fntLst\"+c]){var d=e[\"__mti_fntLst\"+c](),g=[],k;if(d)for(var h=0;h<d.length;h++){var m=d[h].fontfamily;void 0!=d[h].fontStyle&&void 0!=d[h].fontWeight?(k=d[h].fontStyle+d[h].fontWeight,g.push(new H(m,k))):g.push(new H(m))}a(g)}else setTimeout(function(){b()},50)}var c=this.a.projectId,d=this.a.version;if(c){var e=this.c.m;B(this.c,ta(this,c,d),function(d){d?a([]):b()}).id=\"__MonotypeAPIScript__\"+c}else a([])};function ua(a,b){this.c=a;this.a=b}ua.prototype.load=function(a){var b,c,d=this.a.urls||[],e=this.a.families||[],f=this.a.testStrings||{},g=new C;b=0;for(c=d.length;b<c;b++)A(this.c,d[b],D(g));var k=[];b=0;for(c=e.length;b<c;b++)if(d=e[b].split(\":\"),d[1])for(var h=d[1].split(\",\"),m=0;m<h.length;m+=1)k.push(new H(d[0],h[m]));else k.push(new H(d[0]));F(g,function(){a(k,f)})};function va(a,b,c){a?this.c=a:this.c=b+wa;this.a=[];this.f=[];this.g=c||\"\"}var wa=\"//fonts.googleapis.com/css\";function xa(a,b){for(var c=b.length,d=0;d<c;d++){var e=b[d].split(\":\");3==e.length&&a.f.push(e.pop());var f=\"\";2==e.length&&\"\"!=e[1]&&(f=\":\");a.a.push(e.join(f))}}\nfunction ya(a){if(0==a.a.length)throw Error(\"No fonts to load!\");if(-1!=a.c.indexOf(\"kit=\"))return a.c;for(var b=a.a.length,c=[],d=0;d<b;d++)c.push(a.a[d].replace(/ /g,\"+\"));b=a.c+\"?family=\"+c.join(\"%7C\");0<a.f.length&&(b+=\"&subset=\"+a.f.join(\",\"));0<a.g.length&&(b+=\"&text=\"+encodeURIComponent(a.g));return b};function za(a){this.f=a;this.a=[];this.c={}}\nvar Aa={latin:\"BESbswy\",cyrillic:\"&#1081;&#1103;&#1046;\",greek:\"&#945;&#946;&#931;\",khmer:\"&#x1780;&#x1781;&#x1782;\",Hanuman:\"&#x1780;&#x1781;&#x1782;\"},Ba={thin:\"1\",extralight:\"2\",\"extra-light\":\"2\",ultralight:\"2\",\"ultra-light\":\"2\",light:\"3\",regular:\"4\",book:\"4\",medium:\"5\",\"semi-bold\":\"6\",semibold:\"6\",\"demi-bold\":\"6\",demibold:\"6\",bold:\"7\",\"extra-bold\":\"8\",extrabold:\"8\",\"ultra-bold\":\"8\",ultrabold:\"8\",black:\"9\",heavy:\"9\",l:\"3\",r:\"4\",b:\"7\"},Ca={i:\"i\",italic:\"i\",n:\"n\",normal:\"n\"},Da=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;\nfunction Ea(a){for(var b=a.f.length,c=0;c<b;c++){var d=a.f[c].split(\":\"),e=d[0].replace(/\\+/g,\" \"),f=[\"n4\"];if(2<=d.length){var g;var k=d[1];g=[];if(k)for(var k=k.split(\",\"),h=k.length,m=0;m<h;m++){var l;l=k[m];if(l.match(/^[\\w-]+$/)){var n=Da.exec(l.toLowerCase());if(null==n)l=\"\";else{l=n[2];l=null==l||\"\"==l?\"n\":Ca[l];n=n[1];if(null==n||\"\"==n)n=\"4\";else var r=Ba[n],n=r?r:isNaN(n)?\"4\":n.substr(0,1);l=[l,n].join(\"\")}}else l=\"\";l&&g.push(l)}0<g.length&&(f=g);3==d.length&&(d=d[2],g=[],d=d?d.split(\",\"):\ng,0<d.length&&(d=Aa[d[0]])&&(a.c[e]=d))}a.c[e]||(d=Aa[e])&&(a.c[e]=d);for(d=0;d<f.length;d+=1)a.a.push(new H(e,f[d]))}};function Fa(a,b){this.c=a;this.a=b}var Ga={Arimo:!0,Cousine:!0,Tinos:!0};Fa.prototype.load=function(a){var b=new C,c=this.c,d=new va(this.a.api,z(c),this.a.text),e=this.a.families;xa(d,e);var f=new za(e);Ea(f);A(c,ya(d),D(b));F(b,function(){a(f.a,f.c,Ga)})};function Ha(a,b){this.c=a;this.a=b}Ha.prototype.load=function(a){var b=this.a.id,c=this.c.m;b?B(this.c,(this.a.api||\"https://use.typekit.net\")+\"/\"+b+\".js\",function(b){if(b)a([]);else if(c.Typekit&&c.Typekit.config&&c.Typekit.config.fn){b=c.Typekit.config.fn;for(var e=[],f=0;f<b.length;f+=2)for(var g=b[f],k=b[f+1],h=0;h<k.length;h++)e.push(new H(g,k[h]));try{c.Typekit.load({events:!1,classes:!1,async:!0})}catch(m){}a(e)}},2E3):a([])};function Ia(a,b){this.c=a;this.f=b;this.a=[]}Ia.prototype.load=function(a){var b=this.f.id,c=this.c.m,d=this;b?(c.__webfontfontdeckmodule__||(c.__webfontfontdeckmodule__={}),c.__webfontfontdeckmodule__[b]=function(b,c){for(var g=0,k=c.fonts.length;g<k;++g){var h=c.fonts[g];d.a.push(new H(h.name,ga(\"font-weight:\"+h.weight+\";font-style:\"+h.style)))}a(d.a)},B(this.c,z(this.c)+(this.f.api||\"//f.fontdeck.com/s/css/js/\")+ea(this.c)+\"/\"+b+\".js\",function(b){b&&a([])})):a([])};var Y=new pa(window);Y.a.c.custom=function(a,b){return new ua(b,a)};Y.a.c.fontdeck=function(a,b){return new Ia(b,a)};Y.a.c.monotype=function(a,b){return new sa(b,a)};Y.a.c.typekit=function(a,b){return new Ha(b,a)};Y.a.c.google=function(a,b){return new Fa(b,a)};var Z={load:p(Y.load,Y)};\"function\"===typeof define&&define.amd?define(function(){return Z}):\"undefined\"!==typeof module&&module.exports?module.exports=Z:(window.WebFont=Z,window.WebFontConfig&&Y.load(window.WebFontConfig));}());\n\n\n},{}],3:[function(require,module,exports){\n\"use strict\";\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _PrefLoader = require(\"./Components/PrefLoader\");\n\nvar _PrefLoader2 = _interopRequireDefault(_PrefLoader);\n\nvar _Authentication = require(\"./Components/Authentication\");\n\nvar _Authentication2 = _interopRequireDefault(_Authentication);\n\nvar _Localization = require(\"./Components/Localization\");\n\nvar _Localization2 = _interopRequireDefault(_Localization);\n\nvar _Boot = require(\"./States/Boot\");\n\nvar _Boot2 = _interopRequireDefault(_Boot);\n\nvar _Connecting = require(\"./States/Connecting\");\n\nvar _Connecting2 = _interopRequireDefault(_Connecting);\n\nvar _MainMenu = require(\"./States/MainMenu\");\n\nvar _MainMenu2 = _interopRequireDefault(_MainMenu);\n\nvar _Options = require(\"./States/Options\");\n\nvar _Options2 = _interopRequireDefault(_Options);\n\nvar _Play = require(\"./States/Play\");\n\nvar _Play2 = _interopRequireDefault(_Play);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Backgamon = function (_Phaser$Game) {\n    _inherits(Backgamon, _Phaser$Game);\n\n    function Backgamon() {\n        _classCallCheck(this, Backgamon);\n\n        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Backgamon).call(this, 1280, 720, Phaser.AUTO, \"\", null, false, true));\n\n        _this.muted = false;\n\n        _this.l10ns = {};\n        _this.languages = [\"en\", \"ar\"];\n        _this.strings = [];\n\n        _this.prefs = new _PrefLoader2.default();\n        _this.muted = _this.prefs.get(\"muted\", false);\n        //this.name = this.prefs[\"name\"];\n\n        _this.state.add(\"Boot\", _Boot2.default, true);\n        _this.state.add(\"MainMenu\", _MainMenu2.default);\n        _this.state.add(\"Options\", _Options2.default);\n        _this.state.add(\"Play\", _Play2.default);\n        _this.state.add(\"Connecting\", _Connecting2.default);\n        return _this;\n    }\n\n    _createClass(Backgamon, [{\n        key: \"toggleFullscreen\",\n        value: function toggleFullscreen() {\n            if (this.scale.isFullScreen) this.scale.stopFullScreen();else this.scale.startFullScreen(false);\n        }\n    }]);\n\n    return Backgamon;\n}(Phaser.Game);\n\nexports.default = Backgamon;\n\nBackgamon.guidesX = [177, 259, 341, 424, 506, 588, 692, 774, 865, 938, 1020, 1102];\nBackgamon.guidesY = [685, 30];\nBackgamon.columnWidth = 81;\nBackgamon.maxColumnHeight = 265;\nBackgamon.pieceDefaultScale = Backgamon.columnWidth / 238;\nBackgamon.pieceHeight = Backgamon.pieceDefaultScale * 238;\n\n},{\"./Components/Authentication\":4,\"./Components/Localization\":7,\"./Components/PrefLoader\":9,\"./States/Boot\":11,\"./States/Connecting\":12,\"./States/MainMenu\":13,\"./States/Options\":14,\"./States/Play\":15}],4:[function(require,module,exports){\n\"use strict\";\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Authentication = function () {\n    function Authentication(game) {\n        _classCallCheck(this, Authentication);\n\n        this.game = game;\n        this.name = (Math.random() * 1000).toString();\n        this.password = \"\";\n    }\n\n    _createClass(Authentication, [{\n        key: \"setRemote\",\n        value: function setRemote(socket) {\n            this.socket = socket;\n            socket.emit(\"auth\", this.name, this.password);\n            socket.on(\"auth.acc\", this.authAccepted);\n        }\n    }, {\n        key: \"authAccepted\",\n        value: function authAccepted(sessionID) {\n            this.sid = sessionID;\n        }\n    }]);\n\n    return Authentication;\n}();\n\nexports.default = Authentication;\n\n},{}],5:[function(require,module,exports){\n\"use strict\";\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _Backgamon = require(\"../Backgamon\");\n\nvar _Backgamon2 = _interopRequireDefault(_Backgamon);\n\nvar _Piece = require(\"./Piece\");\n\nvar _Piece2 = _interopRequireDefault(_Piece);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Column = function () {\n    function Column(game, location, side) {\n        _classCallCheck(this, Column);\n\n        this.game = game;\n        this.location = location;\n        this.group = this.game.add.group();\n\n        if (side == \"black\") {\n            this.dir = 1;\n            this.x = this.location % 12;\n            if (this.location < 12) {\n                this.dir = -1;\n                this.x = 11 - this.x;\n            }\n            this.x = _Backgamon2.default.guidesX[this.x];\n            this.y = _Backgamon2.default.guidesY[Math.floor(this.location / 12)];\n        } else {\n            this.dir = -1;\n            this.x = this.location % 12;\n            if (this.location >= 12) {\n                this.dir = 1;\n                this.x = 11 - this.x;\n            }\n            this.x = _Backgamon2.default.guidesX[this.x];\n            this.y = _Backgamon2.default.guidesY[Math.floor(this.location / 12)];\n        }\n        this.label = this.game.add.text(this.x, this.y, \"\", this.game.l10n.styles.default.button);\n        this.label.visible = false;\n        this.label.anchor.set(0.5);\n        this.label.setShadow(3, 3, 'rgba(0,0,0,0.5)', 0);\n    }\n\n    _createClass(Column, [{\n        key: \"getPieceHeight\",\n        value: function getPieceHeight(length) {\n            return Math.min(_Backgamon2.default.maxColumnHeight / length, _Backgamon2.default.pieceHeight);\n        }\n    }, {\n        key: \"reorderY\",\n        value: function reorderY(length) {\n            if (!length) length = this.group.length;else if (length < 1) length = this.group.length + length;\n            var pieceHeight = this.getPieceHeight(length);\n\n            for (var i = 0; i < this.group.length; i++) {\n                var piece = this.group.getAt(i);\n                var tween = this.game.add.tween(piece);\n                tween.to({ \"y\": this.y + pieceHeight * i * this.dir }, 200);\n                tween.start();\n            }\n\n            if (length > 4) {\n                this.label.visible = true;\n                this.label.y = this.y + pieceHeight * (length - 1) * this.dir;\n                this.label.text = length.toString();\n            } else this.label.visible = false;\n        }\n    }, {\n        key: \"place\",\n        value: function place(color, length) {\n            if (!length) length = 1;\n            var pieceHeight = this.getPieceHeight(this.group.length + length);\n\n            for (var i = 0; i < length; i++) {\n                var piece = new _Piece2.default(this.game, color, this.x, this.y + pieceHeight * i * this.dir);\n                piece.alpha = 0;\n                var tween = this.game.add.tween(piece);\n                tween.to({ \"alpha\": 1 }, 200);\n                tween.start();\n                this.group.add(piece);\n            }\n            this.reorderY();\n        }\n    }, {\n        key: \"take\",\n        value: function take(length) {\n            if (!length) length = 1;\n\n            if (this.group.length - length < 0) {\n                console.error(\"Taking more than is available on column\", this.location);\n                return;\n            }\n\n            for (var i = 0; i < length; i++) {\n                this.group.removeBetween(this.group.length - length, this.group.length - 1);\n            }\n\n            this.reorderY();\n        }\n    }, {\n        key: \"moveTo\",\n        value: function moveTo(other) {\n            if (!this.group.length) {\n                console.error(\"Moving more than is available on column\", this.location);\n                return;\n            }\n\n            this.hidePossibleMove();\n            other.hidePossibleMove();\n\n            var piece = this.group.getTop();\n            other.reorderY(other.group.length + 1);\n            this.group.remove(piece);\n            other.group.add(piece);\n\n            var tween = this.game.add.tween(piece);\n            tween.to({ \"x\": other.x, \"y\": other.y + other.getPieceHeight(other.group.length) * other.dir * (other.group.length - 1) }, 200);\n            tween.start();\n            this.reorderY();\n        }\n    }, {\n        key: \"showPossibleMove\",\n        value: function showPossibleMove(inside, callback, callbackContext, group) {\n            if (this.glow) this.hidePossibleMove();\n            this.glow = new _Piece.PieceGlow(this.game, this.x, this.y + this.getPieceHeight(this.group.length) * (inside ? this.group.length - 1 : this.group.length) * this.dir, callback, callbackContext, group);\n            if (inside) this.group.getTop().grow();\n        }\n    }, {\n        key: \"hidePossibleMove\",\n        value: function hidePossibleMove() {\n            if (this.group.length) this.group.getTop().shrink();\n\n            if (this.glow) {\n                this.glow.destroy();\n                this.glow = null;\n            }\n        }\n    }]);\n\n    return Column;\n}();\n\nexports.default = Column;\n\n},{\"../Backgamon\":3,\"./Piece\":8}],6:[function(require,module,exports){\n\"use strict\";\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Dice = function () {\n    function Dice(game, x, y) {\n        _classCallCheck(this, Dice);\n\n        this.sprite = game.add.sprite(x, y, \"dice\", 0);\n        this.sprite.visible = false;\n        this.sprite.anchor.set(0.5);\n        this.y = y;\n\n        this.sprite.animations.add(\"roll\", null, 10, true);\n    }\n\n    _createClass(Dice, [{\n        key: \"roll\",\n        value: function roll(direction, value, callback, callbackContext) {\n            // direction is 1 or -1. 1 means the dice rolls from the bottom up. -1 mean top down.\n            this.sprite.visible = true;\n            this.sprite.y = 360 + 424 * direction;\n            this.sprite.scale.set(1.5);\n\n            // Do th rolling effect.\n            // The rolling effect consists of three parts: the movement, rotations, sprite \"animation\", and scaling.\n            // Scaling is done in 3 parts.\n            var tweenPos = this.sprite.game.add.tween(this.sprite);\n            tweenPos.to({ \"y\": this.y }, 1000);\n            tweenPos.start();\n            var tweenRot = this.sprite.game.add.tween(this.sprite);\n            tweenRot.to({ \"angle\": (Math.floor(Math.random() * 2) ? -1 : 1) * 359 }, Math.random() * 300 + 500, null, false, 0, Infinity);\n            tweenRot.start();\n            var tweenScale = this.sprite.game.add.tween(this.sprite.scale);\n            tweenScale.to({ \"x\": 1, \"y\": 1 }, 300, Phaser.Easing.Cubic.Out);\n            tweenScale.onComplete.add(function () {\n                var tweenScale2 = this.sprite.game.add.tween(this.sprite.scale);\n                tweenScale2.to({ \"x\": 1.2, \"y\": 1.2 }, 300, Phaser.Easing.Cubic.InOut);\n                tweenScale2.onComplete.add(function () {\n                    var tweenScale3 = this.sprite.game.add.tween(this.sprite.scale);\n                    tweenScale3.to({ \"x\": 1, \"y\": 1 }, 400, Phaser.Easing.Cubic.Out);\n                    tweenScale3.onComplete.add(function () {\n                        this.sprite.animations.stop();\n                        this.sprite.frame = this.value - 1;\n                        tweenRot.stop();\n                        if (callback) callback.apply(callbackContext);\n                    }, this);\n                    tweenScale3.start();\n                }, this);\n                tweenScale2.start();\n            }, this);\n            tweenScale.start();\n\n            this.sprite.animations.play(\"roll\");\n\n            this.value = value;\n        }\n    }]);\n\n    return Dice;\n}();\n\nexports.default = Dice;\n\n},{}],7:[function(require,module,exports){\n\"use strict\";\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Localization = function () {\n    function Localization(name, game) {\n        _classCallCheck(this, Localization);\n\n        this.game = game;\n        this.code = name;\n        game.load.json(\"lang-\" + name, \"assets/Languages/\" + name + \".json\");\n    }\n\n    _createClass(Localization, [{\n        key: \"load\",\n        value: function load() {\n            var lFile = this.game.cache.getJSON(\"lang-\" + this.code);\n            this.name = lFile.name;\n            this.font = lFile.font;\n            this.strings = lFile.strings;\n            this.styles = { \"default\": {\n                    \"title\": { font: \"bold 60pt Nunito\", fill: \"rgb(231, 231, 231)\", align: \"center\" },\n                    \"button\": { font: \"bold 37pt Nunito\", fill: \"rgb(231, 231, 231)\", align: \"center\" },\n                    \"text\": { font: \"bold 30pt Nunito\", fill: \"rgb(231, 231, 231)\", align: \"center\" }\n                },\n                \"local\": {\n                    \"title\": { font: \"bold 60pt \" + this.font, fill: \"rgb(231, 231, 231)\", align: \"center\" },\n                    \"button\": { font: \"bold 37pt \" + this.font, fill: \"rgb(231, 231, 231)\", align: \"center\" },\n                    \"text\": { font: \"bold 30pt \" + this.font, fill: \"rgb(231, 231, 231)\", align: \"center\" }\n                } };\n        }\n    }]);\n\n    return Localization;\n}();\n\nexports.default = Localization;\n\n},{}],8:[function(require,module,exports){\n\"use strict\";\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.PieceGlow = undefined;\n\nvar _Backgamon = require(\"../Backgamon\");\n\nvar _Backgamon2 = _interopRequireDefault(_Backgamon);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Piece = function (_Phaser$Sprite) {\n    _inherits(Piece, _Phaser$Sprite);\n\n    function Piece(game, color, x, y) {\n        _classCallCheck(this, Piece);\n\n        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Piece).call(this, game, x, y, \"piece\", color == \"black\" ? 0 : 1));\n\n        game.add.existing(_this);\n        _this.anchor.set(0.5);\n        _this.scale.set(_Backgamon2.default.pieceDefaultScale);\n        _this.color = color;\n        _this.events.onInputUp.add(function () {\n            console.log(\"clicked\");\n        }, _this);\n        return _this;\n    }\n\n    _createClass(Piece, [{\n        key: \"grow\",\n        value: function grow() {\n            var tween = this.game.add.tween(this.scale);\n            tween.to({ \"x\": _Backgamon2.default.pieceDefaultScale * 1.1, \"y\": _Backgamon2.default.pieceDefaultScale * 1.1 }, 200);\n            tween.start();\n        }\n    }, {\n        key: \"shrink\",\n        value: function shrink() {\n            var tween = this.game.add.tween(this.scale);\n            tween.to({ \"x\": _Backgamon2.default.pieceDefaultScale, \"y\": _Backgamon2.default.pieceDefaultScale }, 200);\n            tween.start();\n        }\n    }]);\n\n    return Piece;\n}(Phaser.Sprite);\n\nexports.default = Piece;\n\nvar PieceGlow = exports.PieceGlow = function (_Phaser$Sprite2) {\n    _inherits(PieceGlow, _Phaser$Sprite2);\n\n    function PieceGlow(game, x, y, callback, callbackContext, group) {\n        _classCallCheck(this, PieceGlow);\n\n        var _this2 = _possibleConstructorReturn(this, Object.getPrototypeOf(PieceGlow).call(this, game, x, y, \"piece-glow\"));\n\n        if (group) group.add(_this2);else game.add.existing(_this2);\n        _this2.anchor.set(0.5);\n        _this2.scale.set(_Backgamon2.default.pieceDefaultScale);\n\n        if (callback) _this2.events.onInputUp.add(function () {\n            callback.apply(callbackContext);\n        }, _this2);\n\n        _this2.inputEnabled = true;\n        _this2.input.useHandCursor = true;\n\n        // Add a \"bouncy\" effect.\n        _this2.scale.set(_Backgamon2.default.pieceDefaultScale * 1.1);\n        var tween = _this2.game.add.tween(_this2.scale);\n        tween.to({ \"x\": _Backgamon2.default.pieceDefaultScale * 1.15, \"y\": _Backgamon2.default.pieceDefaultScale * 1.15 }, 500, \"Sine.easeInOut\", true, 0, -1, true);\n        tween.start();\n        return _this2;\n    }\n\n    return PieceGlow;\n}(Phaser.Sprite);\n\n},{\"../Backgamon\":3}],9:[function(require,module,exports){\n\"use strict\";\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar PrefLoader = function () {\n    function PrefLoader() {\n        _classCallCheck(this, PrefLoader);\n    }\n\n    _createClass(PrefLoader, [{\n        key: \"set\",\n        value: function set(key, value) {\n            localStorage[key] = JSON.stringify(value);\n        }\n    }, {\n        key: \"get\",\n        value: function get(key, defaultValue) {\n            var data = localStorage[key];\n            if (data) return JSON.parse(data);else return defaultValue === undefined ? PrefLoader.defaults[key] : defaultValue;\n        }\n    }]);\n\n    return PrefLoader;\n}();\n\nexports.default = PrefLoader;\n\nPrefLoader.defaults = { \"language\": \"ar\", \"sound\": true };\n\n},{}],10:[function(require,module,exports){\n\"use strict\";\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar TextButton = function () {\n    function TextButton(game, key, x, y, text, fontStyle, onClick, callbackContext, group) {\n        _classCallCheck(this, TextButton);\n\n        this.onClick_ = onClick;\n        if (group) this.button_ = group.add(new Phaser.Button(game, x, y, key, null, this, 1, 1, 0, 1));else this.button_ = game.add.button(x, y, key, null, this, 1, 1, 0, 1);\n\n        this.button_.events.onInputOut.add(function () {\n            this.text_.y = this.origY;\n        }, this);\n        this.button_.events.onInputDown.add(function () {\n            this.text_.y = this.origY + 6;\n        }, this);\n        this.button_.events.onInputUp.add(function (sprite, pointer, isOver) {\n            this.text_.y = this.origY;\n            game.add.audio(\"beep\").play();\n            if (isOver) this.onClick_.apply(callbackContext);\n        }, this);\n\n        this.button_.anchor.set(0.5);\n\n        this.origY = y - 15;\n        if (group) this.text_ = group.add(new Phaser.Text(game, x, this.origY, text, fontStyle));else this.text_ = game.add.text(x, this.origY, text, fontStyle);\n        this.text_.anchor.set(0.5);\n\n        this.text_.setShadow(3, 3, 'rgba(0,0,0,0.5)', 0);\n    }\n\n    _createClass(TextButton, [{\n        key: \"hide\",\n        value: function hide() {\n            this.text_.visible = false;\n            this.button_.visible = false;\n            this.button_.inputEnabled = false;\n        }\n    }, {\n        key: \"show\",\n        value: function show() {\n            this.text_.visible = true;\n            this.button_.visible = true;\n            this.button_.inputEnabled = true;\n            this.button_.input.useHandCursor = true;\n        }\n    }]);\n\n    return TextButton;\n}();\n\nexports.default = TextButton;\n\n},{}],11:[function(require,module,exports){\n\"use strict\";\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _Localization = require(\"../Components/Localization\");\n\nvar _Localization2 = _interopRequireDefault(_Localization);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Boot = function (_Phaser$State) {\n    _inherits(Boot, _Phaser$State);\n\n    function Boot(game) {\n        _classCallCheck(this, Boot);\n\n        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Boot).call(this));\n\n        _this.game = game;\n        return _this;\n    }\n\n    _createClass(Boot, [{\n        key: \"preload\",\n        value: function preload() {\n            for (var i = 0; i < this.game.languages.length; i++) {\n                this.game.l10ns[this.game.languages[i]] = new _Localization2.default(this.game.languages[i], this.game);\n            }\n            this.game.load.spritesheet(\"button\", \"assets/UI/button.png\", 328, 134);\n            this.game.load.spritesheet(\"controls\", \"assets/UI/controls.png\", 244, 244);\n            this.game.load.audio(\"beep\", \"assets/Sounds/beep.wav\");\n        }\n    }, {\n        key: \"fileComplete\",\n        value: function fileComplete(progress) {\n            this.progress.text = progress + \"%\";\n        }\n    }, {\n        key: \"create\",\n        value: function create() {\n            for (var key in this.game.l10ns) {\n                this.game.l10ns[key].load();\n            }\n\n            this.game.l10n = this.game.l10ns[this.game.prefs.get(\"language\")];\n            this.game.strings = this.game.l10n.strings;\n\n            //this.game.scale.scaleMode = Phaser.ScaleManager.SHOW_ALL;\n            this.game.scale.fullScreenScaleMode = Phaser.ScaleManager.SHOW_ALL;\n            this.progress = this.game.add.text(this.game.world.centerX, this.game.world.centerY - 30, \"0%\", { fill: 'white' });\n            this.progress.anchor.setTo(0.5, 0.5);\n\n            //var progressBar = this.game.add.sprite(this.game.world.centerX, this.game.world.centerY, \"progress-bar\");\n            //progressBar.anchor.setTo(0.5, 0.5);\n            //this.game.load.setPreloadSprite(progressBar);\n\n            this.game.load.onFileComplete.add(this.fileComplete, this);\n            this.game.state.start(\"Connecting\");\n        }\n    }, {\n        key: \"render\",\n        value: function render() {}\n    }]);\n\n    return Boot;\n}(Phaser.State);\n\nexports.default = Boot;\n\n},{\"../Components/Localization\":7}],12:[function(require,module,exports){\n\"use strict\";\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nObject.defineProperty(exports, \"__esModule\", {\n\t\t\t\tvalue: true\n});\n\nvar _socket = require(\"socket.io-client_\");\n\nvar _socket2 = _interopRequireDefault(_socket);\n\nvar _Authentication = require(\"../Components/Authentication\");\n\nvar _Authentication2 = _interopRequireDefault(_Authentication);\n\nvar _TextButton = require(\"../Components/TextButton\");\n\nvar _TextButton2 = _interopRequireDefault(_TextButton);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Connecting = function (_Phaser$State) {\n\t\t\t\t_inherits(Connecting, _Phaser$State);\n\n\t\t\t\tfunction Connecting(game) {\n\t\t\t\t\t\t\t\t_classCallCheck(this, Connecting);\n\n\t\t\t\t\t\t\t\tvar _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Connecting).call(this));\n\n\t\t\t\t\t\t\t\t_this.game = game;\n\t\t\t\t\t\t\t\treturn _this;\n\t\t\t\t}\n\n\t\t\t\t_createClass(Connecting, [{\n\t\t\t\t\t\t\t\tkey: \"create\",\n\t\t\t\t\t\t\t\tvalue: function create() {\n\t\t\t\t\t\t\t\t\t\t\t\tthis.group = new Phaser.Group(this.game);\n\t\t\t\t\t\t\t\t\t\t\t\tthis.game.stage.backgroundColor = \"#947c66\";\n\t\t\t\t\t\t\t\t\t\t\t\tvar text = new Phaser.Text(this.game, this.game.world.centerX, this.game.world.centerY, this.game.strings[\"Contacting Server\"], this.game.l10n.styles.local.text);\n\t\t\t\t\t\t\t\t\t\t\t\tthis.group.add(text);\n\t\t\t\t\t\t\t\t\t\t\t\ttext.anchor.set(0.5);\n\t\t\t\t\t\t\t\t\t\t\t\ttext.setShadow(2, 2, 'rgba(0,0,0,0.5)', 0);\n\n\t\t\t\t\t\t\t\t\t\t\t\tthis.connected = false;\n\t\t\t\t\t\t\t\t\t\t\t\tvar self = this;\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar socket = (0, _socket2.default)(\"//localhost:8088\");\n\t\t\t\t\t\t\t\t\t\t\t\tsocket.on(\"welcome\", function () {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tself.succeeded(socket);\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (!self.connected) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsocket.disconnect();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tself.failed();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}, 2000);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t}, {\n\t\t\t\t\t\t\t\tkey: \"failed\",\n\t\t\t\t\t\t\t\tvalue: function failed() {\n\t\t\t\t\t\t\t\t\t\t\t\tthis.group.removeAll();\n\t\t\t\t\t\t\t\t\t\t\t\tvar text = new Phaser.Text(this.game, this.game.world.centerX, this.game.world.centerY - 50, this.game.strings[\"Contacting Failed\"], this.game.l10n.styles.local.text);\n\t\t\t\t\t\t\t\t\t\t\t\tthis.group.add(text);\n\t\t\t\t\t\t\t\t\t\t\t\ttext.anchor.set(0.5);\n\t\t\t\t\t\t\t\t\t\t\t\ttext.setShadow(2, 2, 'rgba(0,0,0,0.5)', 0);\n\t\t\t\t\t\t\t\t\t\t\t\ttext.wordWrap = true;\n\t\t\t\t\t\t\t\t\t\t\t\ttext.wordWrapWidth = 1200;\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar OKButton = new _TextButton2.default(this.game, \"button\", this.game.world.centerX, this.game.world.centerY + 100, this.game.strings[\"OK\"], this.game.l10n.styles.local.button, function () {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.game.state.start(\"MainMenu\");\n\t\t\t\t\t\t\t\t\t\t\t\t}, this, this.group);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t}, {\n\t\t\t\t\t\t\t\tkey: \"succeeded\",\n\t\t\t\t\t\t\t\tvalue: function succeeded(socket) {\n\t\t\t\t\t\t\t\t\t\t\t\tif (!this.connected) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.connected = true;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.game.auth = new _Authentication2.default(this.game);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.game.state.start(\"MainMenu\");\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tthis.game.auth.setRemote(socket);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t}]);\n\n\t\t\t\treturn Connecting;\n}(Phaser.State);\n\nexports.default = Connecting;\n\n},{\"../Components/Authentication\":4,\"../Components/TextButton\":10,\"socket.io-client_\":1}],13:[function(require,module,exports){\n\"use strict\";\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nObject.defineProperty(exports, \"__esModule\", {\n\t\t\t\tvalue: true\n});\n\nvar _TextButton = require(\"../Components/TextButton\");\n\nvar _TextButton2 = _interopRequireDefault(_TextButton);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar MainMenu = function (_Phaser$State) {\n\t\t\t\t_inherits(MainMenu, _Phaser$State);\n\n\t\t\t\tfunction MainMenu(game) {\n\t\t\t\t\t\t\t\t_classCallCheck(this, MainMenu);\n\n\t\t\t\t\t\t\t\tvar _this = _possibleConstructorReturn(this, Object.getPrototypeOf(MainMenu).call(this));\n\n\t\t\t\t\t\t\t\t_this.game = game;\n\t\t\t\t\t\t\t\tvar self = _this;\n\t\t\t\t\t\t\t\treturn _this;\n\t\t\t\t}\n\n\t\t\t\t_createClass(MainMenu, [{\n\t\t\t\t\t\t\t\tkey: \"preload\",\n\t\t\t\t\t\t\t\tvalue: function preload() {\n\t\t\t\t\t\t\t\t\t\t\t\tthis.game.load.spritesheet(\"button\", \"assets/UI/button.png\", 328, 134);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t}, {\n\t\t\t\t\t\t\t\tkey: \"create\",\n\t\t\t\t\t\t\t\tvalue: function create() {\n\t\t\t\t\t\t\t\t\t\t\t\tthis.game.stage.backgroundColor = \"#947c66\";\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar titleText = this.game.add.text(this.game.world.centerX, 50, this.game.strings[\"Backgamon\"], this.game.l10n.styles.local.title);\n\t\t\t\t\t\t\t\t\t\t\t\ttitleText.anchor.x = 0.5;\n\t\t\t\t\t\t\t\t\t\t\t\ttitleText.setShadow(3, 5, 'rgba(0,0,0,0.5)', 0);\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar playButton = new _TextButton2.default(this.game, \"button\", this.game.world.centerX, 280, this.game.strings[\"Play\"], this.game.l10n.styles.local.button, function () {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.game.state.start(\"Play\");\n\t\t\t\t\t\t\t\t\t\t\t\t}, this);\n\t\t\t\t\t\t\t\t\t\t\t\tvar fullscreenButton = new _TextButton2.default(this.game, \"button\", this.game.world.centerX, 430, this.game.strings[\"Fullscreen\"], this.game.l10n.styles.local.button, function () {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.game.toggleFullscreen();\n\t\t\t\t\t\t\t\t\t\t\t\t}, this);\n\t\t\t\t\t\t\t\t\t\t\t\tvar soundButton = new _TextButton2.default(this.game, \"button\", this.game.world.centerX, 580, this.game.strings[\"Sound\"] + \": \" + (!this.game.muted ? this.game.strings[\"ON\"] : this.game.strings[\"OFF\"]), this.game.l10n.styles.local.button, function () {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.game.sound.volume = this.game.muted ? 1 : 0;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsoundButton.text_.setText(this.game.strings[\"Sound\"] + \": \" + (this.game.muted ? this.game.strings[\"ON\"] : this.game.strings[\"OFF\"]));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.game.muted = !this.game.muted;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.game.prefs.set(\"muted\", this.game.muted);\n\t\t\t\t\t\t\t\t\t\t\t\t}, this);\n\t\t\t\t\t\t\t\t\t\t\t\t// var musicButton = new TextButton(this.game, \"button\", this.game.world.centerX+170, 580, this.game.l10n[\"Music\"]+\": \"+this.game.l10n[\"On\"], this.game.buttonFontStyle, function () {  }, this);\n\t\t\t\t\t\t\t\t\t\t\t\t// musicButton.text_.scale.set(0.9);\n\t\t\t\t\t\t\t\t\t\t\t\t//new TextButton(this.game, \"button\", this.game.world.centerX, 591, \"Quit\", Backgamon.buttonFontStyle, function () { console.log(\"quit clicked\"); });\n\t\t\t\t\t\t\t\t}\n\t\t\t\t}, {\n\t\t\t\t\t\t\t\tkey: \"render\",\n\t\t\t\t\t\t\t\tvalue: function render() {\n\t\t\t\t\t\t\t\t\t\t\t\t//this.game.debug.text(this.game.time.fps.toString() || \"--\", 2, 14, \"#00ff00\");\n\t\t\t\t\t\t\t\t}\n\t\t\t\t}]);\n\n\t\t\t\treturn MainMenu;\n}(Phaser.State);\n\nexports.default = MainMenu;\n\n},{\"../Components/TextButton\":10}],14:[function(require,module,exports){\n\"use strict\";\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _TextButton = require(\"../Components/TextButton\");\n\nvar _TextButton2 = _interopRequireDefault(_TextButton);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Options = function (_Phaser$State) {\n    _inherits(Options, _Phaser$State);\n\n    function Options(game_) {\n        _classCallCheck(this, Options);\n\n        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Options).call(this));\n\n        _this.game = game_;\n        return _this;\n    }\n\n    _createClass(Options, [{\n        key: \"preload\",\n        value: function preload() {}\n    }, {\n        key: \"create\",\n        value: function create() {\n            this.game.stage.backgroundColor = \"#947c66\";\n\n            new _TextButton2.default(this.game, \"button\", this.game.world.centerX, 437, \"Back\", this.game.l10n.styles.local.button, function () {\n                this.game.state.start(\"MainMenu\");\n            }, this);\n        }\n    }, {\n        key: \"render\",\n        value: function render() {}\n    }]);\n\n    return Options;\n}(Phaser.State);\n\nexports.default = Options;\n\n},{\"../Components/TextButton\":10}],15:[function(require,module,exports){\n\"use strict\";\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _TextButton = require(\"../Components/TextButton\");\n\nvar _TextButton2 = _interopRequireDefault(_TextButton);\n\nvar _Column = require(\"../Components/Column\");\n\nvar _Column2 = _interopRequireDefault(_Column);\n\nvar _Dice = require(\"../Components/Dice\");\n\nvar _Dice2 = _interopRequireDefault(_Dice);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Play = function (_Phaser$State) {\n    _inherits(Play, _Phaser$State);\n\n    function Play(game) {\n        _classCallCheck(this, Play);\n\n        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Play).call(this));\n\n        _this.game = game;\n        _this.side = \"black\";\n        return _this;\n    }\n\n    _createClass(Play, [{\n        key: \"preload\",\n        value: function preload() {\n            this.game.load.image(\"board\", \"assets/Game/board.png\");\n            this.game.load.spritesheet(\"piece\", \"assets/Game/piece.png\", 238, 238, 2, 0, 24);\n            this.game.load.image(\"piece-glow\", \"assets/Game/piece-glow.png\");\n            this.game.load.spritesheet(\"dice\", \"assets/Game/dice.png\", 64, 64);\n            this.game.load.audio(\"roll\", \"assets/Sounds/roll.mp3\");\n            this.game.load.audio(\"stack\", \"assets/Sounds/stack.wav\");\n            //this.game.load.shader(\"bacteria\", \"assets/Shaders/bacteria.frag\");\n        }\n    }, {\n        key: \"create\",\n        value: function create() {\n            this.game.stage.backgroundColor = \"#947c66\";\n\n            var board = this.game.add.image(this.game.world.centerX, this.game.world.centerY, \"board\");\n            board.anchor.set(0.5);\n            board.scale.set(720.0 / 561.0);\n\n            this.columns = [];\n            for (var i = 0; i < 24; i++) {\n                this.columns.push(new _Column2.default(this.game, i, this.side));\n            }\n            this.columns[0].place(this.side, 15);\n            this.columns[23].place(this.side == \"black\" ? \"white\" : \"black\", 15);\n\n            this.dice1 = new _Dice2.default(this.game, 360, 360);\n            this.dice2 = new _Dice2.default(this.game, 920, 360);\n\n            this.rollButton = new _TextButton2.default(this.game, \"button\", this.game.world.centerX, this.game.world.centerY, this.game.strings[\"Roll\"], this.game.l10n.styles.local.button, function () {\n                this.rollDice(false);\n                this.rollButton.hide();\n            }, this);\n\n            this.glowies = this.game.add.group();\n\n            this.createPauseMenu();\n\n            this.pauseButton = this.game.add.button(1200, 60, \"controls\", function () {\n                this.togglePauseMenu();\n            }, this);\n            this.pauseButton.freezeFrames = true;\n            this.pauseButton.frame = 5;\n            this.pauseButton.anchor.set(0.5);\n            this.pauseButton.scale.set(0.45);\n\n            //this.glowFilter = new Phaser.Filter(this.game, null, this.game.cache.getShader(\"bacteria\"));\n            //(<any>this.glowFilter).addToWorld(0, 0, 1280, 720);\n            //this.game.add.existing(this.glowFilter);\n        }\n    }, {\n        key: \"showMoves\",\n        value: function showMoves(d1, d2) {\n            var _this2 = this;\n\n            var _loop = function _loop(i) {\n                if (!(d1 === 0 && d2 === 0) && _this2.columns[i].group.length && _this2.columns[i].group.getTop().color == _this2.side) _this2.columns[i].showPossibleMove(true, function () {\n                    this.selected = this.columns[i];\n                    this.setMoves(d1, d2, this.columns[i].location);\n                }, _this2, _this2.glowies);else _this2.columns[i].hidePossibleMove();\n            };\n\n            for (var i = 0; i < 24; i++) {\n                _loop(i);\n            }\n        }\n    }, {\n        key: \"setMoves\",\n        value: function setMoves(d1, d2, location) {\n            var _this3 = this;\n\n            var _loop2 = function _loop2(i) {\n                if (d1 && i == location + d1 || d2 && i == location + d2) _this3.columns[i].showPossibleMove(false, function () {\n                    this.selected.moveTo(this.columns[i]);\n                    setTimeout(function (self) {\n                        self.game.add.audio(\"stack\").play();\n                    }, 200, this);\n                    this.selected = null;\n                    if (d2 == 0) this.nextTurn();else {\n                        var dx = d1;\n                        if (i == location + d1) dx = d2;\n                        this.showMoves(dx, 0);\n                    }\n                }, _this3, _this3.glowies);else _this3.columns[i].hidePossibleMove();\n            };\n\n            for (var i = 0; i < 24; i++) {\n                _loop2(i);\n            }\n        }\n    }, {\n        key: \"nextTurn\",\n        value: function nextTurn() {\n            this.rollButton.show();\n        }\n    }, {\n        key: \"rollDice\",\n        value: function rollDice(otherPlayer) {\n            var d1 = Math.floor(Math.random() * 5) + 1;\n            var d2 = Math.floor(Math.random() * 5) + 1;\n            this.dice1.roll(otherPlayer ? -1 : 1, d1);\n            var self = this;\n            this.dice2.roll(otherPlayer ? -1 : 1, d2, function () {\n                this.showMoves(d1, d2);\n            }, this);\n            setTimeout(function (self) {\n                self.game.add.audio(\"roll\").play();\n            }, 800, this);\n        }\n    }, {\n        key: \"createPauseMenu\",\n        value: function createPauseMenu() {\n            this.pauseMenu = this.game.add.group();\n            this.pauseMenu.visible = false;\n\n            var width = 1280;\n            var height = 720;\n            var bmd = this.game.add.bitmapData(width, height);\n\n            bmd.ctx.beginPath();\n            bmd.ctx.rect(0, 0, width, height);\n            bmd.ctx.fillStyle = '#000000';\n            bmd.ctx.fill();\n\n            var overlay = new Phaser.Sprite(this.game, 0, 0, bmd);\n            overlay.alpha = 0.5;\n            overlay.inputEnabled = true;\n            this.pauseMenu.add(overlay);\n\n            var resumeButton = new _TextButton2.default(this.game, \"button\", this.game.world.centerX, this.game.world.centerY - 225, this.game.strings[\"Resume\"], this.game.l10n.styles.local.button, function () {\n                this.togglePauseMenu();\n            }, this, this.pauseMenu);\n\n            var soundButton = new _TextButton2.default(this.game, \"button\", this.game.world.centerX, this.game.world.centerY - 75, this.game.strings[\"Sound\"] + \": \" + (!this.game.muted ? this.game.strings[\"ON\"] : this.game.strings[\"OFF\"]), this.game.l10n.styles.local.button, function () {\n                this.game.sound.volume = this.game.muted ? 1 : 0;\n                soundButton.text_.setText(this.game.strings[\"Sound\"] + \": \" + (this.game.muted ? this.game.strings[\"ON\"] : this.game.strings[\"OFF\"]));\n                this.game.muted = !this.game.muted;\n                this.game.prefs.set(\"muted\", this.game.muted);\n            }, this, this.pauseMenu);\n\n            /*var musicButton = new TextButton(this.game, \"button\", this.game.world.centerX, this.game.world.centerY-75, \"Music: ON\", this.game.buttonFontStyle, function () {\r\n            }, this, this.pauseMenu);*/\n\n            var fullscreenButton = new _TextButton2.default(this.game, \"button\", this.game.world.centerX, this.game.world.centerY + 75, this.game.strings[\"Fullscreen\"], this.game.l10n.styles.local.button, function () {\n                this.game.toggleFullscreen();\n            }, this, this.pauseMenu);\n\n            var quitButton = new _TextButton2.default(this.game, \"button\", this.game.world.centerX, this.game.world.centerY + 225, this.game.strings[\"Quit\"], this.game.l10n.styles.local.button, function () {\n                this.endGame();\n            }, this, this.pauseMenu);\n        }\n    }, {\n        key: \"togglePauseMenu\",\n        value: function togglePauseMenu() {\n            this.pauseMenu.visible = !this.pauseMenu.visible;\n            if (this.pauseMenu.visible) {\n                this.pauseButton.frame = 6;\n            } else {\n                this.pauseButton.frame = 5;\n            }\n        }\n    }, {\n        key: \"endGame\",\n        value: function endGame() {\n            this.game.state.start(\"MainMenu\");\n        }\n    }, {\n        key: \"render\",\n        value: function render() {\n            //this.game.debug.text(this.game.input.x+\" \"+this.game.input.y, 2, 14, \"#00ff00\");\n            //1192 45\n        }\n    }, {\n        key: \"update\",\n        value: function update() {\n            //this.glowFilter.update();\n        }\n    }]);\n\n    return Play;\n}(Phaser.State);\n\nexports.default = Play;\n\n},{\"../Components/Column\":5,\"../Components/Dice\":6,\"../Components/TextButton\":10}],16:[function(require,module,exports){\n\"use strict\";\n\nvar _webfontloader = require(\"./..\\\\..\\\\bower_components\\\\webfontloader\\\\webfontloader.js\");\n\nvar _webfontloader2 = _interopRequireDefault(_webfontloader);\n\nvar _Backgamon = require(\"./_game/Backgamon\");\n\nvar _Backgamon2 = _interopRequireDefault(_Backgamon);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_webfontloader2.default.load({\n    google: { families: [\"Nunito:700\"] },\n    active: function active() {\n        var backgamon = new _Backgamon2.default();\n    }\n});\n\n// const smt = \"asdasd\";\n// let x = `smt = ${smt}`;\n// console.log(x);\n\n},{\"./..\\\\..\\\\bower_components\\\\webfontloader\\\\webfontloader.js\":2,\"./_game/Backgamon\":3}]},{},[16])\n\n","(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.io = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){\n\nmodule.exports =  _dereq_('./lib/');\n\n},{\"./lib/\":2}],2:[function(_dereq_,module,exports){\n\nmodule.exports = _dereq_('./socket');\n\n/**\n * Exports parser\n *\n * @api public\n *\n */\nmodule.exports.parser = _dereq_('engine.io-parser');\n\n},{\"./socket\":3,\"engine.io-parser\":19}],3:[function(_dereq_,module,exports){\n(function (global){\n/**\n * Module dependencies.\n */\n\nvar transports = _dereq_('./transports');\nvar Emitter = _dereq_('component-emitter');\nvar debug = _dereq_('debug')('engine.io-client:socket');\nvar index = _dereq_('indexof');\nvar parser = _dereq_('engine.io-parser');\nvar parseuri = _dereq_('parseuri');\nvar parsejson = _dereq_('parsejson');\nvar parseqs = _dereq_('parseqs');\n\n/**\n * Module exports.\n */\n\nmodule.exports = Socket;\n\n/**\n * Noop function.\n *\n * @api private\n */\n\nfunction noop(){}\n\n/**\n * Socket constructor.\n *\n * @param {String|Object} uri or options\n * @param {Object} options\n * @api public\n */\n\nfunction Socket(uri, opts){\n  if (!(this instanceof Socket)) return new Socket(uri, opts);\n\n  opts = opts || {};\n\n  if (uri && 'object' == typeof uri) {\n    opts = uri;\n    uri = null;\n  }\n\n  if (uri) {\n    uri = parseuri(uri);\n    opts.hostname = uri.host;\n    opts.secure = uri.protocol == 'https' || uri.protocol == 'wss';\n    opts.port = uri.port;\n    if (uri.query) opts.query = uri.query;\n  } else if (opts.host) {\n    opts.hostname = parseuri(opts.host).host;\n  }\n\n  this.secure = null != opts.secure ? opts.secure :\n    (global.location && 'https:' == location.protocol);\n\n  if (opts.hostname && !opts.port) {\n    // if no port is specified manually, use the protocol default\n    opts.port = this.secure ? '443' : '80';\n  }\n\n  this.agent = opts.agent || false;\n  this.hostname = opts.hostname ||\n    (global.location ? location.hostname : 'localhost');\n  this.port = opts.port || (global.location && location.port ?\n       location.port :\n       (this.secure ? 443 : 80));\n  this.query = opts.query || {};\n  if ('string' == typeof this.query) this.query = parseqs.decode(this.query);\n  this.upgrade = false !== opts.upgrade;\n  this.path = (opts.path || '/engine.io').replace(/\\/$/, '') + '/';\n  this.forceJSONP = !!opts.forceJSONP;\n  this.jsonp = false !== opts.jsonp;\n  this.forceBase64 = !!opts.forceBase64;\n  this.enablesXDR = !!opts.enablesXDR;\n  this.timestampParam = opts.timestampParam || 't';\n  this.timestampRequests = opts.timestampRequests;\n  this.transports = opts.transports || ['polling', 'websocket'];\n  this.readyState = '';\n  this.writeBuffer = [];\n  this.policyPort = opts.policyPort || 843;\n  this.rememberUpgrade = opts.rememberUpgrade || false;\n  this.binaryType = null;\n  this.onlyBinaryUpgrades = opts.onlyBinaryUpgrades;\n  this.perMessageDeflate = false !== opts.perMessageDeflate ? (opts.perMessageDeflate || {}) : false;\n\n  if (true === this.perMessageDeflate) this.perMessageDeflate = {};\n  if (this.perMessageDeflate && null == this.perMessageDeflate.threshold) {\n    this.perMessageDeflate.threshold = 1024;\n  }\n\n  // SSL options for Node.js client\n  this.pfx = opts.pfx || null;\n  this.key = opts.key || null;\n  this.passphrase = opts.passphrase || null;\n  this.cert = opts.cert || null;\n  this.ca = opts.ca || null;\n  this.ciphers = opts.ciphers || null;\n  this.rejectUnauthorized = opts.rejectUnauthorized === undefined ? null : opts.rejectUnauthorized;\n\n  // other options for Node.js client\n  var freeGlobal = typeof global == 'object' && global;\n  if (freeGlobal.global === freeGlobal) {\n    if (opts.extraHeaders && Object.keys(opts.extraHeaders).length > 0) {\n      this.extraHeaders = opts.extraHeaders;\n    }\n  }\n\n  this.open();\n}\n\nSocket.priorWebsocketSuccess = false;\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Socket.prototype);\n\n/**\n * Protocol version.\n *\n * @api public\n */\n\nSocket.protocol = parser.protocol; // this is an int\n\n/**\n * Expose deps for legacy compatibility\n * and standalone browser access.\n */\n\nSocket.Socket = Socket;\nSocket.Transport = _dereq_('./transport');\nSocket.transports = _dereq_('./transports');\nSocket.parser = _dereq_('engine.io-parser');\n\n/**\n * Creates transport of the given type.\n *\n * @param {String} transport name\n * @return {Transport}\n * @api private\n */\n\nSocket.prototype.createTransport = function (name) {\n  debug('creating transport \"%s\"', name);\n  var query = clone(this.query);\n\n  // append engine.io protocol identifier\n  query.EIO = parser.protocol;\n\n  // transport name\n  query.transport = name;\n\n  // session id if we already have one\n  if (this.id) query.sid = this.id;\n\n  var transport = new transports[name]({\n    agent: this.agent,\n    hostname: this.hostname,\n    port: this.port,\n    secure: this.secure,\n    path: this.path,\n    query: query,\n    forceJSONP: this.forceJSONP,\n    jsonp: this.jsonp,\n    forceBase64: this.forceBase64,\n    enablesXDR: this.enablesXDR,\n    timestampRequests: this.timestampRequests,\n    timestampParam: this.timestampParam,\n    policyPort: this.policyPort,\n    socket: this,\n    pfx: this.pfx,\n    key: this.key,\n    passphrase: this.passphrase,\n    cert: this.cert,\n    ca: this.ca,\n    ciphers: this.ciphers,\n    rejectUnauthorized: this.rejectUnauthorized,\n    perMessageDeflate: this.perMessageDeflate,\n    extraHeaders: this.extraHeaders\n  });\n\n  return transport;\n};\n\nfunction clone (obj) {\n  var o = {};\n  for (var i in obj) {\n    if (obj.hasOwnProperty(i)) {\n      o[i] = obj[i];\n    }\n  }\n  return o;\n}\n\n/**\n * Initializes transport to use and starts probe.\n *\n * @api private\n */\nSocket.prototype.open = function () {\n  var transport;\n  if (this.rememberUpgrade && Socket.priorWebsocketSuccess && this.transports.indexOf('websocket') != -1) {\n    transport = 'websocket';\n  } else if (0 === this.transports.length) {\n    // Emit error on next tick so it can be listened to\n    var self = this;\n    setTimeout(function() {\n      self.emit('error', 'No transports available');\n    }, 0);\n    return;\n  } else {\n    transport = this.transports[0];\n  }\n  this.readyState = 'opening';\n\n  // Retry with the next transport if the transport is disabled (jsonp: false)\n  try {\n    transport = this.createTransport(transport);\n  } catch (e) {\n    this.transports.shift();\n    this.open();\n    return;\n  }\n\n  transport.open();\n  this.setTransport(transport);\n};\n\n/**\n * Sets the current transport. Disables the existing one (if any).\n *\n * @api private\n */\n\nSocket.prototype.setTransport = function(transport){\n  debug('setting transport %s', transport.name);\n  var self = this;\n\n  if (this.transport) {\n    debug('clearing existing transport %s', this.transport.name);\n    this.transport.removeAllListeners();\n  }\n\n  // set up transport\n  this.transport = transport;\n\n  // set up transport listeners\n  transport\n  .on('drain', function(){\n    self.onDrain();\n  })\n  .on('packet', function(packet){\n    self.onPacket(packet);\n  })\n  .on('error', function(e){\n    self.onError(e);\n  })\n  .on('close', function(){\n    self.onClose('transport close');\n  });\n};\n\n/**\n * Probes a transport.\n *\n * @param {String} transport name\n * @api private\n */\n\nSocket.prototype.probe = function (name) {\n  debug('probing transport \"%s\"', name);\n  var transport = this.createTransport(name, { probe: 1 })\n    , failed = false\n    , self = this;\n\n  Socket.priorWebsocketSuccess = false;\n\n  function onTransportOpen(){\n    if (self.onlyBinaryUpgrades) {\n      var upgradeLosesBinary = !this.supportsBinary && self.transport.supportsBinary;\n      failed = failed || upgradeLosesBinary;\n    }\n    if (failed) return;\n\n    debug('probe transport \"%s\" opened', name);\n    transport.send([{ type: 'ping', data: 'probe' }]);\n    transport.once('packet', function (msg) {\n      if (failed) return;\n      if ('pong' == msg.type && 'probe' == msg.data) {\n        debug('probe transport \"%s\" pong', name);\n        self.upgrading = true;\n        self.emit('upgrading', transport);\n        if (!transport) return;\n        Socket.priorWebsocketSuccess = 'websocket' == transport.name;\n\n        debug('pausing current transport \"%s\"', self.transport.name);\n        self.transport.pause(function () {\n          if (failed) return;\n          if ('closed' == self.readyState) return;\n          debug('changing transport and sending upgrade packet');\n\n          cleanup();\n\n          self.setTransport(transport);\n          transport.send([{ type: 'upgrade' }]);\n          self.emit('upgrade', transport);\n          transport = null;\n          self.upgrading = false;\n          self.flush();\n        });\n      } else {\n        debug('probe transport \"%s\" failed', name);\n        var err = new Error('probe error');\n        err.transport = transport.name;\n        self.emit('upgradeError', err);\n      }\n    });\n  }\n\n  function freezeTransport() {\n    if (failed) return;\n\n    // Any callback called by transport should be ignored since now\n    failed = true;\n\n    cleanup();\n\n    transport.close();\n    transport = null;\n  }\n\n  //Handle any error that happens while probing\n  function onerror(err) {\n    var error = new Error('probe error: ' + err);\n    error.transport = transport.name;\n\n    freezeTransport();\n\n    debug('probe transport \"%s\" failed because of error: %s', name, err);\n\n    self.emit('upgradeError', error);\n  }\n\n  function onTransportClose(){\n    onerror(\"transport closed\");\n  }\n\n  //When the socket is closed while we're probing\n  function onclose(){\n    onerror(\"socket closed\");\n  }\n\n  //When the socket is upgraded while we're probing\n  function onupgrade(to){\n    if (transport && to.name != transport.name) {\n      debug('\"%s\" works - aborting \"%s\"', to.name, transport.name);\n      freezeTransport();\n    }\n  }\n\n  //Remove all listeners on the transport and on self\n  function cleanup(){\n    transport.removeListener('open', onTransportOpen);\n    transport.removeListener('error', onerror);\n    transport.removeListener('close', onTransportClose);\n    self.removeListener('close', onclose);\n    self.removeListener('upgrading', onupgrade);\n  }\n\n  transport.once('open', onTransportOpen);\n  transport.once('error', onerror);\n  transport.once('close', onTransportClose);\n\n  this.once('close', onclose);\n  this.once('upgrading', onupgrade);\n\n  transport.open();\n\n};\n\n/**\n * Called when connection is deemed open.\n *\n * @api public\n */\n\nSocket.prototype.onOpen = function () {\n  debug('socket open');\n  this.readyState = 'open';\n  Socket.priorWebsocketSuccess = 'websocket' == this.transport.name;\n  this.emit('open');\n  this.flush();\n\n  // we check for `readyState` in case an `open`\n  // listener already closed the socket\n  if ('open' == this.readyState && this.upgrade && this.transport.pause) {\n    debug('starting upgrade probes');\n    for (var i = 0, l = this.upgrades.length; i < l; i++) {\n      this.probe(this.upgrades[i]);\n    }\n  }\n};\n\n/**\n * Handles a packet.\n *\n * @api private\n */\n\nSocket.prototype.onPacket = function (packet) {\n  if ('opening' == this.readyState || 'open' == this.readyState) {\n    debug('socket receive: type \"%s\", data \"%s\"', packet.type, packet.data);\n\n    this.emit('packet', packet);\n\n    // Socket is live - any packet counts\n    this.emit('heartbeat');\n\n    switch (packet.type) {\n      case 'open':\n        this.onHandshake(parsejson(packet.data));\n        break;\n\n      case 'pong':\n        this.setPing();\n        this.emit('pong');\n        break;\n\n      case 'error':\n        var err = new Error('server error');\n        err.code = packet.data;\n        this.onError(err);\n        break;\n\n      case 'message':\n        this.emit('data', packet.data);\n        this.emit('message', packet.data);\n        break;\n    }\n  } else {\n    debug('packet received with socket readyState \"%s\"', this.readyState);\n  }\n};\n\n/**\n * Called upon handshake completion.\n *\n * @param {Object} handshake obj\n * @api private\n */\n\nSocket.prototype.onHandshake = function (data) {\n  this.emit('handshake', data);\n  this.id = data.sid;\n  this.transport.query.sid = data.sid;\n  this.upgrades = this.filterUpgrades(data.upgrades);\n  this.pingInterval = data.pingInterval;\n  this.pingTimeout = data.pingTimeout;\n  this.onOpen();\n  // In case open handler closes socket\n  if  ('closed' == this.readyState) return;\n  this.setPing();\n\n  // Prolong liveness of socket on heartbeat\n  this.removeListener('heartbeat', this.onHeartbeat);\n  this.on('heartbeat', this.onHeartbeat);\n};\n\n/**\n * Resets ping timeout.\n *\n * @api private\n */\n\nSocket.prototype.onHeartbeat = function (timeout) {\n  clearTimeout(this.pingTimeoutTimer);\n  var self = this;\n  self.pingTimeoutTimer = setTimeout(function () {\n    if ('closed' == self.readyState) return;\n    self.onClose('ping timeout');\n  }, timeout || (self.pingInterval + self.pingTimeout));\n};\n\n/**\n * Pings server every `this.pingInterval` and expects response\n * within `this.pingTimeout` or closes connection.\n *\n * @api private\n */\n\nSocket.prototype.setPing = function () {\n  var self = this;\n  clearTimeout(self.pingIntervalTimer);\n  self.pingIntervalTimer = setTimeout(function () {\n    debug('writing ping packet - expecting pong within %sms', self.pingTimeout);\n    self.ping();\n    self.onHeartbeat(self.pingTimeout);\n  }, self.pingInterval);\n};\n\n/**\n* Sends a ping packet.\n*\n* @api private\n*/\n\nSocket.prototype.ping = function () {\n  var self = this;\n  this.sendPacket('ping', function(){\n    self.emit('ping');\n  });\n};\n\n/**\n * Called on `drain` event\n *\n * @api private\n */\n\nSocket.prototype.onDrain = function() {\n  this.writeBuffer.splice(0, this.prevBufferLen);\n\n  // setting prevBufferLen = 0 is very important\n  // for example, when upgrading, upgrade packet is sent over,\n  // and a nonzero prevBufferLen could cause problems on `drain`\n  this.prevBufferLen = 0;\n\n  if (0 === this.writeBuffer.length) {\n    this.emit('drain');\n  } else {\n    this.flush();\n  }\n};\n\n/**\n * Flush write buffers.\n *\n * @api private\n */\n\nSocket.prototype.flush = function () {\n  if ('closed' != this.readyState && this.transport.writable &&\n    !this.upgrading && this.writeBuffer.length) {\n    debug('flushing %d packets in socket', this.writeBuffer.length);\n    this.transport.send(this.writeBuffer);\n    // keep track of current length of writeBuffer\n    // splice writeBuffer and callbackBuffer on `drain`\n    this.prevBufferLen = this.writeBuffer.length;\n    this.emit('flush');\n  }\n};\n\n/**\n * Sends a message.\n *\n * @param {String} message.\n * @param {Function} callback function.\n * @param {Object} options.\n * @return {Socket} for chaining.\n * @api public\n */\n\nSocket.prototype.write =\nSocket.prototype.send = function (msg, options, fn) {\n  this.sendPacket('message', msg, options, fn);\n  return this;\n};\n\n/**\n * Sends a packet.\n *\n * @param {String} packet type.\n * @param {String} data.\n * @param {Object} options.\n * @param {Function} callback function.\n * @api private\n */\n\nSocket.prototype.sendPacket = function (type, data, options, fn) {\n  if('function' == typeof data) {\n    fn = data;\n    data = undefined;\n  }\n\n  if ('function' == typeof options) {\n    fn = options;\n    options = null;\n  }\n\n  if ('closing' == this.readyState || 'closed' == this.readyState) {\n    return;\n  }\n\n  options = options || {};\n  options.compress = false !== options.compress;\n\n  var packet = {\n    type: type,\n    data: data,\n    options: options\n  };\n  this.emit('packetCreate', packet);\n  this.writeBuffer.push(packet);\n  if (fn) this.once('flush', fn);\n  this.flush();\n};\n\n/**\n * Closes the connection.\n *\n * @api private\n */\n\nSocket.prototype.close = function () {\n  if ('opening' == this.readyState || 'open' == this.readyState) {\n    this.readyState = 'closing';\n\n    var self = this;\n\n    if (this.writeBuffer.length) {\n      this.once('drain', function() {\n        if (this.upgrading) {\n          waitForUpgrade();\n        } else {\n          close();\n        }\n      });\n    } else if (this.upgrading) {\n      waitForUpgrade();\n    } else {\n      close();\n    }\n  }\n\n  function close() {\n    self.onClose('forced close');\n    debug('socket closing - telling transport to close');\n    self.transport.close();\n  }\n\n  function cleanupAndClose() {\n    self.removeListener('upgrade', cleanupAndClose);\n    self.removeListener('upgradeError', cleanupAndClose);\n    close();\n  }\n\n  function waitForUpgrade() {\n    // wait for upgrade to finish since we can't send packets while pausing a transport\n    self.once('upgrade', cleanupAndClose);\n    self.once('upgradeError', cleanupAndClose);\n  }\n\n  return this;\n};\n\n/**\n * Called upon transport error\n *\n * @api private\n */\n\nSocket.prototype.onError = function (err) {\n  debug('socket error %j', err);\n  Socket.priorWebsocketSuccess = false;\n  this.emit('error', err);\n  this.onClose('transport error', err);\n};\n\n/**\n * Called upon transport close.\n *\n * @api private\n */\n\nSocket.prototype.onClose = function (reason, desc) {\n  if ('opening' == this.readyState || 'open' == this.readyState || 'closing' == this.readyState) {\n    debug('socket close with reason: \"%s\"', reason);\n    var self = this;\n\n    // clear timers\n    clearTimeout(this.pingIntervalTimer);\n    clearTimeout(this.pingTimeoutTimer);\n\n    // stop event from firing again for transport\n    this.transport.removeAllListeners('close');\n\n    // ensure transport won't stay open\n    this.transport.close();\n\n    // ignore further transport communication\n    this.transport.removeAllListeners();\n\n    // set ready state\n    this.readyState = 'closed';\n\n    // clear session id\n    this.id = null;\n\n    // emit close event\n    this.emit('close', reason, desc);\n\n    // clean buffers after, so users can still\n    // grab the buffers on `close` event\n    self.writeBuffer = [];\n    self.prevBufferLen = 0;\n  }\n};\n\n/**\n * Filters upgrades, returning only those matching client transports.\n *\n * @param {Array} server upgrades\n * @api private\n *\n */\n\nSocket.prototype.filterUpgrades = function (upgrades) {\n  var filteredUpgrades = [];\n  for (var i = 0, j = upgrades.length; i<j; i++) {\n    if (~index(this.transports, upgrades[i])) filteredUpgrades.push(upgrades[i]);\n  }\n  return filteredUpgrades;\n};\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n},{\"./transport\":4,\"./transports\":5,\"component-emitter\":15,\"debug\":17,\"engine.io-parser\":19,\"indexof\":23,\"parsejson\":26,\"parseqs\":27,\"parseuri\":28}],4:[function(_dereq_,module,exports){\n/**\n * Module dependencies.\n */\n\nvar parser = _dereq_('engine.io-parser');\nvar Emitter = _dereq_('component-emitter');\n\n/**\n * Module exports.\n */\n\nmodule.exports = Transport;\n\n/**\n * Transport abstract constructor.\n *\n * @param {Object} options.\n * @api private\n */\n\nfunction Transport (opts) {\n  this.path = opts.path;\n  this.hostname = opts.hostname;\n  this.port = opts.port;\n  this.secure = opts.secure;\n  this.query = opts.query;\n  this.timestampParam = opts.timestampParam;\n  this.timestampRequests = opts.timestampRequests;\n  this.readyState = '';\n  this.agent = opts.agent || false;\n  this.socket = opts.socket;\n  this.enablesXDR = opts.enablesXDR;\n\n  // SSL options for Node.js client\n  this.pfx = opts.pfx;\n  this.key = opts.key;\n  this.passphrase = opts.passphrase;\n  this.cert = opts.cert;\n  this.ca = opts.ca;\n  this.ciphers = opts.ciphers;\n  this.rejectUnauthorized = opts.rejectUnauthorized;\n\n  // other options for Node.js client\n  this.extraHeaders = opts.extraHeaders;\n}\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Transport.prototype);\n\n/**\n * Emits an error.\n *\n * @param {String} str\n * @return {Transport} for chaining\n * @api public\n */\n\nTransport.prototype.onError = function (msg, desc) {\n  var err = new Error(msg);\n  err.type = 'TransportError';\n  err.description = desc;\n  this.emit('error', err);\n  return this;\n};\n\n/**\n * Opens the transport.\n *\n * @api public\n */\n\nTransport.prototype.open = function () {\n  if ('closed' == this.readyState || '' == this.readyState) {\n    this.readyState = 'opening';\n    this.doOpen();\n  }\n\n  return this;\n};\n\n/**\n * Closes the transport.\n *\n * @api private\n */\n\nTransport.prototype.close = function () {\n  if ('opening' == this.readyState || 'open' == this.readyState) {\n    this.doClose();\n    this.onClose();\n  }\n\n  return this;\n};\n\n/**\n * Sends multiple packets.\n *\n * @param {Array} packets\n * @api private\n */\n\nTransport.prototype.send = function(packets){\n  if ('open' == this.readyState) {\n    this.write(packets);\n  } else {\n    throw new Error('Transport not open');\n  }\n};\n\n/**\n * Called upon open\n *\n * @api private\n */\n\nTransport.prototype.onOpen = function () {\n  this.readyState = 'open';\n  this.writable = true;\n  this.emit('open');\n};\n\n/**\n * Called with data.\n *\n * @param {String} data\n * @api private\n */\n\nTransport.prototype.onData = function(data){\n  var packet = parser.decodePacket(data, this.socket.binaryType);\n  this.onPacket(packet);\n};\n\n/**\n * Called with a decoded packet.\n */\n\nTransport.prototype.onPacket = function (packet) {\n  this.emit('packet', packet);\n};\n\n/**\n * Called upon close.\n *\n * @api private\n */\n\nTransport.prototype.onClose = function () {\n  this.readyState = 'closed';\n  this.emit('close');\n};\n\n},{\"component-emitter\":15,\"engine.io-parser\":19}],5:[function(_dereq_,module,exports){\n(function (global){\n/**\n * Module dependencies\n */\n\nvar XMLHttpRequest = _dereq_('xmlhttprequest-ssl');\nvar XHR = _dereq_('./polling-xhr');\nvar JSONP = _dereq_('./polling-jsonp');\nvar websocket = _dereq_('./websocket');\n\n/**\n * Export transports.\n */\n\nexports.polling = polling;\nexports.websocket = websocket;\n\n/**\n * Polling transport polymorphic constructor.\n * Decides on xhr vs jsonp based on feature detection.\n *\n * @api private\n */\n\nfunction polling(opts){\n  var xhr;\n  var xd = false;\n  var xs = false;\n  var jsonp = false !== opts.jsonp;\n\n  if (global.location) {\n    var isSSL = 'https:' == location.protocol;\n    var port = location.port;\n\n    // some user agents have empty `location.port`\n    if (!port) {\n      port = isSSL ? 443 : 80;\n    }\n\n    xd = opts.hostname != location.hostname || port != opts.port;\n    xs = opts.secure != isSSL;\n  }\n\n  opts.xdomain = xd;\n  opts.xscheme = xs;\n  xhr = new XMLHttpRequest(opts);\n\n  if ('open' in xhr && !opts.forceJSONP) {\n    return new XHR(opts);\n  } else {\n    if (!jsonp) throw new Error('JSONP disabled');\n    return new JSONP(opts);\n  }\n}\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n},{\"./polling-jsonp\":6,\"./polling-xhr\":7,\"./websocket\":9,\"xmlhttprequest-ssl\":10}],6:[function(_dereq_,module,exports){\n(function (global){\n\n/**\n * Module requirements.\n */\n\nvar Polling = _dereq_('./polling');\nvar inherit = _dereq_('component-inherit');\n\n/**\n * Module exports.\n */\n\nmodule.exports = JSONPPolling;\n\n/**\n * Cached regular expressions.\n */\n\nvar rNewline = /\\n/g;\nvar rEscapedNewline = /\\\\n/g;\n\n/**\n * Global JSONP callbacks.\n */\n\nvar callbacks;\n\n/**\n * Callbacks count.\n */\n\nvar index = 0;\n\n/**\n * Noop.\n */\n\nfunction empty () { }\n\n/**\n * JSONP Polling constructor.\n *\n * @param {Object} opts.\n * @api public\n */\n\nfunction JSONPPolling (opts) {\n  Polling.call(this, opts);\n\n  this.query = this.query || {};\n\n  // define global callbacks array if not present\n  // we do this here (lazily) to avoid unneeded global pollution\n  if (!callbacks) {\n    // we need to consider multiple engines in the same page\n    if (!global.___eio) global.___eio = [];\n    callbacks = global.___eio;\n  }\n\n  // callback identifier\n  this.index = callbacks.length;\n\n  // add callback to jsonp global\n  var self = this;\n  callbacks.push(function (msg) {\n    self.onData(msg);\n  });\n\n  // append to query string\n  this.query.j = this.index;\n\n  // prevent spurious errors from being emitted when the window is unloaded\n  if (global.document && global.addEventListener) {\n    global.addEventListener('beforeunload', function () {\n      if (self.script) self.script.onerror = empty;\n    }, false);\n  }\n}\n\n/**\n * Inherits from Polling.\n */\n\ninherit(JSONPPolling, Polling);\n\n/*\n * JSONP only supports binary as base64 encoded strings\n */\n\nJSONPPolling.prototype.supportsBinary = false;\n\n/**\n * Closes the socket.\n *\n * @api private\n */\n\nJSONPPolling.prototype.doClose = function () {\n  if (this.script) {\n    this.script.parentNode.removeChild(this.script);\n    this.script = null;\n  }\n\n  if (this.form) {\n    this.form.parentNode.removeChild(this.form);\n    this.form = null;\n    this.iframe = null;\n  }\n\n  Polling.prototype.doClose.call(this);\n};\n\n/**\n * Starts a poll cycle.\n *\n * @api private\n */\n\nJSONPPolling.prototype.doPoll = function () {\n  var self = this;\n  var script = document.createElement('script');\n\n  if (this.script) {\n    this.script.parentNode.removeChild(this.script);\n    this.script = null;\n  }\n\n  script.async = true;\n  script.src = this.uri();\n  script.onerror = function(e){\n    self.onError('jsonp poll error',e);\n  };\n\n  var insertAt = document.getElementsByTagName('script')[0];\n  if (insertAt) {\n    insertAt.parentNode.insertBefore(script, insertAt);\n  }\n  else {\n    (document.head || document.body).appendChild(script);\n  }\n  this.script = script;\n\n  var isUAgecko = 'undefined' != typeof navigator && /gecko/i.test(navigator.userAgent);\n  \n  if (isUAgecko) {\n    setTimeout(function () {\n      var iframe = document.createElement('iframe');\n      document.body.appendChild(iframe);\n      document.body.removeChild(iframe);\n    }, 100);\n  }\n};\n\n/**\n * Writes with a hidden iframe.\n *\n * @param {String} data to send\n * @param {Function} called upon flush.\n * @api private\n */\n\nJSONPPolling.prototype.doWrite = function (data, fn) {\n  var self = this;\n\n  if (!this.form) {\n    var form = document.createElement('form');\n    var area = document.createElement('textarea');\n    var id = this.iframeId = 'eio_iframe_' + this.index;\n    var iframe;\n\n    form.className = 'socketio';\n    form.style.position = 'absolute';\n    form.style.top = '-1000px';\n    form.style.left = '-1000px';\n    form.target = id;\n    form.method = 'POST';\n    form.setAttribute('accept-charset', 'utf-8');\n    area.name = 'd';\n    form.appendChild(area);\n    document.body.appendChild(form);\n\n    this.form = form;\n    this.area = area;\n  }\n\n  this.form.action = this.uri();\n\n  function complete () {\n    initIframe();\n    fn();\n  }\n\n  function initIframe () {\n    if (self.iframe) {\n      try {\n        self.form.removeChild(self.iframe);\n      } catch (e) {\n        self.onError('jsonp polling iframe removal error', e);\n      }\n    }\n\n    try {\n      // ie6 dynamic iframes with target=\"\" support (thanks Chris Lambacher)\n      var html = '<iframe src=\"javascript:0\" name=\"'+ self.iframeId +'\">';\n      iframe = document.createElement(html);\n    } catch (e) {\n      iframe = document.createElement('iframe');\n      iframe.name = self.iframeId;\n      iframe.src = 'javascript:0';\n    }\n\n    iframe.id = self.iframeId;\n\n    self.form.appendChild(iframe);\n    self.iframe = iframe;\n  }\n\n  initIframe();\n\n  // escape \\n to prevent it from being converted into \\r\\n by some UAs\n  // double escaping is required for escaped new lines because unescaping of new lines can be done safely on server-side\n  data = data.replace(rEscapedNewline, '\\\\\\n');\n  this.area.value = data.replace(rNewline, '\\\\n');\n\n  try {\n    this.form.submit();\n  } catch(e) {}\n\n  if (this.iframe.attachEvent) {\n    this.iframe.onreadystatechange = function(){\n      if (self.iframe.readyState == 'complete') {\n        complete();\n      }\n    };\n  } else {\n    this.iframe.onload = complete;\n  }\n};\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n},{\"./polling\":8,\"component-inherit\":16}],7:[function(_dereq_,module,exports){\n(function (global){\n/**\n * Module requirements.\n */\n\nvar XMLHttpRequest = _dereq_('xmlhttprequest-ssl');\nvar Polling = _dereq_('./polling');\nvar Emitter = _dereq_('component-emitter');\nvar inherit = _dereq_('component-inherit');\nvar debug = _dereq_('debug')('engine.io-client:polling-xhr');\n\n/**\n * Module exports.\n */\n\nmodule.exports = XHR;\nmodule.exports.Request = Request;\n\n/**\n * Empty function\n */\n\nfunction empty(){}\n\n/**\n * XHR Polling constructor.\n *\n * @param {Object} opts\n * @api public\n */\n\nfunction XHR(opts){\n  Polling.call(this, opts);\n\n  if (global.location) {\n    var isSSL = 'https:' == location.protocol;\n    var port = location.port;\n\n    // some user agents have empty `location.port`\n    if (!port) {\n      port = isSSL ? 443 : 80;\n    }\n\n    this.xd = opts.hostname != global.location.hostname ||\n      port != opts.port;\n    this.xs = opts.secure != isSSL;\n  } else {\n    this.extraHeaders = opts.extraHeaders;\n  }\n}\n\n/**\n * Inherits from Polling.\n */\n\ninherit(XHR, Polling);\n\n/**\n * XHR supports binary\n */\n\nXHR.prototype.supportsBinary = true;\n\n/**\n * Creates a request.\n *\n * @param {String} method\n * @api private\n */\n\nXHR.prototype.request = function(opts){\n  opts = opts || {};\n  opts.uri = this.uri();\n  opts.xd = this.xd;\n  opts.xs = this.xs;\n  opts.agent = this.agent || false;\n  opts.supportsBinary = this.supportsBinary;\n  opts.enablesXDR = this.enablesXDR;\n\n  // SSL options for Node.js client\n  opts.pfx = this.pfx;\n  opts.key = this.key;\n  opts.passphrase = this.passphrase;\n  opts.cert = this.cert;\n  opts.ca = this.ca;\n  opts.ciphers = this.ciphers;\n  opts.rejectUnauthorized = this.rejectUnauthorized;\n\n  // other options for Node.js client\n  opts.extraHeaders = this.extraHeaders;\n\n  return new Request(opts);\n};\n\n/**\n * Sends data.\n *\n * @param {String} data to send.\n * @param {Function} called upon flush.\n * @api private\n */\n\nXHR.prototype.doWrite = function(data, fn){\n  var isBinary = typeof data !== 'string' && data !== undefined;\n  var req = this.request({ method: 'POST', data: data, isBinary: isBinary });\n  var self = this;\n  req.on('success', fn);\n  req.on('error', function(err){\n    self.onError('xhr post error', err);\n  });\n  this.sendXhr = req;\n};\n\n/**\n * Starts a poll cycle.\n *\n * @api private\n */\n\nXHR.prototype.doPoll = function(){\n  debug('xhr poll');\n  var req = this.request();\n  var self = this;\n  req.on('data', function(data){\n    self.onData(data);\n  });\n  req.on('error', function(err){\n    self.onError('xhr poll error', err);\n  });\n  this.pollXhr = req;\n};\n\n/**\n * Request constructor\n *\n * @param {Object} options\n * @api public\n */\n\nfunction Request(opts){\n  this.method = opts.method || 'GET';\n  this.uri = opts.uri;\n  this.xd = !!opts.xd;\n  this.xs = !!opts.xs;\n  this.async = false !== opts.async;\n  this.data = undefined != opts.data ? opts.data : null;\n  this.agent = opts.agent;\n  this.isBinary = opts.isBinary;\n  this.supportsBinary = opts.supportsBinary;\n  this.enablesXDR = opts.enablesXDR;\n\n  // SSL options for Node.js client\n  this.pfx = opts.pfx;\n  this.key = opts.key;\n  this.passphrase = opts.passphrase;\n  this.cert = opts.cert;\n  this.ca = opts.ca;\n  this.ciphers = opts.ciphers;\n  this.rejectUnauthorized = opts.rejectUnauthorized;\n\n  // other options for Node.js client\n  this.extraHeaders = opts.extraHeaders;\n\n  this.create();\n}\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Request.prototype);\n\n/**\n * Creates the XHR object and sends the request.\n *\n * @api private\n */\n\nRequest.prototype.create = function(){\n  var opts = { agent: this.agent, xdomain: this.xd, xscheme: this.xs, enablesXDR: this.enablesXDR };\n\n  // SSL options for Node.js client\n  opts.pfx = this.pfx;\n  opts.key = this.key;\n  opts.passphrase = this.passphrase;\n  opts.cert = this.cert;\n  opts.ca = this.ca;\n  opts.ciphers = this.ciphers;\n  opts.rejectUnauthorized = this.rejectUnauthorized;\n\n  var xhr = this.xhr = new XMLHttpRequest(opts);\n  var self = this;\n\n  try {\n    debug('xhr open %s: %s', this.method, this.uri);\n    xhr.open(this.method, this.uri, this.async);\n    try {\n      if (this.extraHeaders) {\n        xhr.setDisableHeaderCheck(true);\n        for (var i in this.extraHeaders) {\n          if (this.extraHeaders.hasOwnProperty(i)) {\n            xhr.setRequestHeader(i, this.extraHeaders[i]);\n          }\n        }\n      }\n    } catch (e) {}\n    if (this.supportsBinary) {\n      // This has to be done after open because Firefox is stupid\n      // http://stackoverflow.com/questions/13216903/get-binary-data-with-xmlhttprequest-in-a-firefox-extension\n      xhr.responseType = 'arraybuffer';\n    }\n\n    if ('POST' == this.method) {\n      try {\n        if (this.isBinary) {\n          xhr.setRequestHeader('Content-type', 'application/octet-stream');\n        } else {\n          xhr.setRequestHeader('Content-type', 'text/plain;charset=UTF-8');\n        }\n      } catch (e) {}\n    }\n\n    // ie6 check\n    if ('withCredentials' in xhr) {\n      xhr.withCredentials = true;\n    }\n\n    if (this.hasXDR()) {\n      xhr.onload = function(){\n        self.onLoad();\n      };\n      xhr.onerror = function(){\n        self.onError(xhr.responseText);\n      };\n    } else {\n      xhr.onreadystatechange = function(){\n        if (4 != xhr.readyState) return;\n        if (200 == xhr.status || 1223 == xhr.status) {\n          self.onLoad();\n        } else {\n          // make sure the `error` event handler that's user-set\n          // does not throw in the same tick and gets caught here\n          setTimeout(function(){\n            self.onError(xhr.status);\n          }, 0);\n        }\n      };\n    }\n\n    debug('xhr data %s', this.data);\n    xhr.send(this.data);\n  } catch (e) {\n    // Need to defer since .create() is called directly fhrom the constructor\n    // and thus the 'error' event can only be only bound *after* this exception\n    // occurs.  Therefore, also, we cannot throw here at all.\n    setTimeout(function() {\n      self.onError(e);\n    }, 0);\n    return;\n  }\n\n  if (global.document) {\n    this.index = Request.requestsCount++;\n    Request.requests[this.index] = this;\n  }\n};\n\n/**\n * Called upon successful response.\n *\n * @api private\n */\n\nRequest.prototype.onSuccess = function(){\n  this.emit('success');\n  this.cleanup();\n};\n\n/**\n * Called if we have data.\n *\n * @api private\n */\n\nRequest.prototype.onData = function(data){\n  this.emit('data', data);\n  this.onSuccess();\n};\n\n/**\n * Called upon error.\n *\n * @api private\n */\n\nRequest.prototype.onError = function(err){\n  this.emit('error', err);\n  this.cleanup(true);\n};\n\n/**\n * Cleans up house.\n *\n * @api private\n */\n\nRequest.prototype.cleanup = function(fromError){\n  if ('undefined' == typeof this.xhr || null === this.xhr) {\n    return;\n  }\n  // xmlhttprequest\n  if (this.hasXDR()) {\n    this.xhr.onload = this.xhr.onerror = empty;\n  } else {\n    this.xhr.onreadystatechange = empty;\n  }\n\n  if (fromError) {\n    try {\n      this.xhr.abort();\n    } catch(e) {}\n  }\n\n  if (global.document) {\n    delete Request.requests[this.index];\n  }\n\n  this.xhr = null;\n};\n\n/**\n * Called upon load.\n *\n * @api private\n */\n\nRequest.prototype.onLoad = function(){\n  var data;\n  try {\n    var contentType;\n    try {\n      contentType = this.xhr.getResponseHeader('Content-Type').split(';')[0];\n    } catch (e) {}\n    if (contentType === 'application/octet-stream') {\n      data = this.xhr.response;\n    } else {\n      if (!this.supportsBinary) {\n        data = this.xhr.responseText;\n      } else {\n        try {\n          data = String.fromCharCode.apply(null, new Uint8Array(this.xhr.response));\n        } catch (e) {\n          var ui8Arr = new Uint8Array(this.xhr.response);\n          var dataArray = [];\n          for (var idx = 0, length = ui8Arr.length; idx < length; idx++) {\n            dataArray.push(ui8Arr[idx]);\n          }\n\n          data = String.fromCharCode.apply(null, dataArray);\n        }\n      }\n    }\n  } catch (e) {\n    this.onError(e);\n  }\n  if (null != data) {\n    this.onData(data);\n  }\n};\n\n/**\n * Check if it has XDomainRequest.\n *\n * @api private\n */\n\nRequest.prototype.hasXDR = function(){\n  return 'undefined' !== typeof global.XDomainRequest && !this.xs && this.enablesXDR;\n};\n\n/**\n * Aborts the request.\n *\n * @api public\n */\n\nRequest.prototype.abort = function(){\n  this.cleanup();\n};\n\n/**\n * Aborts pending requests when unloading the window. This is needed to prevent\n * memory leaks (e.g. when using IE) and to ensure that no spurious error is\n * emitted.\n */\n\nif (global.document) {\n  Request.requestsCount = 0;\n  Request.requests = {};\n  if (global.attachEvent) {\n    global.attachEvent('onunload', unloadHandler);\n  } else if (global.addEventListener) {\n    global.addEventListener('beforeunload', unloadHandler, false);\n  }\n}\n\nfunction unloadHandler() {\n  for (var i in Request.requests) {\n    if (Request.requests.hasOwnProperty(i)) {\n      Request.requests[i].abort();\n    }\n  }\n}\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n},{\"./polling\":8,\"component-emitter\":15,\"component-inherit\":16,\"debug\":17,\"xmlhttprequest-ssl\":10}],8:[function(_dereq_,module,exports){\n/**\n * Module dependencies.\n */\n\nvar Transport = _dereq_('../transport');\nvar parseqs = _dereq_('parseqs');\nvar parser = _dereq_('engine.io-parser');\nvar inherit = _dereq_('component-inherit');\nvar yeast = _dereq_('yeast');\nvar debug = _dereq_('debug')('engine.io-client:polling');\n\n/**\n * Module exports.\n */\n\nmodule.exports = Polling;\n\n/**\n * Is XHR2 supported?\n */\n\nvar hasXHR2 = (function() {\n  var XMLHttpRequest = _dereq_('xmlhttprequest-ssl');\n  var xhr = new XMLHttpRequest({ xdomain: false });\n  return null != xhr.responseType;\n})();\n\n/**\n * Polling interface.\n *\n * @param {Object} opts\n * @api private\n */\n\nfunction Polling(opts){\n  var forceBase64 = (opts && opts.forceBase64);\n  if (!hasXHR2 || forceBase64) {\n    this.supportsBinary = false;\n  }\n  Transport.call(this, opts);\n}\n\n/**\n * Inherits from Transport.\n */\n\ninherit(Polling, Transport);\n\n/**\n * Transport name.\n */\n\nPolling.prototype.name = 'polling';\n\n/**\n * Opens the socket (triggers polling). We write a PING message to determine\n * when the transport is open.\n *\n * @api private\n */\n\nPolling.prototype.doOpen = function(){\n  this.poll();\n};\n\n/**\n * Pauses polling.\n *\n * @param {Function} callback upon buffers are flushed and transport is paused\n * @api private\n */\n\nPolling.prototype.pause = function(onPause){\n  var pending = 0;\n  var self = this;\n\n  this.readyState = 'pausing';\n\n  function pause(){\n    debug('paused');\n    self.readyState = 'paused';\n    onPause();\n  }\n\n  if (this.polling || !this.writable) {\n    var total = 0;\n\n    if (this.polling) {\n      debug('we are currently polling - waiting to pause');\n      total++;\n      this.once('pollComplete', function(){\n        debug('pre-pause polling complete');\n        --total || pause();\n      });\n    }\n\n    if (!this.writable) {\n      debug('we are currently writing - waiting to pause');\n      total++;\n      this.once('drain', function(){\n        debug('pre-pause writing complete');\n        --total || pause();\n      });\n    }\n  } else {\n    pause();\n  }\n};\n\n/**\n * Starts polling cycle.\n *\n * @api public\n */\n\nPolling.prototype.poll = function(){\n  debug('polling');\n  this.polling = true;\n  this.doPoll();\n  this.emit('poll');\n};\n\n/**\n * Overloads onData to detect payloads.\n *\n * @api private\n */\n\nPolling.prototype.onData = function(data){\n  var self = this;\n  debug('polling got data %s', data);\n  var callback = function(packet, index, total) {\n    // if its the first message we consider the transport open\n    if ('opening' == self.readyState) {\n      self.onOpen();\n    }\n\n    // if its a close packet, we close the ongoing requests\n    if ('close' == packet.type) {\n      self.onClose();\n      return false;\n    }\n\n    // otherwise bypass onData and handle the message\n    self.onPacket(packet);\n  };\n\n  // decode payload\n  parser.decodePayload(data, this.socket.binaryType, callback);\n\n  // if an event did not trigger closing\n  if ('closed' != this.readyState) {\n    // if we got data we're not polling\n    this.polling = false;\n    this.emit('pollComplete');\n\n    if ('open' == this.readyState) {\n      this.poll();\n    } else {\n      debug('ignoring poll - transport state \"%s\"', this.readyState);\n    }\n  }\n};\n\n/**\n * For polling, send a close packet.\n *\n * @api private\n */\n\nPolling.prototype.doClose = function(){\n  var self = this;\n\n  function close(){\n    debug('writing close packet');\n    self.write([{ type: 'close' }]);\n  }\n\n  if ('open' == this.readyState) {\n    debug('transport open - closing');\n    close();\n  } else {\n    // in case we're trying to close while\n    // handshaking is in progress (GH-164)\n    debug('transport not open - deferring close');\n    this.once('open', close);\n  }\n};\n\n/**\n * Writes a packets payload.\n *\n * @param {Array} data packets\n * @param {Function} drain callback\n * @api private\n */\n\nPolling.prototype.write = function(packets){\n  var self = this;\n  this.writable = false;\n  var callbackfn = function() {\n    self.writable = true;\n    self.emit('drain');\n  };\n\n  var self = this;\n  parser.encodePayload(packets, this.supportsBinary, function(data) {\n    self.doWrite(data, callbackfn);\n  });\n};\n\n/**\n * Generates uri for connection.\n *\n * @api private\n */\n\nPolling.prototype.uri = function(){\n  var query = this.query || {};\n  var schema = this.secure ? 'https' : 'http';\n  var port = '';\n\n  // cache busting is forced\n  if (false !== this.timestampRequests) {\n    query[this.timestampParam] = yeast();\n  }\n\n  if (!this.supportsBinary && !query.sid) {\n    query.b64 = 1;\n  }\n\n  query = parseqs.encode(query);\n\n  // avoid port if default for schema\n  if (this.port && (('https' == schema && this.port != 443) ||\n     ('http' == schema && this.port != 80))) {\n    port = ':' + this.port;\n  }\n\n  // prepend ? to query\n  if (query.length) {\n    query = '?' + query;\n  }\n\n  var ipv6 = this.hostname.indexOf(':') !== -1;\n  return schema + '://' + (ipv6 ? '[' + this.hostname + ']' : this.hostname) + port + this.path + query;\n};\n\n},{\"../transport\":4,\"component-inherit\":16,\"debug\":17,\"engine.io-parser\":19,\"parseqs\":27,\"xmlhttprequest-ssl\":10,\"yeast\":30}],9:[function(_dereq_,module,exports){\n(function (global){\n/**\n * Module dependencies.\n */\n\nvar Transport = _dereq_('../transport');\nvar parser = _dereq_('engine.io-parser');\nvar parseqs = _dereq_('parseqs');\nvar inherit = _dereq_('component-inherit');\nvar yeast = _dereq_('yeast');\nvar debug = _dereq_('debug')('engine.io-client:websocket');\nvar BrowserWebSocket = global.WebSocket || global.MozWebSocket;\n\n/**\n * Get either the `WebSocket` or `MozWebSocket` globals\n * in the browser or the WebSocket-compatible interface\n * exposed by `ws` for Node environment.\n */\n\nvar WebSocket = BrowserWebSocket || (typeof window !== 'undefined' ? null : _dereq_('ws'));\n\n/**\n * Module exports.\n */\n\nmodule.exports = WS;\n\n/**\n * WebSocket transport constructor.\n *\n * @api {Object} connection options\n * @api public\n */\n\nfunction WS(opts){\n  var forceBase64 = (opts && opts.forceBase64);\n  if (forceBase64) {\n    this.supportsBinary = false;\n  }\n  this.perMessageDeflate = opts.perMessageDeflate;\n  Transport.call(this, opts);\n}\n\n/**\n * Inherits from Transport.\n */\n\ninherit(WS, Transport);\n\n/**\n * Transport name.\n *\n * @api public\n */\n\nWS.prototype.name = 'websocket';\n\n/*\n * WebSockets support binary\n */\n\nWS.prototype.supportsBinary = true;\n\n/**\n * Opens socket.\n *\n * @api private\n */\n\nWS.prototype.doOpen = function(){\n  if (!this.check()) {\n    // let probe timeout\n    return;\n  }\n\n  var self = this;\n  var uri = this.uri();\n  var protocols = void(0);\n  var opts = {\n    agent: this.agent,\n    perMessageDeflate: this.perMessageDeflate\n  };\n\n  // SSL options for Node.js client\n  opts.pfx = this.pfx;\n  opts.key = this.key;\n  opts.passphrase = this.passphrase;\n  opts.cert = this.cert;\n  opts.ca = this.ca;\n  opts.ciphers = this.ciphers;\n  opts.rejectUnauthorized = this.rejectUnauthorized;\n  if (this.extraHeaders) {\n    opts.headers = this.extraHeaders;\n  }\n\n  this.ws = BrowserWebSocket ? new WebSocket(uri) : new WebSocket(uri, protocols, opts);\n\n  if (this.ws.binaryType === undefined) {\n    this.supportsBinary = false;\n  }\n\n  if (this.ws.supports && this.ws.supports.binary) {\n    this.supportsBinary = true;\n    this.ws.binaryType = 'buffer';\n  } else {\n    this.ws.binaryType = 'arraybuffer';\n  }\n\n  this.addEventListeners();\n};\n\n/**\n * Adds event listeners to the socket\n *\n * @api private\n */\n\nWS.prototype.addEventListeners = function(){\n  var self = this;\n\n  this.ws.onopen = function(){\n    self.onOpen();\n  };\n  this.ws.onclose = function(){\n    self.onClose();\n  };\n  this.ws.onmessage = function(ev){\n    self.onData(ev.data);\n  };\n  this.ws.onerror = function(e){\n    self.onError('websocket error', e);\n  };\n};\n\n/**\n * Override `onData` to use a timer on iOS.\n * See: https://gist.github.com/mloughran/2052006\n *\n * @api private\n */\n\nif ('undefined' != typeof navigator\n  && /iPad|iPhone|iPod/i.test(navigator.userAgent)) {\n  WS.prototype.onData = function(data){\n    var self = this;\n    setTimeout(function(){\n      Transport.prototype.onData.call(self, data);\n    }, 0);\n  };\n}\n\n/**\n * Writes data to socket.\n *\n * @param {Array} array of packets.\n * @api private\n */\n\nWS.prototype.write = function(packets){\n  var self = this;\n  this.writable = false;\n\n  // encodePacket efficient as it uses WS framing\n  // no need for encodePayload\n  var total = packets.length;\n  for (var i = 0, l = total; i < l; i++) {\n    (function(packet) {\n      parser.encodePacket(packet, self.supportsBinary, function(data) {\n        if (!BrowserWebSocket) {\n          // always create a new object (GH-437)\n          var opts = {};\n          if (packet.options) {\n            opts.compress = packet.options.compress;\n          }\n\n          if (self.perMessageDeflate) {\n            var len = 'string' == typeof data ? global.Buffer.byteLength(data) : data.length;\n            if (len < self.perMessageDeflate.threshold) {\n              opts.compress = false;\n            }\n          }\n        }\n\n        //Sometimes the websocket has already been closed but the browser didn't\n        //have a chance of informing us about it yet, in that case send will\n        //throw an error\n        try {\n          if (BrowserWebSocket) {\n            // TypeError is thrown when passing the second argument on Safari\n            self.ws.send(data);\n          } else {\n            self.ws.send(data, opts);\n          }\n        } catch (e){\n          debug('websocket closed before onclose event');\n        }\n\n        --total || done();\n      });\n    })(packets[i]);\n  }\n\n  function done(){\n    self.emit('flush');\n\n    // fake drain\n    // defer to next tick to allow Socket to clear writeBuffer\n    setTimeout(function(){\n      self.writable = true;\n      self.emit('drain');\n    }, 0);\n  }\n};\n\n/**\n * Called upon close\n *\n * @api private\n */\n\nWS.prototype.onClose = function(){\n  Transport.prototype.onClose.call(this);\n};\n\n/**\n * Closes socket.\n *\n * @api private\n */\n\nWS.prototype.doClose = function(){\n  if (typeof this.ws !== 'undefined') {\n    this.ws.close();\n  }\n};\n\n/**\n * Generates uri for connection.\n *\n * @api private\n */\n\nWS.prototype.uri = function(){\n  var query = this.query || {};\n  var schema = this.secure ? 'wss' : 'ws';\n  var port = '';\n\n  // avoid port if default for schema\n  if (this.port && (('wss' == schema && this.port != 443)\n    || ('ws' == schema && this.port != 80))) {\n    port = ':' + this.port;\n  }\n\n  // append timestamp to URI\n  if (this.timestampRequests) {\n    query[this.timestampParam] = yeast();\n  }\n\n  // communicate binary support capabilities\n  if (!this.supportsBinary) {\n    query.b64 = 1;\n  }\n\n  query = parseqs.encode(query);\n\n  // prepend ? to query\n  if (query.length) {\n    query = '?' + query;\n  }\n\n  var ipv6 = this.hostname.indexOf(':') !== -1;\n  return schema + '://' + (ipv6 ? '[' + this.hostname + ']' : this.hostname) + port + this.path + query;\n};\n\n/**\n * Feature detection for WebSocket.\n *\n * @return {Boolean} whether this transport is available.\n * @api public\n */\n\nWS.prototype.check = function(){\n  return !!WebSocket && !('__initialize' in WebSocket && this.name === WS.prototype.name);\n};\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n},{\"../transport\":4,\"component-inherit\":16,\"debug\":17,\"engine.io-parser\":19,\"parseqs\":27,\"ws\":undefined,\"yeast\":30}],10:[function(_dereq_,module,exports){\n// browser shim for xmlhttprequest module\nvar hasCORS = _dereq_('has-cors');\n\nmodule.exports = function(opts) {\n  var xdomain = opts.xdomain;\n\n  // scheme must be same when usign XDomainRequest\n  // http://blogs.msdn.com/b/ieinternals/archive/2010/05/13/xdomainrequest-restrictions-limitations-and-workarounds.aspx\n  var xscheme = opts.xscheme;\n\n  // XDomainRequest has a flow of not sending cookie, therefore it should be disabled as a default.\n  // https://github.com/Automattic/engine.io-client/pull/217\n  var enablesXDR = opts.enablesXDR;\n\n  // XMLHttpRequest can be disabled on IE\n  try {\n    if ('undefined' != typeof XMLHttpRequest && (!xdomain || hasCORS)) {\n      return new XMLHttpRequest();\n    }\n  } catch (e) { }\n\n  // Use XDomainRequest for IE8 if enablesXDR is true\n  // because loading bar keeps flashing when using jsonp-polling\n  // https://github.com/yujiosaka/socke.io-ie8-loading-example\n  try {\n    if ('undefined' != typeof XDomainRequest && !xscheme && enablesXDR) {\n      return new XDomainRequest();\n    }\n  } catch (e) { }\n\n  if (!xdomain) {\n    try {\n      return new ActiveXObject('Microsoft.XMLHTTP');\n    } catch(e) { }\n  }\n}\n\n},{\"has-cors\":22}],11:[function(_dereq_,module,exports){\nmodule.exports = after\n\nfunction after(count, callback, err_cb) {\n    var bail = false\n    err_cb = err_cb || noop\n    proxy.count = count\n\n    return (count === 0) ? callback() : proxy\n\n    function proxy(err, result) {\n        if (proxy.count <= 0) {\n            throw new Error('after called too many times')\n        }\n        --proxy.count\n\n        // after first error, rest are passed to err_cb\n        if (err) {\n            bail = true\n            callback(err)\n            // future error callbacks will go to error handler\n            callback = err_cb\n        } else if (proxy.count === 0 && !bail) {\n            callback(null, result)\n        }\n    }\n}\n\nfunction noop() {}\n\n},{}],12:[function(_dereq_,module,exports){\n/**\n * An abstraction for slicing an arraybuffer even when\n * ArrayBuffer.prototype.slice is not supported\n *\n * @api public\n */\n\nmodule.exports = function(arraybuffer, start, end) {\n  var bytes = arraybuffer.byteLength;\n  start = start || 0;\n  end = end || bytes;\n\n  if (arraybuffer.slice) { return arraybuffer.slice(start, end); }\n\n  if (start < 0) { start += bytes; }\n  if (end < 0) { end += bytes; }\n  if (end > bytes) { end = bytes; }\n\n  if (start >= bytes || start >= end || bytes === 0) {\n    return new ArrayBuffer(0);\n  }\n\n  var abv = new Uint8Array(arraybuffer);\n  var result = new Uint8Array(end - start);\n  for (var i = start, ii = 0; i < end; i++, ii++) {\n    result[ii] = abv[i];\n  }\n  return result.buffer;\n};\n\n},{}],13:[function(_dereq_,module,exports){\n/*\n * base64-arraybuffer\n * https://github.com/niklasvh/base64-arraybuffer\n *\n * Copyright (c) 2012 Niklas von Hertzen\n * Licensed under the MIT license.\n */\n(function(chars){\n  \"use strict\";\n\n  exports.encode = function(arraybuffer) {\n    var bytes = new Uint8Array(arraybuffer),\n    i, len = bytes.length, base64 = \"\";\n\n    for (i = 0; i < len; i+=3) {\n      base64 += chars[bytes[i] >> 2];\n      base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n      base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n      base64 += chars[bytes[i + 2] & 63];\n    }\n\n    if ((len % 3) === 2) {\n      base64 = base64.substring(0, base64.length - 1) + \"=\";\n    } else if (len % 3 === 1) {\n      base64 = base64.substring(0, base64.length - 2) + \"==\";\n    }\n\n    return base64;\n  };\n\n  exports.decode =  function(base64) {\n    var bufferLength = base64.length * 0.75,\n    len = base64.length, i, p = 0,\n    encoded1, encoded2, encoded3, encoded4;\n\n    if (base64[base64.length - 1] === \"=\") {\n      bufferLength--;\n      if (base64[base64.length - 2] === \"=\") {\n        bufferLength--;\n      }\n    }\n\n    var arraybuffer = new ArrayBuffer(bufferLength),\n    bytes = new Uint8Array(arraybuffer);\n\n    for (i = 0; i < len; i+=4) {\n      encoded1 = chars.indexOf(base64[i]);\n      encoded2 = chars.indexOf(base64[i+1]);\n      encoded3 = chars.indexOf(base64[i+2]);\n      encoded4 = chars.indexOf(base64[i+3]);\n\n      bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n      bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n      bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n\n    return arraybuffer;\n  };\n})(\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\");\n\n},{}],14:[function(_dereq_,module,exports){\n(function (global){\n/**\n * Create a blob builder even when vendor prefixes exist\n */\n\nvar BlobBuilder = global.BlobBuilder\n  || global.WebKitBlobBuilder\n  || global.MSBlobBuilder\n  || global.MozBlobBuilder;\n\n/**\n * Check if Blob constructor is supported\n */\n\nvar blobSupported = (function() {\n  try {\n    var a = new Blob(['hi']);\n    return a.size === 2;\n  } catch(e) {\n    return false;\n  }\n})();\n\n/**\n * Check if Blob constructor supports ArrayBufferViews\n * Fails in Safari 6, so we need to map to ArrayBuffers there.\n */\n\nvar blobSupportsArrayBufferView = blobSupported && (function() {\n  try {\n    var b = new Blob([new Uint8Array([1,2])]);\n    return b.size === 2;\n  } catch(e) {\n    return false;\n  }\n})();\n\n/**\n * Check if BlobBuilder is supported\n */\n\nvar blobBuilderSupported = BlobBuilder\n  && BlobBuilder.prototype.append\n  && BlobBuilder.prototype.getBlob;\n\n/**\n * Helper function that maps ArrayBufferViews to ArrayBuffers\n * Used by BlobBuilder constructor and old browsers that didn't\n * support it in the Blob constructor.\n */\n\nfunction mapArrayBufferViews(ary) {\n  for (var i = 0; i < ary.length; i++) {\n    var chunk = ary[i];\n    if (chunk.buffer instanceof ArrayBuffer) {\n      var buf = chunk.buffer;\n\n      // if this is a subarray, make a copy so we only\n      // include the subarray region from the underlying buffer\n      if (chunk.byteLength !== buf.byteLength) {\n        var copy = new Uint8Array(chunk.byteLength);\n        copy.set(new Uint8Array(buf, chunk.byteOffset, chunk.byteLength));\n        buf = copy.buffer;\n      }\n\n      ary[i] = buf;\n    }\n  }\n}\n\nfunction BlobBuilderConstructor(ary, options) {\n  options = options || {};\n\n  var bb = new BlobBuilder();\n  mapArrayBufferViews(ary);\n\n  for (var i = 0; i < ary.length; i++) {\n    bb.append(ary[i]);\n  }\n\n  return (options.type) ? bb.getBlob(options.type) : bb.getBlob();\n};\n\nfunction BlobConstructor(ary, options) {\n  mapArrayBufferViews(ary);\n  return new Blob(ary, options || {});\n};\n\nmodule.exports = (function() {\n  if (blobSupported) {\n    return blobSupportsArrayBufferView ? global.Blob : BlobConstructor;\n  } else if (blobBuilderSupported) {\n    return BlobBuilderConstructor;\n  } else {\n    return undefined;\n  }\n})();\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n},{}],15:[function(_dereq_,module,exports){\n\n/**\n * Expose `Emitter`.\n */\n\nmodule.exports = Emitter;\n\n/**\n * Initialize a new `Emitter`.\n *\n * @api public\n */\n\nfunction Emitter(obj) {\n  if (obj) return mixin(obj);\n};\n\n/**\n * Mixin the emitter properties.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\nfunction mixin(obj) {\n  for (var key in Emitter.prototype) {\n    obj[key] = Emitter.prototype[key];\n  }\n  return obj;\n}\n\n/**\n * Listen on the given `event` with `fn`.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.on =\nEmitter.prototype.addEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n  (this._callbacks[event] = this._callbacks[event] || [])\n    .push(fn);\n  return this;\n};\n\n/**\n * Adds an `event` listener that will be invoked a single\n * time then automatically removed.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.once = function(event, fn){\n  var self = this;\n  this._callbacks = this._callbacks || {};\n\n  function on() {\n    self.off(event, on);\n    fn.apply(this, arguments);\n  }\n\n  on.fn = fn;\n  this.on(event, on);\n  return this;\n};\n\n/**\n * Remove the given callback for `event` or all\n * registered callbacks.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.off =\nEmitter.prototype.removeListener =\nEmitter.prototype.removeAllListeners =\nEmitter.prototype.removeEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n\n  // all\n  if (0 == arguments.length) {\n    this._callbacks = {};\n    return this;\n  }\n\n  // specific event\n  var callbacks = this._callbacks[event];\n  if (!callbacks) return this;\n\n  // remove all handlers\n  if (1 == arguments.length) {\n    delete this._callbacks[event];\n    return this;\n  }\n\n  // remove specific handler\n  var cb;\n  for (var i = 0; i < callbacks.length; i++) {\n    cb = callbacks[i];\n    if (cb === fn || cb.fn === fn) {\n      callbacks.splice(i, 1);\n      break;\n    }\n  }\n  return this;\n};\n\n/**\n * Emit `event` with the given args.\n *\n * @param {String} event\n * @param {Mixed} ...\n * @return {Emitter}\n */\n\nEmitter.prototype.emit = function(event){\n  this._callbacks = this._callbacks || {};\n  var args = [].slice.call(arguments, 1)\n    , callbacks = this._callbacks[event];\n\n  if (callbacks) {\n    callbacks = callbacks.slice(0);\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\n      callbacks[i].apply(this, args);\n    }\n  }\n\n  return this;\n};\n\n/**\n * Return array of callbacks for `event`.\n *\n * @param {String} event\n * @return {Array}\n * @api public\n */\n\nEmitter.prototype.listeners = function(event){\n  this._callbacks = this._callbacks || {};\n  return this._callbacks[event] || [];\n};\n\n/**\n * Check if this emitter has `event` handlers.\n *\n * @param {String} event\n * @return {Boolean}\n * @api public\n */\n\nEmitter.prototype.hasListeners = function(event){\n  return !! this.listeners(event).length;\n};\n\n},{}],16:[function(_dereq_,module,exports){\n\nmodule.exports = function(a, b){\n  var fn = function(){};\n  fn.prototype = b.prototype;\n  a.prototype = new fn;\n  a.prototype.constructor = a;\n};\n},{}],17:[function(_dereq_,module,exports){\n\n/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = _dereq_('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  'lightseagreen',\n  'forestgreen',\n  'goldenrod',\n  'dodgerblue',\n  'darkorchid',\n  'crimson'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  return ('WebkitAppearance' in document.documentElement.style) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (window.console && (console.firebug || (console.exception && console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31);\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  return JSON.stringify(v);\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs() {\n  var args = arguments;\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return args;\n\n  var c = 'color: ' + this.color;\n  args = [args[0], c, 'color: inherit'].concat(Array.prototype.slice.call(args, 1));\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n  return args;\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage(){\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n\n},{\"./debug\":18}],18:[function(_dereq_,module,exports){\n\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = debug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = _dereq_('ms');\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lowercased letter, i.e. \"n\".\n */\n\nexports.formatters = {};\n\n/**\n * Previously assigned color.\n */\n\nvar prevColor = 0;\n\n/**\n * Previous log timestamp.\n */\n\nvar prevTime;\n\n/**\n * Select a color.\n *\n * @return {Number}\n * @api private\n */\n\nfunction selectColor() {\n  return exports.colors[prevColor++ % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction debug(namespace) {\n\n  // define the `disabled` version\n  function disabled() {\n  }\n  disabled.enabled = false;\n\n  // define the `enabled` version\n  function enabled() {\n\n    var self = enabled;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // add the `color` if not set\n    if (null == self.useColors) self.useColors = exports.useColors();\n    if (null == self.color && self.useColors) self.color = selectColor();\n\n    var args = Array.prototype.slice.call(arguments);\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %o\n      args = ['%o'].concat(args);\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    if ('function' === typeof exports.formatArgs) {\n      args = exports.formatArgs.apply(self, args);\n    }\n    var logFn = enabled.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n  enabled.enabled = true;\n\n  var fn = exports.enabled(namespace) ? enabled : disabled;\n\n  fn.namespace = namespace;\n\n  return fn;\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  var split = (namespaces || '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (var i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n\n},{\"ms\":25}],19:[function(_dereq_,module,exports){\n(function (global){\n/**\n * Module dependencies.\n */\n\nvar keys = _dereq_('./keys');\nvar hasBinary = _dereq_('has-binary');\nvar sliceBuffer = _dereq_('arraybuffer.slice');\nvar base64encoder = _dereq_('base64-arraybuffer');\nvar after = _dereq_('after');\nvar utf8 = _dereq_('utf8');\n\n/**\n * Check if we are running an android browser. That requires us to use\n * ArrayBuffer with polling transports...\n *\n * http://ghinda.net/jpeg-blob-ajax-android/\n */\n\nvar isAndroid = navigator.userAgent.match(/Android/i);\n\n/**\n * Check if we are running in PhantomJS.\n * Uploading a Blob with PhantomJS does not work correctly, as reported here:\n * https://github.com/ariya/phantomjs/issues/11395\n * @type boolean\n */\nvar isPhantomJS = /PhantomJS/i.test(navigator.userAgent);\n\n/**\n * When true, avoids using Blobs to encode payloads.\n * @type boolean\n */\nvar dontSendBlobs = isAndroid || isPhantomJS;\n\n/**\n * Current protocol version.\n */\n\nexports.protocol = 3;\n\n/**\n * Packet types.\n */\n\nvar packets = exports.packets = {\n    open:     0    // non-ws\n  , close:    1    // non-ws\n  , ping:     2\n  , pong:     3\n  , message:  4\n  , upgrade:  5\n  , noop:     6\n};\n\nvar packetslist = keys(packets);\n\n/**\n * Premade error packet.\n */\n\nvar err = { type: 'error', data: 'parser error' };\n\n/**\n * Create a blob api even for blob builder when vendor prefixes exist\n */\n\nvar Blob = _dereq_('blob');\n\n/**\n * Encodes a packet.\n *\n *     <packet type id> [ <data> ]\n *\n * Example:\n *\n *     5hello world\n *     3\n *     4\n *\n * Binary is encoded in an identical principle\n *\n * @api private\n */\n\nexports.encodePacket = function (packet, supportsBinary, utf8encode, callback) {\n  if ('function' == typeof supportsBinary) {\n    callback = supportsBinary;\n    supportsBinary = false;\n  }\n\n  if ('function' == typeof utf8encode) {\n    callback = utf8encode;\n    utf8encode = null;\n  }\n\n  var data = (packet.data === undefined)\n    ? undefined\n    : packet.data.buffer || packet.data;\n\n  if (global.ArrayBuffer && data instanceof ArrayBuffer) {\n    return encodeArrayBuffer(packet, supportsBinary, callback);\n  } else if (Blob && data instanceof global.Blob) {\n    return encodeBlob(packet, supportsBinary, callback);\n  }\n\n  // might be an object with { base64: true, data: dataAsBase64String }\n  if (data && data.base64) {\n    return encodeBase64Object(packet, callback);\n  }\n\n  // Sending data as a utf-8 string\n  var encoded = packets[packet.type];\n\n  // data fragment is optional\n  if (undefined !== packet.data) {\n    encoded += utf8encode ? utf8.encode(String(packet.data)) : String(packet.data);\n  }\n\n  return callback('' + encoded);\n\n};\n\nfunction encodeBase64Object(packet, callback) {\n  // packet data is an object { base64: true, data: dataAsBase64String }\n  var message = 'b' + exports.packets[packet.type] + packet.data.data;\n  return callback(message);\n}\n\n/**\n * Encode packet helpers for binary types\n */\n\nfunction encodeArrayBuffer(packet, supportsBinary, callback) {\n  if (!supportsBinary) {\n    return exports.encodeBase64Packet(packet, callback);\n  }\n\n  var data = packet.data;\n  var contentArray = new Uint8Array(data);\n  var resultBuffer = new Uint8Array(1 + data.byteLength);\n\n  resultBuffer[0] = packets[packet.type];\n  for (var i = 0; i < contentArray.length; i++) {\n    resultBuffer[i+1] = contentArray[i];\n  }\n\n  return callback(resultBuffer.buffer);\n}\n\nfunction encodeBlobAsArrayBuffer(packet, supportsBinary, callback) {\n  if (!supportsBinary) {\n    return exports.encodeBase64Packet(packet, callback);\n  }\n\n  var fr = new FileReader();\n  fr.onload = function() {\n    packet.data = fr.result;\n    exports.encodePacket(packet, supportsBinary, true, callback);\n  };\n  return fr.readAsArrayBuffer(packet.data);\n}\n\nfunction encodeBlob(packet, supportsBinary, callback) {\n  if (!supportsBinary) {\n    return exports.encodeBase64Packet(packet, callback);\n  }\n\n  if (dontSendBlobs) {\n    return encodeBlobAsArrayBuffer(packet, supportsBinary, callback);\n  }\n\n  var length = new Uint8Array(1);\n  length[0] = packets[packet.type];\n  var blob = new Blob([length.buffer, packet.data]);\n\n  return callback(blob);\n}\n\n/**\n * Encodes a packet with binary data in a base64 string\n *\n * @param {Object} packet, has `type` and `data`\n * @return {String} base64 encoded message\n */\n\nexports.encodeBase64Packet = function(packet, callback) {\n  var message = 'b' + exports.packets[packet.type];\n  if (Blob && packet.data instanceof global.Blob) {\n    var fr = new FileReader();\n    fr.onload = function() {\n      var b64 = fr.result.split(',')[1];\n      callback(message + b64);\n    };\n    return fr.readAsDataURL(packet.data);\n  }\n\n  var b64data;\n  try {\n    b64data = String.fromCharCode.apply(null, new Uint8Array(packet.data));\n  } catch (e) {\n    // iPhone Safari doesn't let you apply with typed arrays\n    var typed = new Uint8Array(packet.data);\n    var basic = new Array(typed.length);\n    for (var i = 0; i < typed.length; i++) {\n      basic[i] = typed[i];\n    }\n    b64data = String.fromCharCode.apply(null, basic);\n  }\n  message += global.btoa(b64data);\n  return callback(message);\n};\n\n/**\n * Decodes a packet. Changes format to Blob if requested.\n *\n * @return {Object} with `type` and `data` (if any)\n * @api private\n */\n\nexports.decodePacket = function (data, binaryType, utf8decode) {\n  // String data\n  if (typeof data == 'string' || data === undefined) {\n    if (data.charAt(0) == 'b') {\n      return exports.decodeBase64Packet(data.substr(1), binaryType);\n    }\n\n    if (utf8decode) {\n      try {\n        data = utf8.decode(data);\n      } catch (e) {\n        return err;\n      }\n    }\n    var type = data.charAt(0);\n\n    if (Number(type) != type || !packetslist[type]) {\n      return err;\n    }\n\n    if (data.length > 1) {\n      return { type: packetslist[type], data: data.substring(1) };\n    } else {\n      return { type: packetslist[type] };\n    }\n  }\n\n  var asArray = new Uint8Array(data);\n  var type = asArray[0];\n  var rest = sliceBuffer(data, 1);\n  if (Blob && binaryType === 'blob') {\n    rest = new Blob([rest]);\n  }\n  return { type: packetslist[type], data: rest };\n};\n\n/**\n * Decodes a packet encoded in a base64 string\n *\n * @param {String} base64 encoded message\n * @return {Object} with `type` and `data` (if any)\n */\n\nexports.decodeBase64Packet = function(msg, binaryType) {\n  var type = packetslist[msg.charAt(0)];\n  if (!global.ArrayBuffer) {\n    return { type: type, data: { base64: true, data: msg.substr(1) } };\n  }\n\n  var data = base64encoder.decode(msg.substr(1));\n\n  if (binaryType === 'blob' && Blob) {\n    data = new Blob([data]);\n  }\n\n  return { type: type, data: data };\n};\n\n/**\n * Encodes multiple messages (payload).\n *\n *     <length>:data\n *\n * Example:\n *\n *     11:hello world2:hi\n *\n * If any contents are binary, they will be encoded as base64 strings. Base64\n * encoded strings are marked with a b before the length specifier\n *\n * @param {Array} packets\n * @api private\n */\n\nexports.encodePayload = function (packets, supportsBinary, callback) {\n  if (typeof supportsBinary == 'function') {\n    callback = supportsBinary;\n    supportsBinary = null;\n  }\n\n  var isBinary = hasBinary(packets);\n\n  if (supportsBinary && isBinary) {\n    if (Blob && !dontSendBlobs) {\n      return exports.encodePayloadAsBlob(packets, callback);\n    }\n\n    return exports.encodePayloadAsArrayBuffer(packets, callback);\n  }\n\n  if (!packets.length) {\n    return callback('0:');\n  }\n\n  function setLengthHeader(message) {\n    return message.length + ':' + message;\n  }\n\n  function encodeOne(packet, doneCallback) {\n    exports.encodePacket(packet, !isBinary ? false : supportsBinary, true, function(message) {\n      doneCallback(null, setLengthHeader(message));\n    });\n  }\n\n  map(packets, encodeOne, function(err, results) {\n    return callback(results.join(''));\n  });\n};\n\n/**\n * Async array map using after\n */\n\nfunction map(ary, each, done) {\n  var result = new Array(ary.length);\n  var next = after(ary.length, done);\n\n  var eachWithIndex = function(i, el, cb) {\n    each(el, function(error, msg) {\n      result[i] = msg;\n      cb(error, result);\n    });\n  };\n\n  for (var i = 0; i < ary.length; i++) {\n    eachWithIndex(i, ary[i], next);\n  }\n}\n\n/*\n * Decodes data when a payload is maybe expected. Possible binary contents are\n * decoded from their base64 representation\n *\n * @param {String} data, callback method\n * @api public\n */\n\nexports.decodePayload = function (data, binaryType, callback) {\n  if (typeof data != 'string') {\n    return exports.decodePayloadAsBinary(data, binaryType, callback);\n  }\n\n  if (typeof binaryType === 'function') {\n    callback = binaryType;\n    binaryType = null;\n  }\n\n  var packet;\n  if (data == '') {\n    // parser error - ignoring payload\n    return callback(err, 0, 1);\n  }\n\n  var length = ''\n    , n, msg;\n\n  for (var i = 0, l = data.length; i < l; i++) {\n    var chr = data.charAt(i);\n\n    if (':' != chr) {\n      length += chr;\n    } else {\n      if ('' == length || (length != (n = Number(length)))) {\n        // parser error - ignoring payload\n        return callback(err, 0, 1);\n      }\n\n      msg = data.substr(i + 1, n);\n\n      if (length != msg.length) {\n        // parser error - ignoring payload\n        return callback(err, 0, 1);\n      }\n\n      if (msg.length) {\n        packet = exports.decodePacket(msg, binaryType, true);\n\n        if (err.type == packet.type && err.data == packet.data) {\n          // parser error in individual packet - ignoring payload\n          return callback(err, 0, 1);\n        }\n\n        var ret = callback(packet, i + n, l);\n        if (false === ret) return;\n      }\n\n      // advance cursor\n      i += n;\n      length = '';\n    }\n  }\n\n  if (length != '') {\n    // parser error - ignoring payload\n    return callback(err, 0, 1);\n  }\n\n};\n\n/**\n * Encodes multiple messages (payload) as binary.\n *\n * <1 = binary, 0 = string><number from 0-9><number from 0-9>[...]<number\n * 255><data>\n *\n * Example:\n * 1 3 255 1 2 3, if the binary contents are interpreted as 8 bit integers\n *\n * @param {Array} packets\n * @return {ArrayBuffer} encoded payload\n * @api private\n */\n\nexports.encodePayloadAsArrayBuffer = function(packets, callback) {\n  if (!packets.length) {\n    return callback(new ArrayBuffer(0));\n  }\n\n  function encodeOne(packet, doneCallback) {\n    exports.encodePacket(packet, true, true, function(data) {\n      return doneCallback(null, data);\n    });\n  }\n\n  map(packets, encodeOne, function(err, encodedPackets) {\n    var totalLength = encodedPackets.reduce(function(acc, p) {\n      var len;\n      if (typeof p === 'string'){\n        len = p.length;\n      } else {\n        len = p.byteLength;\n      }\n      return acc + len.toString().length + len + 2; // string/binary identifier + separator = 2\n    }, 0);\n\n    var resultArray = new Uint8Array(totalLength);\n\n    var bufferIndex = 0;\n    encodedPackets.forEach(function(p) {\n      var isString = typeof p === 'string';\n      var ab = p;\n      if (isString) {\n        var view = new Uint8Array(p.length);\n        for (var i = 0; i < p.length; i++) {\n          view[i] = p.charCodeAt(i);\n        }\n        ab = view.buffer;\n      }\n\n      if (isString) { // not true binary\n        resultArray[bufferIndex++] = 0;\n      } else { // true binary\n        resultArray[bufferIndex++] = 1;\n      }\n\n      var lenStr = ab.byteLength.toString();\n      for (var i = 0; i < lenStr.length; i++) {\n        resultArray[bufferIndex++] = parseInt(lenStr[i]);\n      }\n      resultArray[bufferIndex++] = 255;\n\n      var view = new Uint8Array(ab);\n      for (var i = 0; i < view.length; i++) {\n        resultArray[bufferIndex++] = view[i];\n      }\n    });\n\n    return callback(resultArray.buffer);\n  });\n};\n\n/**\n * Encode as Blob\n */\n\nexports.encodePayloadAsBlob = function(packets, callback) {\n  function encodeOne(packet, doneCallback) {\n    exports.encodePacket(packet, true, true, function(encoded) {\n      var binaryIdentifier = new Uint8Array(1);\n      binaryIdentifier[0] = 1;\n      if (typeof encoded === 'string') {\n        var view = new Uint8Array(encoded.length);\n        for (var i = 0; i < encoded.length; i++) {\n          view[i] = encoded.charCodeAt(i);\n        }\n        encoded = view.buffer;\n        binaryIdentifier[0] = 0;\n      }\n\n      var len = (encoded instanceof ArrayBuffer)\n        ? encoded.byteLength\n        : encoded.size;\n\n      var lenStr = len.toString();\n      var lengthAry = new Uint8Array(lenStr.length + 1);\n      for (var i = 0; i < lenStr.length; i++) {\n        lengthAry[i] = parseInt(lenStr[i]);\n      }\n      lengthAry[lenStr.length] = 255;\n\n      if (Blob) {\n        var blob = new Blob([binaryIdentifier.buffer, lengthAry.buffer, encoded]);\n        doneCallback(null, blob);\n      }\n    });\n  }\n\n  map(packets, encodeOne, function(err, results) {\n    return callback(new Blob(results));\n  });\n};\n\n/*\n * Decodes data when a payload is maybe expected. Strings are decoded by\n * interpreting each byte as a key code for entries marked to start with 0. See\n * description of encodePayloadAsBinary\n *\n * @param {ArrayBuffer} data, callback method\n * @api public\n */\n\nexports.decodePayloadAsBinary = function (data, binaryType, callback) {\n  if (typeof binaryType === 'function') {\n    callback = binaryType;\n    binaryType = null;\n  }\n\n  var bufferTail = data;\n  var buffers = [];\n\n  var numberTooLong = false;\n  while (bufferTail.byteLength > 0) {\n    var tailArray = new Uint8Array(bufferTail);\n    var isString = tailArray[0] === 0;\n    var msgLength = '';\n\n    for (var i = 1; ; i++) {\n      if (tailArray[i] == 255) break;\n\n      if (msgLength.length > 310) {\n        numberTooLong = true;\n        break;\n      }\n\n      msgLength += tailArray[i];\n    }\n\n    if(numberTooLong) return callback(err, 0, 1);\n\n    bufferTail = sliceBuffer(bufferTail, 2 + msgLength.length);\n    msgLength = parseInt(msgLength);\n\n    var msg = sliceBuffer(bufferTail, 0, msgLength);\n    if (isString) {\n      try {\n        msg = String.fromCharCode.apply(null, new Uint8Array(msg));\n      } catch (e) {\n        // iPhone Safari doesn't let you apply to typed arrays\n        var typed = new Uint8Array(msg);\n        msg = '';\n        for (var i = 0; i < typed.length; i++) {\n          msg += String.fromCharCode(typed[i]);\n        }\n      }\n    }\n\n    buffers.push(msg);\n    bufferTail = sliceBuffer(bufferTail, msgLength);\n  }\n\n  var total = buffers.length;\n  buffers.forEach(function(buffer, i) {\n    callback(exports.decodePacket(buffer, binaryType, true), i, total);\n  });\n};\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n},{\"./keys\":20,\"after\":11,\"arraybuffer.slice\":12,\"base64-arraybuffer\":13,\"blob\":14,\"has-binary\":21,\"utf8\":29}],20:[function(_dereq_,module,exports){\n\n/**\n * Gets the keys for an object.\n *\n * @return {Array} keys\n * @api private\n */\n\nmodule.exports = Object.keys || function keys (obj){\n  var arr = [];\n  var has = Object.prototype.hasOwnProperty;\n\n  for (var i in obj) {\n    if (has.call(obj, i)) {\n      arr.push(i);\n    }\n  }\n  return arr;\n};\n\n},{}],21:[function(_dereq_,module,exports){\n(function (global){\n\n/*\n * Module requirements.\n */\n\nvar isArray = _dereq_('isarray');\n\n/**\n * Module exports.\n */\n\nmodule.exports = hasBinary;\n\n/**\n * Checks for binary data.\n *\n * Right now only Buffer and ArrayBuffer are supported..\n *\n * @param {Object} anything\n * @api public\n */\n\nfunction hasBinary(data) {\n\n  function _hasBinary(obj) {\n    if (!obj) return false;\n\n    if ( (global.Buffer && global.Buffer.isBuffer(obj)) ||\n         (global.ArrayBuffer && obj instanceof ArrayBuffer) ||\n         (global.Blob && obj instanceof Blob) ||\n         (global.File && obj instanceof File)\n        ) {\n      return true;\n    }\n\n    if (isArray(obj)) {\n      for (var i = 0; i < obj.length; i++) {\n          if (_hasBinary(obj[i])) {\n              return true;\n          }\n      }\n    } else if (obj && 'object' == typeof obj) {\n      if (obj.toJSON) {\n        obj = obj.toJSON();\n      }\n\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key) && _hasBinary(obj[key])) {\n          return true;\n        }\n      }\n    }\n\n    return false;\n  }\n\n  return _hasBinary(data);\n}\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n},{\"isarray\":24}],22:[function(_dereq_,module,exports){\n\n/**\n * Module exports.\n *\n * Logic borrowed from Modernizr:\n *\n *   - https://github.com/Modernizr/Modernizr/blob/master/feature-detects/cors.js\n */\n\ntry {\n  module.exports = typeof XMLHttpRequest !== 'undefined' &&\n    'withCredentials' in new XMLHttpRequest();\n} catch (err) {\n  // if XMLHttp support is disabled in IE then it will throw\n  // when trying to create\n  module.exports = false;\n}\n\n},{}],23:[function(_dereq_,module,exports){\n\nvar indexOf = [].indexOf;\n\nmodule.exports = function(arr, obj){\n  if (indexOf) return arr.indexOf(obj);\n  for (var i = 0; i < arr.length; ++i) {\n    if (arr[i] === obj) return i;\n  }\n  return -1;\n};\n},{}],24:[function(_dereq_,module,exports){\nmodule.exports = Array.isArray || function (arr) {\n  return Object.prototype.toString.call(arr) == '[object Array]';\n};\n\n},{}],25:[function(_dereq_,module,exports){\n/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} options\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options){\n  options = options || {};\n  if ('string' == typeof val) return parse(val);\n  return options.long\n    ? long(val)\n    : short(val);\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = '' + str;\n  if (str.length > 10000) return;\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(str);\n  if (!match) return;\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction short(ms) {\n  if (ms >= d) return Math.round(ms / d) + 'd';\n  if (ms >= h) return Math.round(ms / h) + 'h';\n  if (ms >= m) return Math.round(ms / m) + 'm';\n  if (ms >= s) return Math.round(ms / s) + 's';\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction long(ms) {\n  return plural(ms, d, 'day')\n    || plural(ms, h, 'hour')\n    || plural(ms, m, 'minute')\n    || plural(ms, s, 'second')\n    || ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) return;\n  if (ms < n * 1.5) return Math.floor(ms / n) + ' ' + name;\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n\n},{}],26:[function(_dereq_,module,exports){\n(function (global){\n/**\n * JSON parse.\n *\n * @see Based on jQuery#parseJSON (MIT) and JSON2\n * @api private\n */\n\nvar rvalidchars = /^[\\],:{}\\s]*$/;\nvar rvalidescape = /\\\\(?:[\"\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g;\nvar rvalidtokens = /\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g;\nvar rvalidbraces = /(?:^|:|,)(?:\\s*\\[)+/g;\nvar rtrimLeft = /^\\s+/;\nvar rtrimRight = /\\s+$/;\n\nmodule.exports = function parsejson(data) {\n  if ('string' != typeof data || !data) {\n    return null;\n  }\n\n  data = data.replace(rtrimLeft, '').replace(rtrimRight, '');\n\n  // Attempt to parse using the native JSON parser first\n  if (global.JSON && JSON.parse) {\n    return JSON.parse(data);\n  }\n\n  if (rvalidchars.test(data.replace(rvalidescape, '@')\n      .replace(rvalidtokens, ']')\n      .replace(rvalidbraces, ''))) {\n    return (new Function('return ' + data))();\n  }\n};\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n},{}],27:[function(_dereq_,module,exports){\n/**\n * Compiles a querystring\n * Returns string representation of the object\n *\n * @param {Object}\n * @api private\n */\n\nexports.encode = function (obj) {\n  var str = '';\n\n  for (var i in obj) {\n    if (obj.hasOwnProperty(i)) {\n      if (str.length) str += '&';\n      str += encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]);\n    }\n  }\n\n  return str;\n};\n\n/**\n * Parses a simple querystring into an object\n *\n * @param {String} qs\n * @api private\n */\n\nexports.decode = function(qs){\n  var qry = {};\n  var pairs = qs.split('&');\n  for (var i = 0, l = pairs.length; i < l; i++) {\n    var pair = pairs[i].split('=');\n    qry[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\n  }\n  return qry;\n};\n\n},{}],28:[function(_dereq_,module,exports){\n/**\n * Parses an URI\n *\n * @author Steven Levithan <stevenlevithan.com> (MIT license)\n * @api private\n */\n\nvar re = /^(?:(?![^:@]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\n\nvar parts = [\n    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'\n];\n\nmodule.exports = function parseuri(str) {\n    var src = str,\n        b = str.indexOf('['),\n        e = str.indexOf(']');\n\n    if (b != -1 && e != -1) {\n        str = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);\n    }\n\n    var m = re.exec(str || ''),\n        uri = {},\n        i = 14;\n\n    while (i--) {\n        uri[parts[i]] = m[i] || '';\n    }\n\n    if (b != -1 && e != -1) {\n        uri.source = src;\n        uri.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');\n        uri.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');\n        uri.ipv6uri = true;\n    }\n\n    return uri;\n};\n\n},{}],29:[function(_dereq_,module,exports){\n(function (global){\n/*! https://mths.be/utf8js v2.0.0 by @mathias */\n;(function(root) {\n\n\t// Detect free variables `exports`\n\tvar freeExports = typeof exports == 'object' && exports;\n\n\t// Detect free variable `module`\n\tvar freeModule = typeof module == 'object' && module &&\n\t\tmodule.exports == freeExports && module;\n\n\t// Detect free variable `global`, from Node.js or Browserified code,\n\t// and use it as `root`\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal) {\n\t\troot = freeGlobal;\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tvar stringFromCharCode = String.fromCharCode;\n\n\t// Taken from https://mths.be/punycode\n\tfunction ucs2decode(string) {\n\t\tvar output = [];\n\t\tvar counter = 0;\n\t\tvar length = string.length;\n\t\tvar value;\n\t\tvar extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t// Taken from https://mths.be/punycode\n\tfunction ucs2encode(array) {\n\t\tvar length = array.length;\n\t\tvar index = -1;\n\t\tvar value;\n\t\tvar output = '';\n\t\twhile (++index < length) {\n\t\t\tvalue = array[index];\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t}\n\t\treturn output;\n\t}\n\n\tfunction checkScalarValue(codePoint) {\n\t\tif (codePoint >= 0xD800 && codePoint <= 0xDFFF) {\n\t\t\tthrow Error(\n\t\t\t\t'Lone surrogate U+' + codePoint.toString(16).toUpperCase() +\n\t\t\t\t' is not a scalar value'\n\t\t\t);\n\t\t}\n\t}\n\t/*--------------------------------------------------------------------------*/\n\n\tfunction createByte(codePoint, shift) {\n\t\treturn stringFromCharCode(((codePoint >> shift) & 0x3F) | 0x80);\n\t}\n\n\tfunction encodeCodePoint(codePoint) {\n\t\tif ((codePoint & 0xFFFFFF80) == 0) { // 1-byte sequence\n\t\t\treturn stringFromCharCode(codePoint);\n\t\t}\n\t\tvar symbol = '';\n\t\tif ((codePoint & 0xFFFFF800) == 0) { // 2-byte sequence\n\t\t\tsymbol = stringFromCharCode(((codePoint >> 6) & 0x1F) | 0xC0);\n\t\t}\n\t\telse if ((codePoint & 0xFFFF0000) == 0) { // 3-byte sequence\n\t\t\tcheckScalarValue(codePoint);\n\t\t\tsymbol = stringFromCharCode(((codePoint >> 12) & 0x0F) | 0xE0);\n\t\t\tsymbol += createByte(codePoint, 6);\n\t\t}\n\t\telse if ((codePoint & 0xFFE00000) == 0) { // 4-byte sequence\n\t\t\tsymbol = stringFromCharCode(((codePoint >> 18) & 0x07) | 0xF0);\n\t\t\tsymbol += createByte(codePoint, 12);\n\t\t\tsymbol += createByte(codePoint, 6);\n\t\t}\n\t\tsymbol += stringFromCharCode((codePoint & 0x3F) | 0x80);\n\t\treturn symbol;\n\t}\n\n\tfunction utf8encode(string) {\n\t\tvar codePoints = ucs2decode(string);\n\t\tvar length = codePoints.length;\n\t\tvar index = -1;\n\t\tvar codePoint;\n\t\tvar byteString = '';\n\t\twhile (++index < length) {\n\t\t\tcodePoint = codePoints[index];\n\t\t\tbyteString += encodeCodePoint(codePoint);\n\t\t}\n\t\treturn byteString;\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tfunction readContinuationByte() {\n\t\tif (byteIndex >= byteCount) {\n\t\t\tthrow Error('Invalid byte index');\n\t\t}\n\n\t\tvar continuationByte = byteArray[byteIndex] & 0xFF;\n\t\tbyteIndex++;\n\n\t\tif ((continuationByte & 0xC0) == 0x80) {\n\t\t\treturn continuationByte & 0x3F;\n\t\t}\n\n\t\t// If we end up here, its not a continuation byte\n\t\tthrow Error('Invalid continuation byte');\n\t}\n\n\tfunction decodeSymbol() {\n\t\tvar byte1;\n\t\tvar byte2;\n\t\tvar byte3;\n\t\tvar byte4;\n\t\tvar codePoint;\n\n\t\tif (byteIndex > byteCount) {\n\t\t\tthrow Error('Invalid byte index');\n\t\t}\n\n\t\tif (byteIndex == byteCount) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Read first byte\n\t\tbyte1 = byteArray[byteIndex] & 0xFF;\n\t\tbyteIndex++;\n\n\t\t// 1-byte sequence (no continuation bytes)\n\t\tif ((byte1 & 0x80) == 0) {\n\t\t\treturn byte1;\n\t\t}\n\n\t\t// 2-byte sequence\n\t\tif ((byte1 & 0xE0) == 0xC0) {\n\t\t\tvar byte2 = readContinuationByte();\n\t\t\tcodePoint = ((byte1 & 0x1F) << 6) | byte2;\n\t\t\tif (codePoint >= 0x80) {\n\t\t\t\treturn codePoint;\n\t\t\t} else {\n\t\t\t\tthrow Error('Invalid continuation byte');\n\t\t\t}\n\t\t}\n\n\t\t// 3-byte sequence (may include unpaired surrogates)\n\t\tif ((byte1 & 0xF0) == 0xE0) {\n\t\t\tbyte2 = readContinuationByte();\n\t\t\tbyte3 = readContinuationByte();\n\t\t\tcodePoint = ((byte1 & 0x0F) << 12) | (byte2 << 6) | byte3;\n\t\t\tif (codePoint >= 0x0800) {\n\t\t\t\tcheckScalarValue(codePoint);\n\t\t\t\treturn codePoint;\n\t\t\t} else {\n\t\t\t\tthrow Error('Invalid continuation byte');\n\t\t\t}\n\t\t}\n\n\t\t// 4-byte sequence\n\t\tif ((byte1 & 0xF8) == 0xF0) {\n\t\t\tbyte2 = readContinuationByte();\n\t\t\tbyte3 = readContinuationByte();\n\t\t\tbyte4 = readContinuationByte();\n\t\t\tcodePoint = ((byte1 & 0x0F) << 0x12) | (byte2 << 0x0C) |\n\t\t\t\t(byte3 << 0x06) | byte4;\n\t\t\tif (codePoint >= 0x010000 && codePoint <= 0x10FFFF) {\n\t\t\t\treturn codePoint;\n\t\t\t}\n\t\t}\n\n\t\tthrow Error('Invalid UTF-8 detected');\n\t}\n\n\tvar byteArray;\n\tvar byteCount;\n\tvar byteIndex;\n\tfunction utf8decode(byteString) {\n\t\tbyteArray = ucs2decode(byteString);\n\t\tbyteCount = byteArray.length;\n\t\tbyteIndex = 0;\n\t\tvar codePoints = [];\n\t\tvar tmp;\n\t\twhile ((tmp = decodeSymbol()) !== false) {\n\t\t\tcodePoints.push(tmp);\n\t\t}\n\t\treturn ucs2encode(codePoints);\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tvar utf8 = {\n\t\t'version': '2.0.0',\n\t\t'encode': utf8encode,\n\t\t'decode': utf8decode\n\t};\n\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine(function() {\n\t\t\treturn utf8;\n\t\t});\n\t}\telse if (freeExports && !freeExports.nodeType) {\n\t\tif (freeModule) { // in Node.js or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = utf8;\n\t\t} else { // in Narwhal or RingoJS v0.7.0-\n\t\t\tvar object = {};\n\t\t\tvar hasOwnProperty = object.hasOwnProperty;\n\t\t\tfor (var key in utf8) {\n\t\t\t\thasOwnProperty.call(utf8, key) && (freeExports[key] = utf8[key]);\n\t\t\t}\n\t\t}\n\t} else { // in Rhino or a web browser\n\t\troot.utf8 = utf8;\n\t}\n\n}(this));\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n},{}],30:[function(_dereq_,module,exports){\n'use strict';\n\nvar alphabet = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_'.split('')\n  , length = 64\n  , map = {}\n  , seed = 0\n  , i = 0\n  , prev;\n\n/**\n * Return a string representing the specified number.\n *\n * @param {Number} num The number to convert.\n * @returns {String} The string representation of the number.\n * @api public\n */\nfunction encode(num) {\n  var encoded = '';\n\n  do {\n    encoded = alphabet[num % length] + encoded;\n    num = Math.floor(num / length);\n  } while (num > 0);\n\n  return encoded;\n}\n\n/**\n * Return the integer value specified by the given string.\n *\n * @param {String} str The string to convert.\n * @returns {Number} The integer value represented by the string.\n * @api public\n */\nfunction decode(str) {\n  var decoded = 0;\n\n  for (i = 0; i < str.length; i++) {\n    decoded = decoded * length + map[str.charAt(i)];\n  }\n\n  return decoded;\n}\n\n/**\n * Yeast: A tiny growing id generator.\n *\n * @returns {String} A unique id.\n * @api public\n */\nfunction yeast() {\n  var now = encode(+new Date());\n\n  if (now !== prev) return seed = 0, prev = now;\n  return now +'.'+ encode(seed++);\n}\n\n//\n// Map each character to its index.\n//\nfor (; i < length; i++) map[alphabet[i]] = i;\n\n//\n// Expose the `yeast`, `encode` and `decode` functions.\n//\nyeast.encode = encode;\nyeast.decode = decode;\nmodule.exports = yeast;\n\n},{}],31:[function(_dereq_,module,exports){\n\n/**\n * Module dependencies.\n */\n\nvar url = _dereq_('./url');\nvar parser = _dereq_('socket.io-parser');\nvar Manager = _dereq_('./manager');\nvar debug = _dereq_('debug')('socket.io-client');\n\n/**\n * Module exports.\n */\n\nmodule.exports = exports = lookup;\n\n/**\n * Managers cache.\n */\n\nvar cache = exports.managers = {};\n\n/**\n * Looks up an existing `Manager` for multiplexing.\n * If the user summons:\n *\n *   `io('http://localhost/a');`\n *   `io('http://localhost/b');`\n *\n * We reuse the existing instance based on same scheme/port/host,\n * and we initialize sockets for each namespace.\n *\n * @api public\n */\n\nfunction lookup(uri, opts) {\n  if (typeof uri == 'object') {\n    opts = uri;\n    uri = undefined;\n  }\n\n  opts = opts || {};\n\n  var parsed = url(uri);\n  var source = parsed.source;\n  var id = parsed.id;\n  var path = parsed.path;\n  var sameNamespace = cache[id] && path in cache[id].nsps;\n  var newConnection = opts.forceNew || opts['force new connection'] ||\n                      false === opts.multiplex || sameNamespace;\n\n  var io;\n\n  if (newConnection) {\n    debug('ignoring socket cache for %s', source);\n    io = Manager(source, opts);\n  } else {\n    if (!cache[id]) {\n      debug('new io instance for %s', source);\n      cache[id] = Manager(source, opts);\n    }\n    io = cache[id];\n  }\n\n  return io.socket(parsed.path);\n}\n\n/**\n * Protocol version.\n *\n * @api public\n */\n\nexports.protocol = parser.protocol;\n\n/**\n * `connect`.\n *\n * @param {String} uri\n * @api public\n */\n\nexports.connect = lookup;\n\n/**\n * Expose constructors for standalone build.\n *\n * @api public\n */\n\nexports.Manager = _dereq_('./manager');\nexports.Socket = _dereq_('./socket');\n\n},{\"./manager\":32,\"./socket\":34,\"./url\":35,\"debug\":39,\"socket.io-parser\":47}],32:[function(_dereq_,module,exports){\n\n/**\n * Module dependencies.\n */\n\nvar eio = _dereq_('engine.io-client');\nvar Socket = _dereq_('./socket');\nvar Emitter = _dereq_('component-emitter');\nvar parser = _dereq_('socket.io-parser');\nvar on = _dereq_('./on');\nvar bind = _dereq_('component-bind');\nvar debug = _dereq_('debug')('socket.io-client:manager');\nvar indexOf = _dereq_('indexof');\nvar Backoff = _dereq_('backo2');\n\n/**\n * IE6+ hasOwnProperty\n */\n\nvar has = Object.prototype.hasOwnProperty;\n\n/**\n * Module exports\n */\n\nmodule.exports = Manager;\n\n/**\n * `Manager` constructor.\n *\n * @param {String} engine instance or engine uri/opts\n * @param {Object} options\n * @api public\n */\n\nfunction Manager(uri, opts){\n  if (!(this instanceof Manager)) return new Manager(uri, opts);\n  if (uri && ('object' == typeof uri)) {\n    opts = uri;\n    uri = undefined;\n  }\n  opts = opts || {};\n\n  opts.path = opts.path || '/socket.io';\n  this.nsps = {};\n  this.subs = [];\n  this.opts = opts;\n  this.reconnection(opts.reconnection !== false);\n  this.reconnectionAttempts(opts.reconnectionAttempts || Infinity);\n  this.reconnectionDelay(opts.reconnectionDelay || 1000);\n  this.reconnectionDelayMax(opts.reconnectionDelayMax || 5000);\n  this.randomizationFactor(opts.randomizationFactor || 0.5);\n  this.backoff = new Backoff({\n    min: this.reconnectionDelay(),\n    max: this.reconnectionDelayMax(),\n    jitter: this.randomizationFactor()\n  });\n  this.timeout(null == opts.timeout ? 20000 : opts.timeout);\n  this.readyState = 'closed';\n  this.uri = uri;\n  this.connecting = [];\n  this.lastPing = null;\n  this.encoding = false;\n  this.packetBuffer = [];\n  this.encoder = new parser.Encoder();\n  this.decoder = new parser.Decoder();\n  this.autoConnect = opts.autoConnect !== false;\n  if (this.autoConnect) this.open();\n}\n\n/**\n * Propagate given event to sockets and emit on `this`\n *\n * @api private\n */\n\nManager.prototype.emitAll = function() {\n  this.emit.apply(this, arguments);\n  for (var nsp in this.nsps) {\n    if (has.call(this.nsps, nsp)) {\n      this.nsps[nsp].emit.apply(this.nsps[nsp], arguments);\n    }\n  }\n};\n\n/**\n * Update `socket.id` of all sockets\n *\n * @api private\n */\n\nManager.prototype.updateSocketIds = function(){\n  for (var nsp in this.nsps) {\n    if (has.call(this.nsps, nsp)) {\n      this.nsps[nsp].id = this.engine.id;\n    }\n  }\n};\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Manager.prototype);\n\n/**\n * Sets the `reconnection` config.\n *\n * @param {Boolean} true/false if it should automatically reconnect\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnection = function(v){\n  if (!arguments.length) return this._reconnection;\n  this._reconnection = !!v;\n  return this;\n};\n\n/**\n * Sets the reconnection attempts config.\n *\n * @param {Number} max reconnection attempts before giving up\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnectionAttempts = function(v){\n  if (!arguments.length) return this._reconnectionAttempts;\n  this._reconnectionAttempts = v;\n  return this;\n};\n\n/**\n * Sets the delay between reconnections.\n *\n * @param {Number} delay\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnectionDelay = function(v){\n  if (!arguments.length) return this._reconnectionDelay;\n  this._reconnectionDelay = v;\n  this.backoff && this.backoff.setMin(v);\n  return this;\n};\n\nManager.prototype.randomizationFactor = function(v){\n  if (!arguments.length) return this._randomizationFactor;\n  this._randomizationFactor = v;\n  this.backoff && this.backoff.setJitter(v);\n  return this;\n};\n\n/**\n * Sets the maximum delay between reconnections.\n *\n * @param {Number} delay\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnectionDelayMax = function(v){\n  if (!arguments.length) return this._reconnectionDelayMax;\n  this._reconnectionDelayMax = v;\n  this.backoff && this.backoff.setMax(v);\n  return this;\n};\n\n/**\n * Sets the connection timeout. `false` to disable\n *\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.timeout = function(v){\n  if (!arguments.length) return this._timeout;\n  this._timeout = v;\n  return this;\n};\n\n/**\n * Starts trying to reconnect if reconnection is enabled and we have not\n * started reconnecting yet\n *\n * @api private\n */\n\nManager.prototype.maybeReconnectOnOpen = function() {\n  // Only try to reconnect if it's the first time we're connecting\n  if (!this.reconnecting && this._reconnection && this.backoff.attempts === 0) {\n    // keeps reconnection from firing twice for the same reconnection loop\n    this.reconnect();\n  }\n};\n\n\n/**\n * Sets the current transport `socket`.\n *\n * @param {Function} optional, callback\n * @return {Manager} self\n * @api public\n */\n\nManager.prototype.open =\nManager.prototype.connect = function(fn){\n  debug('readyState %s', this.readyState);\n  if (~this.readyState.indexOf('open')) return this;\n\n  debug('opening %s', this.uri);\n  this.engine = eio(this.uri, this.opts);\n  var socket = this.engine;\n  var self = this;\n  this.readyState = 'opening';\n  this.skipReconnect = false;\n\n  // emit `open`\n  var openSub = on(socket, 'open', function() {\n    self.onopen();\n    fn && fn();\n  });\n\n  // emit `connect_error`\n  var errorSub = on(socket, 'error', function(data){\n    debug('connect_error');\n    self.cleanup();\n    self.readyState = 'closed';\n    self.emitAll('connect_error', data);\n    if (fn) {\n      var err = new Error('Connection error');\n      err.data = data;\n      fn(err);\n    } else {\n      // Only do this if there is no fn to handle the error\n      self.maybeReconnectOnOpen();\n    }\n  });\n\n  // emit `connect_timeout`\n  if (false !== this._timeout) {\n    var timeout = this._timeout;\n    debug('connect attempt will timeout after %d', timeout);\n\n    // set timer\n    var timer = setTimeout(function(){\n      debug('connect attempt timed out after %d', timeout);\n      openSub.destroy();\n      socket.close();\n      socket.emit('error', 'timeout');\n      self.emitAll('connect_timeout', timeout);\n    }, timeout);\n\n    this.subs.push({\n      destroy: function(){\n        clearTimeout(timer);\n      }\n    });\n  }\n\n  this.subs.push(openSub);\n  this.subs.push(errorSub);\n\n  return this;\n};\n\n/**\n * Called upon transport open.\n *\n * @api private\n */\n\nManager.prototype.onopen = function(){\n  debug('open');\n\n  // clear old subs\n  this.cleanup();\n\n  // mark as open\n  this.readyState = 'open';\n  this.emit('open');\n\n  // add new subs\n  var socket = this.engine;\n  this.subs.push(on(socket, 'data', bind(this, 'ondata')));\n  this.subs.push(on(socket, 'ping', bind(this, 'onping')));\n  this.subs.push(on(socket, 'pong', bind(this, 'onpong')));\n  this.subs.push(on(socket, 'error', bind(this, 'onerror')));\n  this.subs.push(on(socket, 'close', bind(this, 'onclose')));\n  this.subs.push(on(this.decoder, 'decoded', bind(this, 'ondecoded')));\n};\n\n/**\n * Called upon a ping.\n *\n * @api private\n */\n\nManager.prototype.onping = function(){\n  this.lastPing = new Date;\n  this.emitAll('ping');\n};\n\n/**\n * Called upon a packet.\n *\n * @api private\n */\n\nManager.prototype.onpong = function(){\n  this.emitAll('pong', new Date - this.lastPing);\n};\n\n/**\n * Called with data.\n *\n * @api private\n */\n\nManager.prototype.ondata = function(data){\n  this.decoder.add(data);\n};\n\n/**\n * Called when parser fully decodes a packet.\n *\n * @api private\n */\n\nManager.prototype.ondecoded = function(packet) {\n  this.emit('packet', packet);\n};\n\n/**\n * Called upon socket error.\n *\n * @api private\n */\n\nManager.prototype.onerror = function(err){\n  debug('error', err);\n  this.emitAll('error', err);\n};\n\n/**\n * Creates a new socket for the given `nsp`.\n *\n * @return {Socket}\n * @api public\n */\n\nManager.prototype.socket = function(nsp){\n  var socket = this.nsps[nsp];\n  if (!socket) {\n    socket = new Socket(this, nsp);\n    this.nsps[nsp] = socket;\n    var self = this;\n    socket.on('connecting', onConnecting);\n    socket.on('connect', function(){\n      socket.id = self.engine.id;\n    });\n\n    if (this.autoConnect) {\n      // manually call here since connecting evnet is fired before listening\n      onConnecting();\n    }\n  }\n\n  function onConnecting() {\n    if (!~indexOf(self.connecting, socket)) {\n      self.connecting.push(socket);\n    }\n  }\n\n  return socket;\n};\n\n/**\n * Called upon a socket close.\n *\n * @param {Socket} socket\n */\n\nManager.prototype.destroy = function(socket){\n  var index = indexOf(this.connecting, socket);\n  if (~index) this.connecting.splice(index, 1);\n  if (this.connecting.length) return;\n\n  this.close();\n};\n\n/**\n * Writes a packet.\n *\n * @param {Object} packet\n * @api private\n */\n\nManager.prototype.packet = function(packet){\n  debug('writing packet %j', packet);\n  var self = this;\n\n  if (!self.encoding) {\n    // encode, then write to engine with result\n    self.encoding = true;\n    this.encoder.encode(packet, function(encodedPackets) {\n      for (var i = 0; i < encodedPackets.length; i++) {\n        self.engine.write(encodedPackets[i], packet.options);\n      }\n      self.encoding = false;\n      self.processPacketQueue();\n    });\n  } else { // add packet to the queue\n    self.packetBuffer.push(packet);\n  }\n};\n\n/**\n * If packet buffer is non-empty, begins encoding the\n * next packet in line.\n *\n * @api private\n */\n\nManager.prototype.processPacketQueue = function() {\n  if (this.packetBuffer.length > 0 && !this.encoding) {\n    var pack = this.packetBuffer.shift();\n    this.packet(pack);\n  }\n};\n\n/**\n * Clean up transport subscriptions and packet buffer.\n *\n * @api private\n */\n\nManager.prototype.cleanup = function(){\n  debug('cleanup');\n\n  var sub;\n  while (sub = this.subs.shift()) sub.destroy();\n\n  this.packetBuffer = [];\n  this.encoding = false;\n  this.lastPing = null;\n\n  this.decoder.destroy();\n};\n\n/**\n * Close the current socket.\n *\n * @api private\n */\n\nManager.prototype.close =\nManager.prototype.disconnect = function(){\n  debug('disconnect');\n  this.skipReconnect = true;\n  this.reconnecting = false;\n  if ('opening' == this.readyState) {\n    // `onclose` will not fire because\n    // an open event never happened\n    this.cleanup();\n  }\n  this.backoff.reset();\n  this.readyState = 'closed';\n  if (this.engine) this.engine.close();\n};\n\n/**\n * Called upon engine close.\n *\n * @api private\n */\n\nManager.prototype.onclose = function(reason){\n  debug('onclose');\n\n  this.cleanup();\n  this.backoff.reset();\n  this.readyState = 'closed';\n  this.emit('close', reason);\n\n  if (this._reconnection && !this.skipReconnect) {\n    this.reconnect();\n  }\n};\n\n/**\n * Attempt a reconnection.\n *\n * @api private\n */\n\nManager.prototype.reconnect = function(){\n  if (this.reconnecting || this.skipReconnect) return this;\n\n  var self = this;\n\n  if (this.backoff.attempts >= this._reconnectionAttempts) {\n    debug('reconnect failed');\n    this.backoff.reset();\n    this.emitAll('reconnect_failed');\n    this.reconnecting = false;\n  } else {\n    var delay = this.backoff.duration();\n    debug('will wait %dms before reconnect attempt', delay);\n\n    this.reconnecting = true;\n    var timer = setTimeout(function(){\n      if (self.skipReconnect) return;\n\n      debug('attempting reconnect');\n      self.emitAll('reconnect_attempt', self.backoff.attempts);\n      self.emitAll('reconnecting', self.backoff.attempts);\n\n      // check again for the case socket closed in above events\n      if (self.skipReconnect) return;\n\n      self.open(function(err){\n        if (err) {\n          debug('reconnect attempt error');\n          self.reconnecting = false;\n          self.reconnect();\n          self.emitAll('reconnect_error', err.data);\n        } else {\n          debug('reconnect success');\n          self.onreconnect();\n        }\n      });\n    }, delay);\n\n    this.subs.push({\n      destroy: function(){\n        clearTimeout(timer);\n      }\n    });\n  }\n};\n\n/**\n * Called upon successful reconnect.\n *\n * @api private\n */\n\nManager.prototype.onreconnect = function(){\n  var attempt = this.backoff.attempts;\n  this.reconnecting = false;\n  this.backoff.reset();\n  this.updateSocketIds();\n  this.emitAll('reconnect', attempt);\n};\n\n},{\"./on\":33,\"./socket\":34,\"backo2\":36,\"component-bind\":37,\"component-emitter\":38,\"debug\":39,\"engine.io-client\":1,\"indexof\":42,\"socket.io-parser\":47}],33:[function(_dereq_,module,exports){\n\n/**\n * Module exports.\n */\n\nmodule.exports = on;\n\n/**\n * Helper for subscriptions.\n *\n * @param {Object|EventEmitter} obj with `Emitter` mixin or `EventEmitter`\n * @param {String} event name\n * @param {Function} callback\n * @api public\n */\n\nfunction on(obj, ev, fn) {\n  obj.on(ev, fn);\n  return {\n    destroy: function(){\n      obj.removeListener(ev, fn);\n    }\n  };\n}\n\n},{}],34:[function(_dereq_,module,exports){\n\n/**\n * Module dependencies.\n */\n\nvar parser = _dereq_('socket.io-parser');\nvar Emitter = _dereq_('component-emitter');\nvar toArray = _dereq_('to-array');\nvar on = _dereq_('./on');\nvar bind = _dereq_('component-bind');\nvar debug = _dereq_('debug')('socket.io-client:socket');\nvar hasBin = _dereq_('has-binary');\n\n/**\n * Module exports.\n */\n\nmodule.exports = exports = Socket;\n\n/**\n * Internal events (blacklisted).\n * These events can't be emitted by the user.\n *\n * @api private\n */\n\nvar events = {\n  connect: 1,\n  connect_error: 1,\n  connect_timeout: 1,\n  connecting: 1,\n  disconnect: 1,\n  error: 1,\n  reconnect: 1,\n  reconnect_attempt: 1,\n  reconnect_failed: 1,\n  reconnect_error: 1,\n  reconnecting: 1,\n  ping: 1,\n  pong: 1\n};\n\n/**\n * Shortcut to `Emitter#emit`.\n */\n\nvar emit = Emitter.prototype.emit;\n\n/**\n * `Socket` constructor.\n *\n * @api public\n */\n\nfunction Socket(io, nsp){\n  this.io = io;\n  this.nsp = nsp;\n  this.json = this; // compat\n  this.ids = 0;\n  this.acks = {};\n  this.receiveBuffer = [];\n  this.sendBuffer = [];\n  this.connected = false;\n  this.disconnected = true;\n  if (this.io.autoConnect) this.open();\n}\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Socket.prototype);\n\n/**\n * Subscribe to open, close and packet events\n *\n * @api private\n */\n\nSocket.prototype.subEvents = function() {\n  if (this.subs) return;\n\n  var io = this.io;\n  this.subs = [\n    on(io, 'open', bind(this, 'onopen')),\n    on(io, 'packet', bind(this, 'onpacket')),\n    on(io, 'close', bind(this, 'onclose'))\n  ];\n};\n\n/**\n * \"Opens\" the socket.\n *\n * @api public\n */\n\nSocket.prototype.open =\nSocket.prototype.connect = function(){\n  if (this.connected) return this;\n\n  this.subEvents();\n  this.io.open(); // ensure open\n  if ('open' == this.io.readyState) this.onopen();\n  this.emit('connecting');\n  return this;\n};\n\n/**\n * Sends a `message` event.\n *\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.send = function(){\n  var args = toArray(arguments);\n  args.unshift('message');\n  this.emit.apply(this, args);\n  return this;\n};\n\n/**\n * Override `emit`.\n * If the event is in `events`, it's emitted normally.\n *\n * @param {String} event name\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.emit = function(ev){\n  if (events.hasOwnProperty(ev)) {\n    emit.apply(this, arguments);\n    return this;\n  }\n\n  var args = toArray(arguments);\n  var parserType = parser.EVENT; // default\n  if (hasBin(args)) { parserType = parser.BINARY_EVENT; } // binary\n  var packet = { type: parserType, data: args };\n\n  packet.options = {};\n  packet.options.compress = !this.flags || false !== this.flags.compress;\n\n  // event ack callback\n  if ('function' == typeof args[args.length - 1]) {\n    debug('emitting packet with ack id %d', this.ids);\n    this.acks[this.ids] = args.pop();\n    packet.id = this.ids++;\n  }\n\n  if (this.connected) {\n    this.packet(packet);\n  } else {\n    this.sendBuffer.push(packet);\n  }\n\n  delete this.flags;\n\n  return this;\n};\n\n/**\n * Sends a packet.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.packet = function(packet){\n  packet.nsp = this.nsp;\n  this.io.packet(packet);\n};\n\n/**\n * Called upon engine `open`.\n *\n * @api private\n */\n\nSocket.prototype.onopen = function(){\n  debug('transport is open - connecting');\n\n  // write connect packet if necessary\n  if ('/' != this.nsp) {\n    this.packet({ type: parser.CONNECT });\n  }\n};\n\n/**\n * Called upon engine `close`.\n *\n * @param {String} reason\n * @api private\n */\n\nSocket.prototype.onclose = function(reason){\n  debug('close (%s)', reason);\n  this.connected = false;\n  this.disconnected = true;\n  delete this.id;\n  this.emit('disconnect', reason);\n};\n\n/**\n * Called with socket packet.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.onpacket = function(packet){\n  if (packet.nsp != this.nsp) return;\n\n  switch (packet.type) {\n    case parser.CONNECT:\n      this.onconnect();\n      break;\n\n    case parser.EVENT:\n      this.onevent(packet);\n      break;\n\n    case parser.BINARY_EVENT:\n      this.onevent(packet);\n      break;\n\n    case parser.ACK:\n      this.onack(packet);\n      break;\n\n    case parser.BINARY_ACK:\n      this.onack(packet);\n      break;\n\n    case parser.DISCONNECT:\n      this.ondisconnect();\n      break;\n\n    case parser.ERROR:\n      this.emit('error', packet.data);\n      break;\n  }\n};\n\n/**\n * Called upon a server event.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.onevent = function(packet){\n  var args = packet.data || [];\n  debug('emitting event %j', args);\n\n  if (null != packet.id) {\n    debug('attaching ack callback to event');\n    args.push(this.ack(packet.id));\n  }\n\n  if (this.connected) {\n    emit.apply(this, args);\n  } else {\n    this.receiveBuffer.push(args);\n  }\n};\n\n/**\n * Produces an ack callback to emit with an event.\n *\n * @api private\n */\n\nSocket.prototype.ack = function(id){\n  var self = this;\n  var sent = false;\n  return function(){\n    // prevent double callbacks\n    if (sent) return;\n    sent = true;\n    var args = toArray(arguments);\n    debug('sending ack %j', args);\n\n    var type = hasBin(args) ? parser.BINARY_ACK : parser.ACK;\n    self.packet({\n      type: type,\n      id: id,\n      data: args\n    });\n  };\n};\n\n/**\n * Called upon a server acknowlegement.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.onack = function(packet){\n  var ack = this.acks[packet.id];\n  if ('function' == typeof ack) {\n    debug('calling ack %s with %j', packet.id, packet.data);\n    ack.apply(this, packet.data);\n    delete this.acks[packet.id];\n  } else {\n    debug('bad ack %s', packet.id);\n  }\n};\n\n/**\n * Called upon server connect.\n *\n * @api private\n */\n\nSocket.prototype.onconnect = function(){\n  this.connected = true;\n  this.disconnected = false;\n  this.emit('connect');\n  this.emitBuffered();\n};\n\n/**\n * Emit buffered events (received and emitted).\n *\n * @api private\n */\n\nSocket.prototype.emitBuffered = function(){\n  var i;\n  for (i = 0; i < this.receiveBuffer.length; i++) {\n    emit.apply(this, this.receiveBuffer[i]);\n  }\n  this.receiveBuffer = [];\n\n  for (i = 0; i < this.sendBuffer.length; i++) {\n    this.packet(this.sendBuffer[i]);\n  }\n  this.sendBuffer = [];\n};\n\n/**\n * Called upon server disconnect.\n *\n * @api private\n */\n\nSocket.prototype.ondisconnect = function(){\n  debug('server disconnect (%s)', this.nsp);\n  this.destroy();\n  this.onclose('io server disconnect');\n};\n\n/**\n * Called upon forced client/server side disconnections,\n * this method ensures the manager stops tracking us and\n * that reconnections don't get triggered for this.\n *\n * @api private.\n */\n\nSocket.prototype.destroy = function(){\n  if (this.subs) {\n    // clean subscriptions to avoid reconnections\n    for (var i = 0; i < this.subs.length; i++) {\n      this.subs[i].destroy();\n    }\n    this.subs = null;\n  }\n\n  this.io.destroy(this);\n};\n\n/**\n * Disconnects the socket manually.\n *\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.close =\nSocket.prototype.disconnect = function(){\n  if (this.connected) {\n    debug('performing disconnect (%s)', this.nsp);\n    this.packet({ type: parser.DISCONNECT });\n  }\n\n  // remove socket from pool\n  this.destroy();\n\n  if (this.connected) {\n    // fire events\n    this.onclose('io client disconnect');\n  }\n  return this;\n};\n\n/**\n * Sets the compress flag.\n *\n * @param {Boolean} if `true`, compresses the sending data\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.compress = function(compress){\n  this.flags = this.flags || {};\n  this.flags.compress = compress;\n  return this;\n};\n\n},{\"./on\":33,\"component-bind\":37,\"component-emitter\":38,\"debug\":39,\"has-binary\":41,\"socket.io-parser\":47,\"to-array\":51}],35:[function(_dereq_,module,exports){\n(function (global){\n\n/**\n * Module dependencies.\n */\n\nvar parseuri = _dereq_('parseuri');\nvar debug = _dereq_('debug')('socket.io-client:url');\n\n/**\n * Module exports.\n */\n\nmodule.exports = url;\n\n/**\n * URL parser.\n *\n * @param {String} url\n * @param {Object} An object meant to mimic window.location.\n *                 Defaults to window.location.\n * @api public\n */\n\nfunction url(uri, loc){\n  var obj = uri;\n\n  // default to window.location\n  var loc = loc || global.location;\n  if (null == uri) uri = loc.protocol + '//' + loc.host;\n\n  // relative path support\n  if ('string' == typeof uri) {\n    if ('/' == uri.charAt(0)) {\n      if ('/' == uri.charAt(1)) {\n        uri = loc.protocol + uri;\n      } else {\n        uri = loc.host + uri;\n      }\n    }\n\n    if (!/^(https?|wss?):\\/\\//.test(uri)) {\n      debug('protocol-less url %s', uri);\n      if ('undefined' != typeof loc) {\n        uri = loc.protocol + '//' + uri;\n      } else {\n        uri = 'https://' + uri;\n      }\n    }\n\n    // parse\n    debug('parse %s', uri);\n    obj = parseuri(uri);\n  }\n\n  // make sure we treat `localhost:80` and `localhost` equally\n  if (!obj.port) {\n    if (/^(http|ws)$/.test(obj.protocol)) {\n      obj.port = '80';\n    }\n    else if (/^(http|ws)s$/.test(obj.protocol)) {\n      obj.port = '443';\n    }\n  }\n\n  obj.path = obj.path || '/';\n\n  var ipv6 = obj.host.indexOf(':') !== -1;\n  var host = ipv6 ? '[' + obj.host + ']' : obj.host;\n\n  // define unique id\n  obj.id = obj.protocol + '://' + host + ':' + obj.port;\n  // define href\n  obj.href = obj.protocol + '://' + host + (loc && loc.port == obj.port ? '' : (':' + obj.port));\n\n  return obj;\n}\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n},{\"debug\":39,\"parseuri\":45}],36:[function(_dereq_,module,exports){\n\n/**\n * Expose `Backoff`.\n */\n\nmodule.exports = Backoff;\n\n/**\n * Initialize backoff timer with `opts`.\n *\n * - `min` initial timeout in milliseconds [100]\n * - `max` max timeout [10000]\n * - `jitter` [0]\n * - `factor` [2]\n *\n * @param {Object} opts\n * @api public\n */\n\nfunction Backoff(opts) {\n  opts = opts || {};\n  this.ms = opts.min || 100;\n  this.max = opts.max || 10000;\n  this.factor = opts.factor || 2;\n  this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n  this.attempts = 0;\n}\n\n/**\n * Return the backoff duration.\n *\n * @return {Number}\n * @api public\n */\n\nBackoff.prototype.duration = function(){\n  var ms = this.ms * Math.pow(this.factor, this.attempts++);\n  if (this.jitter) {\n    var rand =  Math.random();\n    var deviation = Math.floor(rand * this.jitter * ms);\n    ms = (Math.floor(rand * 10) & 1) == 0  ? ms - deviation : ms + deviation;\n  }\n  return Math.min(ms, this.max) | 0;\n};\n\n/**\n * Reset the number of attempts.\n *\n * @api public\n */\n\nBackoff.prototype.reset = function(){\n  this.attempts = 0;\n};\n\n/**\n * Set the minimum duration\n *\n * @api public\n */\n\nBackoff.prototype.setMin = function(min){\n  this.ms = min;\n};\n\n/**\n * Set the maximum duration\n *\n * @api public\n */\n\nBackoff.prototype.setMax = function(max){\n  this.max = max;\n};\n\n/**\n * Set the jitter\n *\n * @api public\n */\n\nBackoff.prototype.setJitter = function(jitter){\n  this.jitter = jitter;\n};\n\n\n},{}],37:[function(_dereq_,module,exports){\n/**\n * Slice reference.\n */\n\nvar slice = [].slice;\n\n/**\n * Bind `obj` to `fn`.\n *\n * @param {Object} obj\n * @param {Function|String} fn or string\n * @return {Function}\n * @api public\n */\n\nmodule.exports = function(obj, fn){\n  if ('string' == typeof fn) fn = obj[fn];\n  if ('function' != typeof fn) throw new Error('bind() requires a function');\n  var args = slice.call(arguments, 2);\n  return function(){\n    return fn.apply(obj, args.concat(slice.call(arguments)));\n  }\n};\n\n},{}],38:[function(_dereq_,module,exports){\n\n/**\n * Expose `Emitter`.\n */\n\nmodule.exports = Emitter;\n\n/**\n * Initialize a new `Emitter`.\n *\n * @api public\n */\n\nfunction Emitter(obj) {\n  if (obj) return mixin(obj);\n};\n\n/**\n * Mixin the emitter properties.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\nfunction mixin(obj) {\n  for (var key in Emitter.prototype) {\n    obj[key] = Emitter.prototype[key];\n  }\n  return obj;\n}\n\n/**\n * Listen on the given `event` with `fn`.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.on =\nEmitter.prototype.addEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\n    .push(fn);\n  return this;\n};\n\n/**\n * Adds an `event` listener that will be invoked a single\n * time then automatically removed.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.once = function(event, fn){\n  function on() {\n    this.off(event, on);\n    fn.apply(this, arguments);\n  }\n\n  on.fn = fn;\n  this.on(event, on);\n  return this;\n};\n\n/**\n * Remove the given callback for `event` or all\n * registered callbacks.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.off =\nEmitter.prototype.removeListener =\nEmitter.prototype.removeAllListeners =\nEmitter.prototype.removeEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n\n  // all\n  if (0 == arguments.length) {\n    this._callbacks = {};\n    return this;\n  }\n\n  // specific event\n  var callbacks = this._callbacks['$' + event];\n  if (!callbacks) return this;\n\n  // remove all handlers\n  if (1 == arguments.length) {\n    delete this._callbacks['$' + event];\n    return this;\n  }\n\n  // remove specific handler\n  var cb;\n  for (var i = 0; i < callbacks.length; i++) {\n    cb = callbacks[i];\n    if (cb === fn || cb.fn === fn) {\n      callbacks.splice(i, 1);\n      break;\n    }\n  }\n  return this;\n};\n\n/**\n * Emit `event` with the given args.\n *\n * @param {String} event\n * @param {Mixed} ...\n * @return {Emitter}\n */\n\nEmitter.prototype.emit = function(event){\n  this._callbacks = this._callbacks || {};\n  var args = [].slice.call(arguments, 1)\n    , callbacks = this._callbacks['$' + event];\n\n  if (callbacks) {\n    callbacks = callbacks.slice(0);\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\n      callbacks[i].apply(this, args);\n    }\n  }\n\n  return this;\n};\n\n/**\n * Return array of callbacks for `event`.\n *\n * @param {String} event\n * @return {Array}\n * @api public\n */\n\nEmitter.prototype.listeners = function(event){\n  this._callbacks = this._callbacks || {};\n  return this._callbacks['$' + event] || [];\n};\n\n/**\n * Check if this emitter has `event` handlers.\n *\n * @param {String} event\n * @return {Boolean}\n * @api public\n */\n\nEmitter.prototype.hasListeners = function(event){\n  return !! this.listeners(event).length;\n};\n\n},{}],39:[function(_dereq_,module,exports){\narguments[4][17][0].apply(exports,arguments)\n},{\"./debug\":40,\"dup\":17}],40:[function(_dereq_,module,exports){\narguments[4][18][0].apply(exports,arguments)\n},{\"dup\":18,\"ms\":44}],41:[function(_dereq_,module,exports){\n(function (global){\n\n/*\n * Module requirements.\n */\n\nvar isArray = _dereq_('isarray');\n\n/**\n * Module exports.\n */\n\nmodule.exports = hasBinary;\n\n/**\n * Checks for binary data.\n *\n * Right now only Buffer and ArrayBuffer are supported..\n *\n * @param {Object} anything\n * @api public\n */\n\nfunction hasBinary(data) {\n\n  function _hasBinary(obj) {\n    if (!obj) return false;\n\n    if ( (global.Buffer && global.Buffer.isBuffer && global.Buffer.isBuffer(obj)) ||\n         (global.ArrayBuffer && obj instanceof ArrayBuffer) ||\n         (global.Blob && obj instanceof Blob) ||\n         (global.File && obj instanceof File)\n        ) {\n      return true;\n    }\n\n    if (isArray(obj)) {\n      for (var i = 0; i < obj.length; i++) {\n          if (_hasBinary(obj[i])) {\n              return true;\n          }\n      }\n    } else if (obj && 'object' == typeof obj) {\n      // see: https://github.com/Automattic/has-binary/pull/4\n      if (obj.toJSON && 'function' == typeof obj.toJSON) {\n        obj = obj.toJSON();\n      }\n\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key) && _hasBinary(obj[key])) {\n          return true;\n        }\n      }\n    }\n\n    return false;\n  }\n\n  return _hasBinary(data);\n}\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n},{\"isarray\":43}],42:[function(_dereq_,module,exports){\narguments[4][23][0].apply(exports,arguments)\n},{\"dup\":23}],43:[function(_dereq_,module,exports){\narguments[4][24][0].apply(exports,arguments)\n},{\"dup\":24}],44:[function(_dereq_,module,exports){\narguments[4][25][0].apply(exports,arguments)\n},{\"dup\":25}],45:[function(_dereq_,module,exports){\narguments[4][28][0].apply(exports,arguments)\n},{\"dup\":28}],46:[function(_dereq_,module,exports){\n(function (global){\n/*global Blob,File*/\n\n/**\n * Module requirements\n */\n\nvar isArray = _dereq_('isarray');\nvar isBuf = _dereq_('./is-buffer');\n\n/**\n * Replaces every Buffer | ArrayBuffer in packet with a numbered placeholder.\n * Anything with blobs or files should be fed through removeBlobs before coming\n * here.\n *\n * @param {Object} packet - socket.io event packet\n * @return {Object} with deconstructed packet and list of buffers\n * @api public\n */\n\nexports.deconstructPacket = function(packet){\n  var buffers = [];\n  var packetData = packet.data;\n\n  function _deconstructPacket(data) {\n    if (!data) return data;\n\n    if (isBuf(data)) {\n      var placeholder = { _placeholder: true, num: buffers.length };\n      buffers.push(data);\n      return placeholder;\n    } else if (isArray(data)) {\n      var newData = new Array(data.length);\n      for (var i = 0; i < data.length; i++) {\n        newData[i] = _deconstructPacket(data[i]);\n      }\n      return newData;\n    } else if ('object' == typeof data && !(data instanceof Date)) {\n      var newData = {};\n      for (var key in data) {\n        newData[key] = _deconstructPacket(data[key]);\n      }\n      return newData;\n    }\n    return data;\n  }\n\n  var pack = packet;\n  pack.data = _deconstructPacket(packetData);\n  pack.attachments = buffers.length; // number of binary 'attachments'\n  return {packet: pack, buffers: buffers};\n};\n\n/**\n * Reconstructs a binary packet from its placeholder packet and buffers\n *\n * @param {Object} packet - event packet with placeholders\n * @param {Array} buffers - binary buffers to put in placeholder positions\n * @return {Object} reconstructed packet\n * @api public\n */\n\nexports.reconstructPacket = function(packet, buffers) {\n  var curPlaceHolder = 0;\n\n  function _reconstructPacket(data) {\n    if (data && data._placeholder) {\n      var buf = buffers[data.num]; // appropriate buffer (should be natural order anyway)\n      return buf;\n    } else if (isArray(data)) {\n      for (var i = 0; i < data.length; i++) {\n        data[i] = _reconstructPacket(data[i]);\n      }\n      return data;\n    } else if (data && 'object' == typeof data) {\n      for (var key in data) {\n        data[key] = _reconstructPacket(data[key]);\n      }\n      return data;\n    }\n    return data;\n  }\n\n  packet.data = _reconstructPacket(packet.data);\n  packet.attachments = undefined; // no longer useful\n  return packet;\n};\n\n/**\n * Asynchronously removes Blobs or Files from data via\n * FileReader's readAsArrayBuffer method. Used before encoding\n * data as msgpack. Calls callback with the blobless data.\n *\n * @param {Object} data\n * @param {Function} callback\n * @api private\n */\n\nexports.removeBlobs = function(data, callback) {\n  function _removeBlobs(obj, curKey, containingObject) {\n    if (!obj) return obj;\n\n    // convert any blob\n    if ((global.Blob && obj instanceof Blob) ||\n        (global.File && obj instanceof File)) {\n      pendingBlobs++;\n\n      // async filereader\n      var fileReader = new FileReader();\n      fileReader.onload = function() { // this.result == arraybuffer\n        if (containingObject) {\n          containingObject[curKey] = this.result;\n        }\n        else {\n          bloblessData = this.result;\n        }\n\n        // if nothing pending its callback time\n        if(! --pendingBlobs) {\n          callback(bloblessData);\n        }\n      };\n\n      fileReader.readAsArrayBuffer(obj); // blob -> arraybuffer\n    } else if (isArray(obj)) { // handle array\n      for (var i = 0; i < obj.length; i++) {\n        _removeBlobs(obj[i], i, obj);\n      }\n    } else if (obj && 'object' == typeof obj && !isBuf(obj)) { // and object\n      for (var key in obj) {\n        _removeBlobs(obj[key], key, obj);\n      }\n    }\n  }\n\n  var pendingBlobs = 0;\n  var bloblessData = data;\n  _removeBlobs(bloblessData);\n  if (!pendingBlobs) {\n    callback(bloblessData);\n  }\n};\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n},{\"./is-buffer\":48,\"isarray\":43}],47:[function(_dereq_,module,exports){\n\n/**\n * Module dependencies.\n */\n\nvar debug = _dereq_('debug')('socket.io-parser');\nvar json = _dereq_('json3');\nvar isArray = _dereq_('isarray');\nvar Emitter = _dereq_('component-emitter');\nvar binary = _dereq_('./binary');\nvar isBuf = _dereq_('./is-buffer');\n\n/**\n * Protocol version.\n *\n * @api public\n */\n\nexports.protocol = 4;\n\n/**\n * Packet types.\n *\n * @api public\n */\n\nexports.types = [\n  'CONNECT',\n  'DISCONNECT',\n  'EVENT',\n  'BINARY_EVENT',\n  'ACK',\n  'BINARY_ACK',\n  'ERROR'\n];\n\n/**\n * Packet type `connect`.\n *\n * @api public\n */\n\nexports.CONNECT = 0;\n\n/**\n * Packet type `disconnect`.\n *\n * @api public\n */\n\nexports.DISCONNECT = 1;\n\n/**\n * Packet type `event`.\n *\n * @api public\n */\n\nexports.EVENT = 2;\n\n/**\n * Packet type `ack`.\n *\n * @api public\n */\n\nexports.ACK = 3;\n\n/**\n * Packet type `error`.\n *\n * @api public\n */\n\nexports.ERROR = 4;\n\n/**\n * Packet type 'binary event'\n *\n * @api public\n */\n\nexports.BINARY_EVENT = 5;\n\n/**\n * Packet type `binary ack`. For acks with binary arguments.\n *\n * @api public\n */\n\nexports.BINARY_ACK = 6;\n\n/**\n * Encoder constructor.\n *\n * @api public\n */\n\nexports.Encoder = Encoder;\n\n/**\n * Decoder constructor.\n *\n * @api public\n */\n\nexports.Decoder = Decoder;\n\n/**\n * A socket.io Encoder instance\n *\n * @api public\n */\n\nfunction Encoder() {}\n\n/**\n * Encode a packet as a single string if non-binary, or as a\n * buffer sequence, depending on packet type.\n *\n * @param {Object} obj - packet object\n * @param {Function} callback - function to handle encodings (likely engine.write)\n * @return Calls callback with Array of encodings\n * @api public\n */\n\nEncoder.prototype.encode = function(obj, callback){\n  debug('encoding packet %j', obj);\n\n  if (exports.BINARY_EVENT == obj.type || exports.BINARY_ACK == obj.type) {\n    encodeAsBinary(obj, callback);\n  }\n  else {\n    var encoding = encodeAsString(obj);\n    callback([encoding]);\n  }\n};\n\n/**\n * Encode packet as string.\n *\n * @param {Object} packet\n * @return {String} encoded\n * @api private\n */\n\nfunction encodeAsString(obj) {\n  var str = '';\n  var nsp = false;\n\n  // first is type\n  str += obj.type;\n\n  // attachments if we have them\n  if (exports.BINARY_EVENT == obj.type || exports.BINARY_ACK == obj.type) {\n    str += obj.attachments;\n    str += '-';\n  }\n\n  // if we have a namespace other than `/`\n  // we append it followed by a comma `,`\n  if (obj.nsp && '/' != obj.nsp) {\n    nsp = true;\n    str += obj.nsp;\n  }\n\n  // immediately followed by the id\n  if (null != obj.id) {\n    if (nsp) {\n      str += ',';\n      nsp = false;\n    }\n    str += obj.id;\n  }\n\n  // json data\n  if (null != obj.data) {\n    if (nsp) str += ',';\n    str += json.stringify(obj.data);\n  }\n\n  debug('encoded %j as %s', obj, str);\n  return str;\n}\n\n/**\n * Encode packet as 'buffer sequence' by removing blobs, and\n * deconstructing packet into object with placeholders and\n * a list of buffers.\n *\n * @param {Object} packet\n * @return {Buffer} encoded\n * @api private\n */\n\nfunction encodeAsBinary(obj, callback) {\n\n  function writeEncoding(bloblessData) {\n    var deconstruction = binary.deconstructPacket(bloblessData);\n    var pack = encodeAsString(deconstruction.packet);\n    var buffers = deconstruction.buffers;\n\n    buffers.unshift(pack); // add packet info to beginning of data list\n    callback(buffers); // write all the buffers\n  }\n\n  binary.removeBlobs(obj, writeEncoding);\n}\n\n/**\n * A socket.io Decoder instance\n *\n * @return {Object} decoder\n * @api public\n */\n\nfunction Decoder() {\n  this.reconstructor = null;\n}\n\n/**\n * Mix in `Emitter` with Decoder.\n */\n\nEmitter(Decoder.prototype);\n\n/**\n * Decodes an ecoded packet string into packet JSON.\n *\n * @param {String} obj - encoded packet\n * @return {Object} packet\n * @api public\n */\n\nDecoder.prototype.add = function(obj) {\n  var packet;\n  if ('string' == typeof obj) {\n    packet = decodeString(obj);\n    if (exports.BINARY_EVENT == packet.type || exports.BINARY_ACK == packet.type) { // binary packet's json\n      this.reconstructor = new BinaryReconstructor(packet);\n\n      // no attachments, labeled binary but no binary data to follow\n      if (this.reconstructor.reconPack.attachments === 0) {\n        this.emit('decoded', packet);\n      }\n    } else { // non-binary full packet\n      this.emit('decoded', packet);\n    }\n  }\n  else if (isBuf(obj) || obj.base64) { // raw binary data\n    if (!this.reconstructor) {\n      throw new Error('got binary data when not reconstructing a packet');\n    } else {\n      packet = this.reconstructor.takeBinaryData(obj);\n      if (packet) { // received final buffer\n        this.reconstructor = null;\n        this.emit('decoded', packet);\n      }\n    }\n  }\n  else {\n    throw new Error('Unknown type: ' + obj);\n  }\n};\n\n/**\n * Decode a packet String (JSON data)\n *\n * @param {String} str\n * @return {Object} packet\n * @api private\n */\n\nfunction decodeString(str) {\n  var p = {};\n  var i = 0;\n\n  // look up type\n  p.type = Number(str.charAt(0));\n  if (null == exports.types[p.type]) return error();\n\n  // look up attachments if type binary\n  if (exports.BINARY_EVENT == p.type || exports.BINARY_ACK == p.type) {\n    var buf = '';\n    while (str.charAt(++i) != '-') {\n      buf += str.charAt(i);\n      if (i == str.length) break;\n    }\n    if (buf != Number(buf) || str.charAt(i) != '-') {\n      throw new Error('Illegal attachments');\n    }\n    p.attachments = Number(buf);\n  }\n\n  // look up namespace (if any)\n  if ('/' == str.charAt(i + 1)) {\n    p.nsp = '';\n    while (++i) {\n      var c = str.charAt(i);\n      if (',' == c) break;\n      p.nsp += c;\n      if (i == str.length) break;\n    }\n  } else {\n    p.nsp = '/';\n  }\n\n  // look up id\n  var next = str.charAt(i + 1);\n  if ('' !== next && Number(next) == next) {\n    p.id = '';\n    while (++i) {\n      var c = str.charAt(i);\n      if (null == c || Number(c) != c) {\n        --i;\n        break;\n      }\n      p.id += str.charAt(i);\n      if (i == str.length) break;\n    }\n    p.id = Number(p.id);\n  }\n\n  // look up json data\n  if (str.charAt(++i)) {\n    try {\n      p.data = json.parse(str.substr(i));\n    } catch(e){\n      return error();\n    }\n  }\n\n  debug('decoded %s as %j', str, p);\n  return p;\n}\n\n/**\n * Deallocates a parser's resources\n *\n * @api public\n */\n\nDecoder.prototype.destroy = function() {\n  if (this.reconstructor) {\n    this.reconstructor.finishedReconstruction();\n  }\n};\n\n/**\n * A manager of a binary event's 'buffer sequence'. Should\n * be constructed whenever a packet of type BINARY_EVENT is\n * decoded.\n *\n * @param {Object} packet\n * @return {BinaryReconstructor} initialized reconstructor\n * @api private\n */\n\nfunction BinaryReconstructor(packet) {\n  this.reconPack = packet;\n  this.buffers = [];\n}\n\n/**\n * Method to be called when binary data received from connection\n * after a BINARY_EVENT packet.\n *\n * @param {Buffer | ArrayBuffer} binData - the raw binary data received\n * @return {null | Object} returns null if more binary data is expected or\n *   a reconstructed packet object if all buffers have been received.\n * @api private\n */\n\nBinaryReconstructor.prototype.takeBinaryData = function(binData) {\n  this.buffers.push(binData);\n  if (this.buffers.length == this.reconPack.attachments) { // done with buffer list\n    var packet = binary.reconstructPacket(this.reconPack, this.buffers);\n    this.finishedReconstruction();\n    return packet;\n  }\n  return null;\n};\n\n/**\n * Cleans up binary packet reconstruction variables.\n *\n * @api private\n */\n\nBinaryReconstructor.prototype.finishedReconstruction = function() {\n  this.reconPack = null;\n  this.buffers = [];\n};\n\nfunction error(data){\n  return {\n    type: exports.ERROR,\n    data: 'parser error'\n  };\n}\n\n},{\"./binary\":46,\"./is-buffer\":48,\"component-emitter\":49,\"debug\":39,\"isarray\":43,\"json3\":50}],48:[function(_dereq_,module,exports){\n(function (global){\n\nmodule.exports = isBuf;\n\n/**\n * Returns true if obj is a buffer or an arraybuffer.\n *\n * @api private\n */\n\nfunction isBuf(obj) {\n  return (global.Buffer && global.Buffer.isBuffer(obj)) ||\n         (global.ArrayBuffer && obj instanceof ArrayBuffer);\n}\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n},{}],49:[function(_dereq_,module,exports){\narguments[4][15][0].apply(exports,arguments)\n},{\"dup\":15}],50:[function(_dereq_,module,exports){\n(function (global){\n/*! JSON v3.3.2 | http://bestiejs.github.io/json3 | Copyright 2012-2014, Kit Cambridge | http://kit.mit-license.org */\n;(function () {\n  // Detect the `define` function exposed by asynchronous module loaders. The\n  // strict `define` check is necessary for compatibility with `r.js`.\n  var isLoader = typeof define === \"function\" && define.amd;\n\n  // A set of types used to distinguish objects from primitives.\n  var objectTypes = {\n    \"function\": true,\n    \"object\": true\n  };\n\n  // Detect the `exports` object exposed by CommonJS implementations.\n  var freeExports = objectTypes[typeof exports] && exports && !exports.nodeType && exports;\n\n  // Use the `global` object exposed by Node (including Browserify via\n  // `insert-module-globals`), Narwhal, and Ringo as the default context,\n  // and the `window` object in browsers. Rhino exports a `global` function\n  // instead.\n  var root = objectTypes[typeof window] && window || this,\n      freeGlobal = freeExports && objectTypes[typeof module] && module && !module.nodeType && typeof global == \"object\" && global;\n\n  if (freeGlobal && (freeGlobal[\"global\"] === freeGlobal || freeGlobal[\"window\"] === freeGlobal || freeGlobal[\"self\"] === freeGlobal)) {\n    root = freeGlobal;\n  }\n\n  // Public: Initializes JSON 3 using the given `context` object, attaching the\n  // `stringify` and `parse` functions to the specified `exports` object.\n  function runInContext(context, exports) {\n    context || (context = root[\"Object\"]());\n    exports || (exports = root[\"Object\"]());\n\n    // Native constructor aliases.\n    var Number = context[\"Number\"] || root[\"Number\"],\n        String = context[\"String\"] || root[\"String\"],\n        Object = context[\"Object\"] || root[\"Object\"],\n        Date = context[\"Date\"] || root[\"Date\"],\n        SyntaxError = context[\"SyntaxError\"] || root[\"SyntaxError\"],\n        TypeError = context[\"TypeError\"] || root[\"TypeError\"],\n        Math = context[\"Math\"] || root[\"Math\"],\n        nativeJSON = context[\"JSON\"] || root[\"JSON\"];\n\n    // Delegate to the native `stringify` and `parse` implementations.\n    if (typeof nativeJSON == \"object\" && nativeJSON) {\n      exports.stringify = nativeJSON.stringify;\n      exports.parse = nativeJSON.parse;\n    }\n\n    // Convenience aliases.\n    var objectProto = Object.prototype,\n        getClass = objectProto.toString,\n        isProperty, forEach, undef;\n\n    // Test the `Date#getUTC*` methods. Based on work by @Yaffle.\n    var isExtended = new Date(-3509827334573292);\n    try {\n      // The `getUTCFullYear`, `Month`, and `Date` methods return nonsensical\n      // results for certain dates in Opera >= 10.53.\n      isExtended = isExtended.getUTCFullYear() == -109252 && isExtended.getUTCMonth() === 0 && isExtended.getUTCDate() === 1 &&\n        // Safari < 2.0.2 stores the internal millisecond time value correctly,\n        // but clips the values returned by the date methods to the range of\n        // signed 32-bit integers ([-2 ** 31, 2 ** 31 - 1]).\n        isExtended.getUTCHours() == 10 && isExtended.getUTCMinutes() == 37 && isExtended.getUTCSeconds() == 6 && isExtended.getUTCMilliseconds() == 708;\n    } catch (exception) {}\n\n    // Internal: Determines whether the native `JSON.stringify` and `parse`\n    // implementations are spec-compliant. Based on work by Ken Snyder.\n    function has(name) {\n      if (has[name] !== undef) {\n        // Return cached feature test result.\n        return has[name];\n      }\n      var isSupported;\n      if (name == \"bug-string-char-index\") {\n        // IE <= 7 doesn't support accessing string characters using square\n        // bracket notation. IE 8 only supports this for primitives.\n        isSupported = \"a\"[0] != \"a\";\n      } else if (name == \"json\") {\n        // Indicates whether both `JSON.stringify` and `JSON.parse` are\n        // supported.\n        isSupported = has(\"json-stringify\") && has(\"json-parse\");\n      } else {\n        var value, serialized = '{\"a\":[1,true,false,null,\"\\\\u0000\\\\b\\\\n\\\\f\\\\r\\\\t\"]}';\n        // Test `JSON.stringify`.\n        if (name == \"json-stringify\") {\n          var stringify = exports.stringify, stringifySupported = typeof stringify == \"function\" && isExtended;\n          if (stringifySupported) {\n            // A test function object with a custom `toJSON` method.\n            (value = function () {\n              return 1;\n            }).toJSON = value;\n            try {\n              stringifySupported =\n                // Firefox 3.1b1 and b2 serialize string, number, and boolean\n                // primitives as object literals.\n                stringify(0) === \"0\" &&\n                // FF 3.1b1, b2, and JSON 2 serialize wrapped primitives as object\n                // literals.\n                stringify(new Number()) === \"0\" &&\n                stringify(new String()) == '\"\"' &&\n                // FF 3.1b1, 2 throw an error if the value is `null`, `undefined`, or\n                // does not define a canonical JSON representation (this applies to\n                // objects with `toJSON` properties as well, *unless* they are nested\n                // within an object or array).\n                stringify(getClass) === undef &&\n                // IE 8 serializes `undefined` as `\"undefined\"`. Safari <= 5.1.7 and\n                // FF 3.1b3 pass this test.\n                stringify(undef) === undef &&\n                // Safari <= 5.1.7 and FF 3.1b3 throw `Error`s and `TypeError`s,\n                // respectively, if the value is omitted entirely.\n                stringify() === undef &&\n                // FF 3.1b1, 2 throw an error if the given value is not a number,\n                // string, array, object, Boolean, or `null` literal. This applies to\n                // objects with custom `toJSON` methods as well, unless they are nested\n                // inside object or array literals. YUI 3.0.0b1 ignores custom `toJSON`\n                // methods entirely.\n                stringify(value) === \"1\" &&\n                stringify([value]) == \"[1]\" &&\n                // Prototype <= 1.6.1 serializes `[undefined]` as `\"[]\"` instead of\n                // `\"[null]\"`.\n                stringify([undef]) == \"[null]\" &&\n                // YUI 3.0.0b1 fails to serialize `null` literals.\n                stringify(null) == \"null\" &&\n                // FF 3.1b1, 2 halts serialization if an array contains a function:\n                // `[1, true, getClass, 1]` serializes as \"[1,true,],\". FF 3.1b3\n                // elides non-JSON values from objects and arrays, unless they\n                // define custom `toJSON` methods.\n                stringify([undef, getClass, null]) == \"[null,null,null]\" &&\n                // Simple serialization test. FF 3.1b1 uses Unicode escape sequences\n                // where character escape codes are expected (e.g., `\\b` => `\\u0008`).\n                stringify({ \"a\": [value, true, false, null, \"\\x00\\b\\n\\f\\r\\t\"] }) == serialized &&\n                // FF 3.1b1 and b2 ignore the `filter` and `width` arguments.\n                stringify(null, value) === \"1\" &&\n                stringify([1, 2], null, 1) == \"[\\n 1,\\n 2\\n]\" &&\n                // JSON 2, Prototype <= 1.7, and older WebKit builds incorrectly\n                // serialize extended years.\n                stringify(new Date(-8.64e15)) == '\"-271821-04-20T00:00:00.000Z\"' &&\n                // The milliseconds are optional in ES 5, but required in 5.1.\n                stringify(new Date(8.64e15)) == '\"+275760-09-13T00:00:00.000Z\"' &&\n                // Firefox <= 11.0 incorrectly serializes years prior to 0 as negative\n                // four-digit years instead of six-digit years. Credits: @Yaffle.\n                stringify(new Date(-621987552e5)) == '\"-000001-01-01T00:00:00.000Z\"' &&\n                // Safari <= 5.1.5 and Opera >= 10.53 incorrectly serialize millisecond\n                // values less than 1000. Credits: @Yaffle.\n                stringify(new Date(-1)) == '\"1969-12-31T23:59:59.999Z\"';\n            } catch (exception) {\n              stringifySupported = false;\n            }\n          }\n          isSupported = stringifySupported;\n        }\n        // Test `JSON.parse`.\n        if (name == \"json-parse\") {\n          var parse = exports.parse;\n          if (typeof parse == \"function\") {\n            try {\n              // FF 3.1b1, b2 will throw an exception if a bare literal is provided.\n              // Conforming implementations should also coerce the initial argument to\n              // a string prior to parsing.\n              if (parse(\"0\") === 0 && !parse(false)) {\n                // Simple parsing test.\n                value = parse(serialized);\n                var parseSupported = value[\"a\"].length == 5 && value[\"a\"][0] === 1;\n                if (parseSupported) {\n                  try {\n                    // Safari <= 5.1.2 and FF 3.1b1 allow unescaped tabs in strings.\n                    parseSupported = !parse('\"\\t\"');\n                  } catch (exception) {}\n                  if (parseSupported) {\n                    try {\n                      // FF 4.0 and 4.0.1 allow leading `+` signs and leading\n                      // decimal points. FF 4.0, 4.0.1, and IE 9-10 also allow\n                      // certain octal literals.\n                      parseSupported = parse(\"01\") !== 1;\n                    } catch (exception) {}\n                  }\n                  if (parseSupported) {\n                    try {\n                      // FF 4.0, 4.0.1, and Rhino 1.7R3-R4 allow trailing decimal\n                      // points. These environments, along with FF 3.1b1 and 2,\n                      // also allow trailing commas in JSON objects and arrays.\n                      parseSupported = parse(\"1.\") !== 1;\n                    } catch (exception) {}\n                  }\n                }\n              }\n            } catch (exception) {\n              parseSupported = false;\n            }\n          }\n          isSupported = parseSupported;\n        }\n      }\n      return has[name] = !!isSupported;\n    }\n\n    if (!has(\"json\")) {\n      // Common `[[Class]]` name aliases.\n      var functionClass = \"[object Function]\",\n          dateClass = \"[object Date]\",\n          numberClass = \"[object Number]\",\n          stringClass = \"[object String]\",\n          arrayClass = \"[object Array]\",\n          booleanClass = \"[object Boolean]\";\n\n      // Detect incomplete support for accessing string characters by index.\n      var charIndexBuggy = has(\"bug-string-char-index\");\n\n      // Define additional utility methods if the `Date` methods are buggy.\n      if (!isExtended) {\n        var floor = Math.floor;\n        // A mapping between the months of the year and the number of days between\n        // January 1st and the first of the respective month.\n        var Months = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334];\n        // Internal: Calculates the number of days between the Unix epoch and the\n        // first day of the given month.\n        var getDay = function (year, month) {\n          return Months[month] + 365 * (year - 1970) + floor((year - 1969 + (month = +(month > 1))) / 4) - floor((year - 1901 + month) / 100) + floor((year - 1601 + month) / 400);\n        };\n      }\n\n      // Internal: Determines if a property is a direct property of the given\n      // object. Delegates to the native `Object#hasOwnProperty` method.\n      if (!(isProperty = objectProto.hasOwnProperty)) {\n        isProperty = function (property) {\n          var members = {}, constructor;\n          if ((members.__proto__ = null, members.__proto__ = {\n            // The *proto* property cannot be set multiple times in recent\n            // versions of Firefox and SeaMonkey.\n            \"toString\": 1\n          }, members).toString != getClass) {\n            // Safari <= 2.0.3 doesn't implement `Object#hasOwnProperty`, but\n            // supports the mutable *proto* property.\n            isProperty = function (property) {\n              // Capture and break the object's prototype chain (see section 8.6.2\n              // of the ES 5.1 spec). The parenthesized expression prevents an\n              // unsafe transformation by the Closure Compiler.\n              var original = this.__proto__, result = property in (this.__proto__ = null, this);\n              // Restore the original prototype chain.\n              this.__proto__ = original;\n              return result;\n            };\n          } else {\n            // Capture a reference to the top-level `Object` constructor.\n            constructor = members.constructor;\n            // Use the `constructor` property to simulate `Object#hasOwnProperty` in\n            // other environments.\n            isProperty = function (property) {\n              var parent = (this.constructor || constructor).prototype;\n              return property in this && !(property in parent && this[property] === parent[property]);\n            };\n          }\n          members = null;\n          return isProperty.call(this, property);\n        };\n      }\n\n      // Internal: Normalizes the `for...in` iteration algorithm across\n      // environments. Each enumerated key is yielded to a `callback` function.\n      forEach = function (object, callback) {\n        var size = 0, Properties, members, property;\n\n        // Tests for bugs in the current environment's `for...in` algorithm. The\n        // `valueOf` property inherits the non-enumerable flag from\n        // `Object.prototype` in older versions of IE, Netscape, and Mozilla.\n        (Properties = function () {\n          this.valueOf = 0;\n        }).prototype.valueOf = 0;\n\n        // Iterate over a new instance of the `Properties` class.\n        members = new Properties();\n        for (property in members) {\n          // Ignore all properties inherited from `Object.prototype`.\n          if (isProperty.call(members, property)) {\n            size++;\n          }\n        }\n        Properties = members = null;\n\n        // Normalize the iteration algorithm.\n        if (!size) {\n          // A list of non-enumerable properties inherited from `Object.prototype`.\n          members = [\"valueOf\", \"toString\", \"toLocaleString\", \"propertyIsEnumerable\", \"isPrototypeOf\", \"hasOwnProperty\", \"constructor\"];\n          // IE <= 8, Mozilla 1.0, and Netscape 6.2 ignore shadowed non-enumerable\n          // properties.\n          forEach = function (object, callback) {\n            var isFunction = getClass.call(object) == functionClass, property, length;\n            var hasProperty = !isFunction && typeof object.constructor != \"function\" && objectTypes[typeof object.hasOwnProperty] && object.hasOwnProperty || isProperty;\n            for (property in object) {\n              // Gecko <= 1.0 enumerates the `prototype` property of functions under\n              // certain conditions; IE does not.\n              if (!(isFunction && property == \"prototype\") && hasProperty.call(object, property)) {\n                callback(property);\n              }\n            }\n            // Manually invoke the callback for each non-enumerable property.\n            for (length = members.length; property = members[--length]; hasProperty.call(object, property) && callback(property));\n          };\n        } else if (size == 2) {\n          // Safari <= 2.0.4 enumerates shadowed properties twice.\n          forEach = function (object, callback) {\n            // Create a set of iterated properties.\n            var members = {}, isFunction = getClass.call(object) == functionClass, property;\n            for (property in object) {\n              // Store each property name to prevent double enumeration. The\n              // `prototype` property of functions is not enumerated due to cross-\n              // environment inconsistencies.\n              if (!(isFunction && property == \"prototype\") && !isProperty.call(members, property) && (members[property] = 1) && isProperty.call(object, property)) {\n                callback(property);\n              }\n            }\n          };\n        } else {\n          // No bugs detected; use the standard `for...in` algorithm.\n          forEach = function (object, callback) {\n            var isFunction = getClass.call(object) == functionClass, property, isConstructor;\n            for (property in object) {\n              if (!(isFunction && property == \"prototype\") && isProperty.call(object, property) && !(isConstructor = property === \"constructor\")) {\n                callback(property);\n              }\n            }\n            // Manually invoke the callback for the `constructor` property due to\n            // cross-environment inconsistencies.\n            if (isConstructor || isProperty.call(object, (property = \"constructor\"))) {\n              callback(property);\n            }\n          };\n        }\n        return forEach(object, callback);\n      };\n\n      // Public: Serializes a JavaScript `value` as a JSON string. The optional\n      // `filter` argument may specify either a function that alters how object and\n      // array members are serialized, or an array of strings and numbers that\n      // indicates which properties should be serialized. The optional `width`\n      // argument may be either a string or number that specifies the indentation\n      // level of the output.\n      if (!has(\"json-stringify\")) {\n        // Internal: A map of control characters and their escaped equivalents.\n        var Escapes = {\n          92: \"\\\\\\\\\",\n          34: '\\\\\"',\n          8: \"\\\\b\",\n          12: \"\\\\f\",\n          10: \"\\\\n\",\n          13: \"\\\\r\",\n          9: \"\\\\t\"\n        };\n\n        // Internal: Converts `value` into a zero-padded string such that its\n        // length is at least equal to `width`. The `width` must be <= 6.\n        var leadingZeroes = \"000000\";\n        var toPaddedString = function (width, value) {\n          // The `|| 0` expression is necessary to work around a bug in\n          // Opera <= 7.54u2 where `0 == -0`, but `String(-0) !== \"0\"`.\n          return (leadingZeroes + (value || 0)).slice(-width);\n        };\n\n        // Internal: Double-quotes a string `value`, replacing all ASCII control\n        // characters (characters with code unit values between 0 and 31) with\n        // their escaped equivalents. This is an implementation of the\n        // `Quote(value)` operation defined in ES 5.1 section 15.12.3.\n        var unicodePrefix = \"\\\\u00\";\n        var quote = function (value) {\n          var result = '\"', index = 0, length = value.length, useCharIndex = !charIndexBuggy || length > 10;\n          var symbols = useCharIndex && (charIndexBuggy ? value.split(\"\") : value);\n          for (; index < length; index++) {\n            var charCode = value.charCodeAt(index);\n            // If the character is a control character, append its Unicode or\n            // shorthand escape sequence; otherwise, append the character as-is.\n            switch (charCode) {\n              case 8: case 9: case 10: case 12: case 13: case 34: case 92:\n                result += Escapes[charCode];\n                break;\n              default:\n                if (charCode < 32) {\n                  result += unicodePrefix + toPaddedString(2, charCode.toString(16));\n                  break;\n                }\n                result += useCharIndex ? symbols[index] : value.charAt(index);\n            }\n          }\n          return result + '\"';\n        };\n\n        // Internal: Recursively serializes an object. Implements the\n        // `Str(key, holder)`, `JO(value)`, and `JA(value)` operations.\n        var serialize = function (property, object, callback, properties, whitespace, indentation, stack) {\n          var value, className, year, month, date, time, hours, minutes, seconds, milliseconds, results, element, index, length, prefix, result;\n          try {\n            // Necessary for host object support.\n            value = object[property];\n          } catch (exception) {}\n          if (typeof value == \"object\" && value) {\n            className = getClass.call(value);\n            if (className == dateClass && !isProperty.call(value, \"toJSON\")) {\n              if (value > -1 / 0 && value < 1 / 0) {\n                // Dates are serialized according to the `Date#toJSON` method\n                // specified in ES 5.1 section 15.9.5.44. See section 15.9.1.15\n                // for the ISO 8601 date time string format.\n                if (getDay) {\n                  // Manually compute the year, month, date, hours, minutes,\n                  // seconds, and milliseconds if the `getUTC*` methods are\n                  // buggy. Adapted from @Yaffle's `date-shim` project.\n                  date = floor(value / 864e5);\n                  for (year = floor(date / 365.2425) + 1970 - 1; getDay(year + 1, 0) <= date; year++);\n                  for (month = floor((date - getDay(year, 0)) / 30.42); getDay(year, month + 1) <= date; month++);\n                  date = 1 + date - getDay(year, month);\n                  // The `time` value specifies the time within the day (see ES\n                  // 5.1 section 15.9.1.2). The formula `(A % B + B) % B` is used\n                  // to compute `A modulo B`, as the `%` operator does not\n                  // correspond to the `modulo` operation for negative numbers.\n                  time = (value % 864e5 + 864e5) % 864e5;\n                  // The hours, minutes, seconds, and milliseconds are obtained by\n                  // decomposing the time within the day. See section 15.9.1.10.\n                  hours = floor(time / 36e5) % 24;\n                  minutes = floor(time / 6e4) % 60;\n                  seconds = floor(time / 1e3) % 60;\n                  milliseconds = time % 1e3;\n                } else {\n                  year = value.getUTCFullYear();\n                  month = value.getUTCMonth();\n                  date = value.getUTCDate();\n                  hours = value.getUTCHours();\n                  minutes = value.getUTCMinutes();\n                  seconds = value.getUTCSeconds();\n                  milliseconds = value.getUTCMilliseconds();\n                }\n                // Serialize extended years correctly.\n                value = (year <= 0 || year >= 1e4 ? (year < 0 ? \"-\" : \"+\") + toPaddedString(6, year < 0 ? -year : year) : toPaddedString(4, year)) +\n                  \"-\" + toPaddedString(2, month + 1) + \"-\" + toPaddedString(2, date) +\n                  // Months, dates, hours, minutes, and seconds should have two\n                  // digits; milliseconds should have three.\n                  \"T\" + toPaddedString(2, hours) + \":\" + toPaddedString(2, minutes) + \":\" + toPaddedString(2, seconds) +\n                  // Milliseconds are optional in ES 5.0, but required in 5.1.\n                  \".\" + toPaddedString(3, milliseconds) + \"Z\";\n              } else {\n                value = null;\n              }\n            } else if (typeof value.toJSON == \"function\" && ((className != numberClass && className != stringClass && className != arrayClass) || isProperty.call(value, \"toJSON\"))) {\n              // Prototype <= 1.6.1 adds non-standard `toJSON` methods to the\n              // `Number`, `String`, `Date`, and `Array` prototypes. JSON 3\n              // ignores all `toJSON` methods on these objects unless they are\n              // defined directly on an instance.\n              value = value.toJSON(property);\n            }\n          }\n          if (callback) {\n            // If a replacement function was provided, call it to obtain the value\n            // for serialization.\n            value = callback.call(object, property, value);\n          }\n          if (value === null) {\n            return \"null\";\n          }\n          className = getClass.call(value);\n          if (className == booleanClass) {\n            // Booleans are represented literally.\n            return \"\" + value;\n          } else if (className == numberClass) {\n            // JSON numbers must be finite. `Infinity` and `NaN` are serialized as\n            // `\"null\"`.\n            return value > -1 / 0 && value < 1 / 0 ? \"\" + value : \"null\";\n          } else if (className == stringClass) {\n            // Strings are double-quoted and escaped.\n            return quote(\"\" + value);\n          }\n          // Recursively serialize objects and arrays.\n          if (typeof value == \"object\") {\n            // Check for cyclic structures. This is a linear search; performance\n            // is inversely proportional to the number of unique nested objects.\n            for (length = stack.length; length--;) {\n              if (stack[length] === value) {\n                // Cyclic structures cannot be serialized by `JSON.stringify`.\n                throw TypeError();\n              }\n            }\n            // Add the object to the stack of traversed objects.\n            stack.push(value);\n            results = [];\n            // Save the current indentation level and indent one additional level.\n            prefix = indentation;\n            indentation += whitespace;\n            if (className == arrayClass) {\n              // Recursively serialize array elements.\n              for (index = 0, length = value.length; index < length; index++) {\n                element = serialize(index, value, callback, properties, whitespace, indentation, stack);\n                results.push(element === undef ? \"null\" : element);\n              }\n              result = results.length ? (whitespace ? \"[\\n\" + indentation + results.join(\",\\n\" + indentation) + \"\\n\" + prefix + \"]\" : (\"[\" + results.join(\",\") + \"]\")) : \"[]\";\n            } else {\n              // Recursively serialize object members. Members are selected from\n              // either a user-specified list of property names, or the object\n              // itself.\n              forEach(properties || value, function (property) {\n                var element = serialize(property, value, callback, properties, whitespace, indentation, stack);\n                if (element !== undef) {\n                  // According to ES 5.1 section 15.12.3: \"If `gap` {whitespace}\n                  // is not the empty string, let `member` {quote(property) + \":\"}\n                  // be the concatenation of `member` and the `space` character.\"\n                  // The \"`space` character\" refers to the literal space\n                  // character, not the `space` {width} argument provided to\n                  // `JSON.stringify`.\n                  results.push(quote(property) + \":\" + (whitespace ? \" \" : \"\") + element);\n                }\n              });\n              result = results.length ? (whitespace ? \"{\\n\" + indentation + results.join(\",\\n\" + indentation) + \"\\n\" + prefix + \"}\" : (\"{\" + results.join(\",\") + \"}\")) : \"{}\";\n            }\n            // Remove the object from the traversed object stack.\n            stack.pop();\n            return result;\n          }\n        };\n\n        // Public: `JSON.stringify`. See ES 5.1 section 15.12.3.\n        exports.stringify = function (source, filter, width) {\n          var whitespace, callback, properties, className;\n          if (objectTypes[typeof filter] && filter) {\n            if ((className = getClass.call(filter)) == functionClass) {\n              callback = filter;\n            } else if (className == arrayClass) {\n              // Convert the property names array into a makeshift set.\n              properties = {};\n              for (var index = 0, length = filter.length, value; index < length; value = filter[index++], ((className = getClass.call(value)), className == stringClass || className == numberClass) && (properties[value] = 1));\n            }\n          }\n          if (width) {\n            if ((className = getClass.call(width)) == numberClass) {\n              // Convert the `width` to an integer and create a string containing\n              // `width` number of space characters.\n              if ((width -= width % 1) > 0) {\n                for (whitespace = \"\", width > 10 && (width = 10); whitespace.length < width; whitespace += \" \");\n              }\n            } else if (className == stringClass) {\n              whitespace = width.length <= 10 ? width : width.slice(0, 10);\n            }\n          }\n          // Opera <= 7.54u2 discards the values associated with empty string keys\n          // (`\"\"`) only if they are used directly within an object member list\n          // (e.g., `!(\"\" in { \"\": 1})`).\n          return serialize(\"\", (value = {}, value[\"\"] = source, value), callback, properties, whitespace, \"\", []);\n        };\n      }\n\n      // Public: Parses a JSON source string.\n      if (!has(\"json-parse\")) {\n        var fromCharCode = String.fromCharCode;\n\n        // Internal: A map of escaped control characters and their unescaped\n        // equivalents.\n        var Unescapes = {\n          92: \"\\\\\",\n          34: '\"',\n          47: \"/\",\n          98: \"\\b\",\n          116: \"\\t\",\n          110: \"\\n\",\n          102: \"\\f\",\n          114: \"\\r\"\n        };\n\n        // Internal: Stores the parser state.\n        var Index, Source;\n\n        // Internal: Resets the parser state and throws a `SyntaxError`.\n        var abort = function () {\n          Index = Source = null;\n          throw SyntaxError();\n        };\n\n        // Internal: Returns the next token, or `\"$\"` if the parser has reached\n        // the end of the source string. A token may be a string, number, `null`\n        // literal, or Boolean literal.\n        var lex = function () {\n          var source = Source, length = source.length, value, begin, position, isSigned, charCode;\n          while (Index < length) {\n            charCode = source.charCodeAt(Index);\n            switch (charCode) {\n              case 9: case 10: case 13: case 32:\n                // Skip whitespace tokens, including tabs, carriage returns, line\n                // feeds, and space characters.\n                Index++;\n                break;\n              case 123: case 125: case 91: case 93: case 58: case 44:\n                // Parse a punctuator token (`{`, `}`, `[`, `]`, `:`, or `,`) at\n                // the current position.\n                value = charIndexBuggy ? source.charAt(Index) : source[Index];\n                Index++;\n                return value;\n              case 34:\n                // `\"` delimits a JSON string; advance to the next character and\n                // begin parsing the string. String tokens are prefixed with the\n                // sentinel `@` character to distinguish them from punctuators and\n                // end-of-string tokens.\n                for (value = \"@\", Index++; Index < length;) {\n                  charCode = source.charCodeAt(Index);\n                  if (charCode < 32) {\n                    // Unescaped ASCII control characters (those with a code unit\n                    // less than the space character) are not permitted.\n                    abort();\n                  } else if (charCode == 92) {\n                    // A reverse solidus (`\\`) marks the beginning of an escaped\n                    // control character (including `\"`, `\\`, and `/`) or Unicode\n                    // escape sequence.\n                    charCode = source.charCodeAt(++Index);\n                    switch (charCode) {\n                      case 92: case 34: case 47: case 98: case 116: case 110: case 102: case 114:\n                        // Revive escaped control characters.\n                        value += Unescapes[charCode];\n                        Index++;\n                        break;\n                      case 117:\n                        // `\\u` marks the beginning of a Unicode escape sequence.\n                        // Advance to the first character and validate the\n                        // four-digit code point.\n                        begin = ++Index;\n                        for (position = Index + 4; Index < position; Index++) {\n                          charCode = source.charCodeAt(Index);\n                          // A valid sequence comprises four hexdigits (case-\n                          // insensitive) that form a single hexadecimal value.\n                          if (!(charCode >= 48 && charCode <= 57 || charCode >= 97 && charCode <= 102 || charCode >= 65 && charCode <= 70)) {\n                            // Invalid Unicode escape sequence.\n                            abort();\n                          }\n                        }\n                        // Revive the escaped character.\n                        value += fromCharCode(\"0x\" + source.slice(begin, Index));\n                        break;\n                      default:\n                        // Invalid escape sequence.\n                        abort();\n                    }\n                  } else {\n                    if (charCode == 34) {\n                      // An unescaped double-quote character marks the end of the\n                      // string.\n                      break;\n                    }\n                    charCode = source.charCodeAt(Index);\n                    begin = Index;\n                    // Optimize for the common case where a string is valid.\n                    while (charCode >= 32 && charCode != 92 && charCode != 34) {\n                      charCode = source.charCodeAt(++Index);\n                    }\n                    // Append the string as-is.\n                    value += source.slice(begin, Index);\n                  }\n                }\n                if (source.charCodeAt(Index) == 34) {\n                  // Advance to the next character and return the revived string.\n                  Index++;\n                  return value;\n                }\n                // Unterminated string.\n                abort();\n              default:\n                // Parse numbers and literals.\n                begin = Index;\n                // Advance past the negative sign, if one is specified.\n                if (charCode == 45) {\n                  isSigned = true;\n                  charCode = source.charCodeAt(++Index);\n                }\n                // Parse an integer or floating-point value.\n                if (charCode >= 48 && charCode <= 57) {\n                  // Leading zeroes are interpreted as octal literals.\n                  if (charCode == 48 && ((charCode = source.charCodeAt(Index + 1)), charCode >= 48 && charCode <= 57)) {\n                    // Illegal octal literal.\n                    abort();\n                  }\n                  isSigned = false;\n                  // Parse the integer component.\n                  for (; Index < length && ((charCode = source.charCodeAt(Index)), charCode >= 48 && charCode <= 57); Index++);\n                  // Floats cannot contain a leading decimal point; however, this\n                  // case is already accounted for by the parser.\n                  if (source.charCodeAt(Index) == 46) {\n                    position = ++Index;\n                    // Parse the decimal component.\n                    for (; position < length && ((charCode = source.charCodeAt(position)), charCode >= 48 && charCode <= 57); position++);\n                    if (position == Index) {\n                      // Illegal trailing decimal.\n                      abort();\n                    }\n                    Index = position;\n                  }\n                  // Parse exponents. The `e` denoting the exponent is\n                  // case-insensitive.\n                  charCode = source.charCodeAt(Index);\n                  if (charCode == 101 || charCode == 69) {\n                    charCode = source.charCodeAt(++Index);\n                    // Skip past the sign following the exponent, if one is\n                    // specified.\n                    if (charCode == 43 || charCode == 45) {\n                      Index++;\n                    }\n                    // Parse the exponential component.\n                    for (position = Index; position < length && ((charCode = source.charCodeAt(position)), charCode >= 48 && charCode <= 57); position++);\n                    if (position == Index) {\n                      // Illegal empty exponent.\n                      abort();\n                    }\n                    Index = position;\n                  }\n                  // Coerce the parsed value to a JavaScript number.\n                  return +source.slice(begin, Index);\n                }\n                // A negative sign may only precede numbers.\n                if (isSigned) {\n                  abort();\n                }\n                // `true`, `false`, and `null` literals.\n                if (source.slice(Index, Index + 4) == \"true\") {\n                  Index += 4;\n                  return true;\n                } else if (source.slice(Index, Index + 5) == \"false\") {\n                  Index += 5;\n                  return false;\n                } else if (source.slice(Index, Index + 4) == \"null\") {\n                  Index += 4;\n                  return null;\n                }\n                // Unrecognized token.\n                abort();\n            }\n          }\n          // Return the sentinel `$` character if the parser has reached the end\n          // of the source string.\n          return \"$\";\n        };\n\n        // Internal: Parses a JSON `value` token.\n        var get = function (value) {\n          var results, hasMembers;\n          if (value == \"$\") {\n            // Unexpected end of input.\n            abort();\n          }\n          if (typeof value == \"string\") {\n            if ((charIndexBuggy ? value.charAt(0) : value[0]) == \"@\") {\n              // Remove the sentinel `@` character.\n              return value.slice(1);\n            }\n            // Parse object and array literals.\n            if (value == \"[\") {\n              // Parses a JSON array, returning a new JavaScript array.\n              results = [];\n              for (;; hasMembers || (hasMembers = true)) {\n                value = lex();\n                // A closing square bracket marks the end of the array literal.\n                if (value == \"]\") {\n                  break;\n                }\n                // If the array literal contains elements, the current token\n                // should be a comma separating the previous element from the\n                // next.\n                if (hasMembers) {\n                  if (value == \",\") {\n                    value = lex();\n                    if (value == \"]\") {\n                      // Unexpected trailing `,` in array literal.\n                      abort();\n                    }\n                  } else {\n                    // A `,` must separate each array element.\n                    abort();\n                  }\n                }\n                // Elisions and leading commas are not permitted.\n                if (value == \",\") {\n                  abort();\n                }\n                results.push(get(value));\n              }\n              return results;\n            } else if (value == \"{\") {\n              // Parses a JSON object, returning a new JavaScript object.\n              results = {};\n              for (;; hasMembers || (hasMembers = true)) {\n                value = lex();\n                // A closing curly brace marks the end of the object literal.\n                if (value == \"}\") {\n                  break;\n                }\n                // If the object literal contains members, the current token\n                // should be a comma separator.\n                if (hasMembers) {\n                  if (value == \",\") {\n                    value = lex();\n                    if (value == \"}\") {\n                      // Unexpected trailing `,` in object literal.\n                      abort();\n                    }\n                  } else {\n                    // A `,` must separate each object member.\n                    abort();\n                  }\n                }\n                // Leading commas are not permitted, object property names must be\n                // double-quoted strings, and a `:` must separate each property\n                // name and value.\n                if (value == \",\" || typeof value != \"string\" || (charIndexBuggy ? value.charAt(0) : value[0]) != \"@\" || lex() != \":\") {\n                  abort();\n                }\n                results[value.slice(1)] = get(lex());\n              }\n              return results;\n            }\n            // Unexpected token encountered.\n            abort();\n          }\n          return value;\n        };\n\n        // Internal: Updates a traversed object member.\n        var update = function (source, property, callback) {\n          var element = walk(source, property, callback);\n          if (element === undef) {\n            delete source[property];\n          } else {\n            source[property] = element;\n          }\n        };\n\n        // Internal: Recursively traverses a parsed JSON object, invoking the\n        // `callback` function for each value. This is an implementation of the\n        // `Walk(holder, name)` operation defined in ES 5.1 section 15.12.2.\n        var walk = function (source, property, callback) {\n          var value = source[property], length;\n          if (typeof value == \"object\" && value) {\n            // `forEach` can't be used to traverse an array in Opera <= 8.54\n            // because its `Object#hasOwnProperty` implementation returns `false`\n            // for array indices (e.g., `![1, 2, 3].hasOwnProperty(\"0\")`).\n            if (getClass.call(value) == arrayClass) {\n              for (length = value.length; length--;) {\n                update(value, length, callback);\n              }\n            } else {\n              forEach(value, function (property) {\n                update(value, property, callback);\n              });\n            }\n          }\n          return callback.call(source, property, value);\n        };\n\n        // Public: `JSON.parse`. See ES 5.1 section 15.12.2.\n        exports.parse = function (source, callback) {\n          var result, value;\n          Index = 0;\n          Source = \"\" + source;\n          result = get(lex());\n          // If a JSON string contains multiple tokens, it is invalid.\n          if (lex() != \"$\") {\n            abort();\n          }\n          // Reset the parser state.\n          Index = Source = null;\n          return callback && getClass.call(callback) == functionClass ? walk((value = {}, value[\"\"] = result, value), \"\", callback) : result;\n        };\n      }\n    }\n\n    exports[\"runInContext\"] = runInContext;\n    return exports;\n  }\n\n  if (freeExports && !isLoader) {\n    // Export for CommonJS environments.\n    runInContext(root, freeExports);\n  } else {\n    // Export for web browsers and JavaScript engines.\n    var nativeJSON = root.JSON,\n        previousJSON = root[\"JSON3\"],\n        isRestored = false;\n\n    var JSON3 = runInContext(root, (root[\"JSON3\"] = {\n      // Public: Restores the original value of the global `JSON` object and\n      // returns a reference to the `JSON3` object.\n      \"noConflict\": function () {\n        if (!isRestored) {\n          isRestored = true;\n          root.JSON = nativeJSON;\n          root[\"JSON3\"] = previousJSON;\n          nativeJSON = previousJSON = null;\n        }\n        return JSON3;\n      }\n    }));\n\n    root.JSON = {\n      \"parse\": JSON3.parse,\n      \"stringify\": JSON3.stringify\n    };\n  }\n\n  // Export for asynchronous module loaders.\n  if (isLoader) {\n    define(function () {\n      return JSON3;\n    });\n  }\n}).call(this);\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n},{}],51:[function(_dereq_,module,exports){\nmodule.exports = toArray\n\nfunction toArray(list, index) {\n    var array = []\n\n    index = index || 0\n\n    for (var i = index || 0; i < list.length; i++) {\n        array[i - index] = list[i]\n    }\n\n    return array\n}\n\n},{}]},{},[31])(31)\n});\n","/* Web Font Loader v1.6.20 - (c) Adobe Systems, Google. License: Apache 2.0 */\n(function(){function aa(a,b,c){return a.call.apply(a.bind,arguments)}function ba(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function p(a,b,c){p=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf(\"native code\")?aa:ba;return p.apply(null,arguments)}var q=Date.now||function(){return+new Date};function ca(a,b){this.a=a;this.m=b||a;this.c=this.m.document}var da=!!window.FontFace;function t(a,b,c,d){b=a.c.createElement(b);if(c)for(var e in c)c.hasOwnProperty(e)&&(\"style\"==e?b.style.cssText=c[e]:b.setAttribute(e,c[e]));d&&b.appendChild(a.c.createTextNode(d));return b}function u(a,b,c){a=a.c.getElementsByTagName(b)[0];a||(a=document.documentElement);a.insertBefore(c,a.lastChild)}function v(a){a.parentNode&&a.parentNode.removeChild(a)}\nfunction w(a,b,c){b=b||[];c=c||[];for(var d=a.className.split(/\\s+/),e=0;e<b.length;e+=1){for(var f=!1,g=0;g<d.length;g+=1)if(b[e]===d[g]){f=!0;break}f||d.push(b[e])}b=[];for(e=0;e<d.length;e+=1){f=!1;for(g=0;g<c.length;g+=1)if(d[e]===c[g]){f=!0;break}f||b.push(d[e])}a.className=b.join(\" \").replace(/\\s+/g,\" \").replace(/^\\s+|\\s+$/,\"\")}function y(a,b){for(var c=a.className.split(/\\s+/),d=0,e=c.length;d<e;d++)if(c[d]==b)return!0;return!1}\nfunction z(a){if(\"string\"===typeof a.f)return a.f;var b=a.m.location.protocol;\"about:\"==b&&(b=a.a.location.protocol);return\"https:\"==b?\"https:\":\"http:\"}function ea(a){return a.m.location.hostname||a.a.location.hostname}\nfunction A(a,b,c){function d(){k&&e&&f&&(k(g),k=null)}b=t(a,\"link\",{rel:\"stylesheet\",href:b,media:\"all\"});var e=!1,f=!0,g=null,k=c||null;da?(b.onload=function(){e=!0;d()},b.onerror=function(){e=!0;g=Error(\"Stylesheet failed to load\");d()}):setTimeout(function(){e=!0;d()},0);u(a,\"head\",b)}\nfunction B(a,b,c,d){var e=a.c.getElementsByTagName(\"head\")[0];if(e){var f=t(a,\"script\",{src:b}),g=!1;f.onload=f.onreadystatechange=function(){g||this.readyState&&\"loaded\"!=this.readyState&&\"complete\"!=this.readyState||(g=!0,c&&c(null),f.onload=f.onreadystatechange=null,\"HEAD\"==f.parentNode.tagName&&e.removeChild(f))};e.appendChild(f);setTimeout(function(){g||(g=!0,c&&c(Error(\"Script load timeout\")))},d||5E3);return f}return null};function C(){this.a=0;this.c=null}function D(a){a.a++;return function(){a.a--;E(a)}}function F(a,b){a.c=b;E(a)}function E(a){0==a.a&&a.c&&(a.c(),a.c=null)};function G(a){this.a=a||\"-\"}G.prototype.c=function(a){for(var b=[],c=0;c<arguments.length;c++)b.push(arguments[c].replace(/[\\W_]+/g,\"\").toLowerCase());return b.join(this.a)};function H(a,b){this.c=a;this.f=4;this.a=\"n\";var c=(b||\"n4\").match(/^([nio])([1-9])$/i);c&&(this.a=c[1],this.f=parseInt(c[2],10))}function fa(a){return I(a)+\" \"+(a.f+\"00\")+\" 300px \"+J(a.c)}function J(a){var b=[];a=a.split(/,\\s*/);for(var c=0;c<a.length;c++){var d=a[c].replace(/['\"]/g,\"\");-1!=d.indexOf(\" \")||/^\\d/.test(d)?b.push(\"'\"+d+\"'\"):b.push(d)}return b.join(\",\")}function K(a){return a.a+a.f}function I(a){var b=\"normal\";\"o\"===a.a?b=\"oblique\":\"i\"===a.a&&(b=\"italic\");return b}\nfunction ga(a){var b=4,c=\"n\",d=null;a&&((d=a.match(/(normal|oblique|italic)/i))&&d[1]&&(c=d[1].substr(0,1).toLowerCase()),(d=a.match(/([1-9]00|normal|bold)/i))&&d[1]&&(/bold/i.test(d[1])?b=7:/[1-9]00/.test(d[1])&&(b=parseInt(d[1].substr(0,1),10))));return c+b};function ha(a,b){this.c=a;this.f=a.m.document.documentElement;this.h=b;this.a=new G(\"-\");this.j=!1!==b.events;this.g=!1!==b.classes}function ia(a){a.g&&w(a.f,[a.a.c(\"wf\",\"loading\")]);L(a,\"loading\")}function M(a){if(a.g){var b=y(a.f,a.a.c(\"wf\",\"active\")),c=[],d=[a.a.c(\"wf\",\"loading\")];b||c.push(a.a.c(\"wf\",\"inactive\"));w(a.f,c,d)}L(a,\"inactive\")}function L(a,b,c){if(a.j&&a.h[b])if(c)a.h[b](c.c,K(c));else a.h[b]()};function ja(){this.c={}}function ka(a,b,c){var d=[],e;for(e in b)if(b.hasOwnProperty(e)){var f=a.c[e];f&&d.push(f(b[e],c))}return d};function N(a,b){this.c=a;this.f=b;this.a=t(this.c,\"span\",{\"aria-hidden\":\"true\"},this.f)}function O(a){u(a.c,\"body\",a.a)}function P(a){return\"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:\"+J(a.c)+\";\"+(\"font-style:\"+I(a)+\";font-weight:\"+(a.f+\"00\")+\";\")};function Q(a,b,c,d,e,f){this.g=a;this.f=b;this.a=d;this.c=c;this.j=e||3E3;this.h=f||void 0}Q.prototype.start=function(){function a(){q()-d>=c.j?c.f(c.a):b.fonts.load(fa(c.a),c.h).then(function(b){1<=b.length?c.g(c.a):setTimeout(a,25)},function(){c.f(c.a)})}var b=this.c.m.document,c=this,d=q();a()};function R(a,b,c,d,e,f,g){this.v=a;this.B=b;this.c=c;this.a=d;this.s=g||\"BESbswy\";this.f={};this.w=e||3E3;this.u=f||null;this.o=this.j=this.h=this.g=null;this.g=new N(this.c,this.s);this.h=new N(this.c,this.s);this.j=new N(this.c,this.s);this.o=new N(this.c,this.s);a=new H(this.a.c+\",serif\",K(this.a));a=P(a);this.g.a.style.cssText=a;a=new H(this.a.c+\",sans-serif\",K(this.a));a=P(a);this.h.a.style.cssText=a;a=new H(\"serif\",K(this.a));a=P(a);this.j.a.style.cssText=a;a=new H(\"sans-serif\",K(this.a));a=\nP(a);this.o.a.style.cssText=a;O(this.g);O(this.h);O(this.j);O(this.o)}var S={D:\"serif\",C:\"sans-serif\"},T=null;function U(){if(null===T){var a=/AppleWebKit\\/([0-9]+)(?:\\.([0-9]+))/.exec(window.navigator.userAgent);T=!!a&&(536>parseInt(a[1],10)||536===parseInt(a[1],10)&&11>=parseInt(a[2],10))}return T}R.prototype.start=function(){this.f.serif=this.j.a.offsetWidth;this.f[\"sans-serif\"]=this.o.a.offsetWidth;this.A=q();la(this)};\nfunction ma(a,b,c){for(var d in S)if(S.hasOwnProperty(d)&&b===a.f[S[d]]&&c===a.f[S[d]])return!0;return!1}function la(a){var b=a.g.a.offsetWidth,c=a.h.a.offsetWidth,d;(d=b===a.f.serif&&c===a.f[\"sans-serif\"])||(d=U()&&ma(a,b,c));d?q()-a.A>=a.w?U()&&ma(a,b,c)&&(null===a.u||a.u.hasOwnProperty(a.a.c))?V(a,a.v):V(a,a.B):na(a):V(a,a.v)}function na(a){setTimeout(p(function(){la(this)},a),50)}function V(a,b){setTimeout(p(function(){v(this.g.a);v(this.h.a);v(this.j.a);v(this.o.a);b(this.a)},a),0)};function W(a,b,c){this.c=a;this.a=b;this.f=0;this.o=this.j=!1;this.s=c}var X=null;W.prototype.g=function(a){var b=this.a;b.g&&w(b.f,[b.a.c(\"wf\",a.c,K(a).toString(),\"active\")],[b.a.c(\"wf\",a.c,K(a).toString(),\"loading\"),b.a.c(\"wf\",a.c,K(a).toString(),\"inactive\")]);L(b,\"fontactive\",a);this.o=!0;oa(this)};\nW.prototype.h=function(a){var b=this.a;if(b.g){var c=y(b.f,b.a.c(\"wf\",a.c,K(a).toString(),\"active\")),d=[],e=[b.a.c(\"wf\",a.c,K(a).toString(),\"loading\")];c||d.push(b.a.c(\"wf\",a.c,K(a).toString(),\"inactive\"));w(b.f,d,e)}L(b,\"fontinactive\",a);oa(this)};function oa(a){0==--a.f&&a.j&&(a.o?(a=a.a,a.g&&w(a.f,[a.a.c(\"wf\",\"active\")],[a.a.c(\"wf\",\"loading\"),a.a.c(\"wf\",\"inactive\")]),L(a,\"active\")):M(a.a))};function pa(a){this.j=a;this.a=new ja;this.h=0;this.f=this.g=!0}pa.prototype.load=function(a){this.c=new ca(this.j,a.context||this.j);this.g=!1!==a.events;this.f=!1!==a.classes;qa(this,new ha(this.c,a),a)};\nfunction ra(a,b,c,d,e){var f=0==--a.h;(a.f||a.g)&&setTimeout(function(){var a=e||null,k=d||null||{};if(0===c.length&&f)M(b.a);else{b.f+=c.length;f&&(b.j=f);var h,m=[];for(h=0;h<c.length;h++){var l=c[h],n=k[l.c],r=b.a,x=l;r.g&&w(r.f,[r.a.c(\"wf\",x.c,K(x).toString(),\"loading\")]);L(r,\"fontloading\",x);r=null;null===X&&(X=window.FontFace?(x=/Gecko.*Firefox\\/(\\d+)/.exec(window.navigator.userAgent))?42<parseInt(x[1],10):!0:!1);X?r=new Q(p(b.g,b),p(b.h,b),b.c,l,b.s,n):r=new R(p(b.g,b),p(b.h,b),b.c,l,b.s,a,\nn);m.push(r)}for(h=0;h<m.length;h++)m[h].start()}},0)}function qa(a,b,c){var d=[],e=c.timeout;ia(b);var d=ka(a.a,c,a.c),f=new W(a.c,b,e);a.h=d.length;b=0;for(c=d.length;b<c;b++)d[b].load(function(b,c,d){ra(a,f,b,c,d)})};function sa(a,b){this.c=a;this.a=b}function ta(a,b,c){var d=z(a.c);a=(a.a.api||\"fast.fonts.net/jsapi\").replace(/^.*http(s?):(\\/\\/)?/,\"\");return d+\"//\"+a+\"/\"+b+\".js\"+(c?\"?v=\"+c:\"\")}\nsa.prototype.load=function(a){function b(){if(e[\"__mti_fntLst\"+c]){var d=e[\"__mti_fntLst\"+c](),g=[],k;if(d)for(var h=0;h<d.length;h++){var m=d[h].fontfamily;void 0!=d[h].fontStyle&&void 0!=d[h].fontWeight?(k=d[h].fontStyle+d[h].fontWeight,g.push(new H(m,k))):g.push(new H(m))}a(g)}else setTimeout(function(){b()},50)}var c=this.a.projectId,d=this.a.version;if(c){var e=this.c.m;B(this.c,ta(this,c,d),function(d){d?a([]):b()}).id=\"__MonotypeAPIScript__\"+c}else a([])};function ua(a,b){this.c=a;this.a=b}ua.prototype.load=function(a){var b,c,d=this.a.urls||[],e=this.a.families||[],f=this.a.testStrings||{},g=new C;b=0;for(c=d.length;b<c;b++)A(this.c,d[b],D(g));var k=[];b=0;for(c=e.length;b<c;b++)if(d=e[b].split(\":\"),d[1])for(var h=d[1].split(\",\"),m=0;m<h.length;m+=1)k.push(new H(d[0],h[m]));else k.push(new H(d[0]));F(g,function(){a(k,f)})};function va(a,b,c){a?this.c=a:this.c=b+wa;this.a=[];this.f=[];this.g=c||\"\"}var wa=\"//fonts.googleapis.com/css\";function xa(a,b){for(var c=b.length,d=0;d<c;d++){var e=b[d].split(\":\");3==e.length&&a.f.push(e.pop());var f=\"\";2==e.length&&\"\"!=e[1]&&(f=\":\");a.a.push(e.join(f))}}\nfunction ya(a){if(0==a.a.length)throw Error(\"No fonts to load!\");if(-1!=a.c.indexOf(\"kit=\"))return a.c;for(var b=a.a.length,c=[],d=0;d<b;d++)c.push(a.a[d].replace(/ /g,\"+\"));b=a.c+\"?family=\"+c.join(\"%7C\");0<a.f.length&&(b+=\"&subset=\"+a.f.join(\",\"));0<a.g.length&&(b+=\"&text=\"+encodeURIComponent(a.g));return b};function za(a){this.f=a;this.a=[];this.c={}}\nvar Aa={latin:\"BESbswy\",cyrillic:\"&#1081;&#1103;&#1046;\",greek:\"&#945;&#946;&#931;\",khmer:\"&#x1780;&#x1781;&#x1782;\",Hanuman:\"&#x1780;&#x1781;&#x1782;\"},Ba={thin:\"1\",extralight:\"2\",\"extra-light\":\"2\",ultralight:\"2\",\"ultra-light\":\"2\",light:\"3\",regular:\"4\",book:\"4\",medium:\"5\",\"semi-bold\":\"6\",semibold:\"6\",\"demi-bold\":\"6\",demibold:\"6\",bold:\"7\",\"extra-bold\":\"8\",extrabold:\"8\",\"ultra-bold\":\"8\",ultrabold:\"8\",black:\"9\",heavy:\"9\",l:\"3\",r:\"4\",b:\"7\"},Ca={i:\"i\",italic:\"i\",n:\"n\",normal:\"n\"},Da=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;\nfunction Ea(a){for(var b=a.f.length,c=0;c<b;c++){var d=a.f[c].split(\":\"),e=d[0].replace(/\\+/g,\" \"),f=[\"n4\"];if(2<=d.length){var g;var k=d[1];g=[];if(k)for(var k=k.split(\",\"),h=k.length,m=0;m<h;m++){var l;l=k[m];if(l.match(/^[\\w-]+$/)){var n=Da.exec(l.toLowerCase());if(null==n)l=\"\";else{l=n[2];l=null==l||\"\"==l?\"n\":Ca[l];n=n[1];if(null==n||\"\"==n)n=\"4\";else var r=Ba[n],n=r?r:isNaN(n)?\"4\":n.substr(0,1);l=[l,n].join(\"\")}}else l=\"\";l&&g.push(l)}0<g.length&&(f=g);3==d.length&&(d=d[2],g=[],d=d?d.split(\",\"):\ng,0<d.length&&(d=Aa[d[0]])&&(a.c[e]=d))}a.c[e]||(d=Aa[e])&&(a.c[e]=d);for(d=0;d<f.length;d+=1)a.a.push(new H(e,f[d]))}};function Fa(a,b){this.c=a;this.a=b}var Ga={Arimo:!0,Cousine:!0,Tinos:!0};Fa.prototype.load=function(a){var b=new C,c=this.c,d=new va(this.a.api,z(c),this.a.text),e=this.a.families;xa(d,e);var f=new za(e);Ea(f);A(c,ya(d),D(b));F(b,function(){a(f.a,f.c,Ga)})};function Ha(a,b){this.c=a;this.a=b}Ha.prototype.load=function(a){var b=this.a.id,c=this.c.m;b?B(this.c,(this.a.api||\"https://use.typekit.net\")+\"/\"+b+\".js\",function(b){if(b)a([]);else if(c.Typekit&&c.Typekit.config&&c.Typekit.config.fn){b=c.Typekit.config.fn;for(var e=[],f=0;f<b.length;f+=2)for(var g=b[f],k=b[f+1],h=0;h<k.length;h++)e.push(new H(g,k[h]));try{c.Typekit.load({events:!1,classes:!1,async:!0})}catch(m){}a(e)}},2E3):a([])};function Ia(a,b){this.c=a;this.f=b;this.a=[]}Ia.prototype.load=function(a){var b=this.f.id,c=this.c.m,d=this;b?(c.__webfontfontdeckmodule__||(c.__webfontfontdeckmodule__={}),c.__webfontfontdeckmodule__[b]=function(b,c){for(var g=0,k=c.fonts.length;g<k;++g){var h=c.fonts[g];d.a.push(new H(h.name,ga(\"font-weight:\"+h.weight+\";font-style:\"+h.style)))}a(d.a)},B(this.c,z(this.c)+(this.f.api||\"//f.fontdeck.com/s/css/js/\")+ea(this.c)+\"/\"+b+\".js\",function(b){b&&a([])})):a([])};var Y=new pa(window);Y.a.c.custom=function(a,b){return new ua(b,a)};Y.a.c.fontdeck=function(a,b){return new Ia(b,a)};Y.a.c.monotype=function(a,b){return new sa(b,a)};Y.a.c.typekit=function(a,b){return new Ha(b,a)};Y.a.c.google=function(a,b){return new Fa(b,a)};var Z={load:p(Y.load,Y)};\"function\"===typeof define&&define.amd?define(function(){return Z}):\"undefined\"!==typeof module&&module.exports?module.exports=Z:(window.WebFont=Z,window.WebFontConfig&&Y.load(window.WebFontConfig));}());\n\n","import PrefLoader from \"./Components/PrefLoader\";\r\nimport Authentication from \"./Components/Authentication\";\r\nimport Localization from \"./Components/Localization\";\r\nimport Boot from \"./States/Boot\";\r\nimport Connecting from \"./States/Connecting\";\r\nimport MainMenu from \"./States/MainMenu\";\r\nimport Options from \"./States/Options\";\r\nimport Play from \"./States/Play\";\r\n\r\nexport default class Backgamon extends Phaser.Game {\r\n    constructor() {\r\n        super(1280, 720, Phaser.AUTO, \"\", null, false, true);\r\n        this.muted = false;\r\n\r\n        this.l10ns = {};\r\n        this.languages = [\"en\", \"ar\"];\r\n        this.strings = [];\r\n\r\n        this.prefs = new PrefLoader();\r\n        this.muted = this.prefs.get(\"muted\", false);\r\n        //this.name = this.prefs[\"name\"];\r\n\r\n        this.state.add(\"Boot\", Boot, true);\r\n        this.state.add(\"MainMenu\", MainMenu);\r\n        this.state.add(\"Options\", Options);\r\n        this.state.add(\"Play\", Play);\r\n        this.state.add(\"Connecting\", Connecting);\r\n    }\r\n\r\n    toggleFullscreen() {\r\n        if (this.scale.isFullScreen) this.scale.stopFullScreen();\r\n        else this.scale.startFullScreen(false);\r\n    }\r\n}\r\n\r\nBackgamon.guidesX = [177, 259, 341, 424, 506, 588, 692, 774, 865, 938, 1020, 1102];\r\nBackgamon.guidesY = [685, 30];\r\nBackgamon.columnWidth = 81;\r\nBackgamon.maxColumnHeight = 265;\r\nBackgamon.pieceDefaultScale = Backgamon.columnWidth / 238;\r\nBackgamon.pieceHeight = Backgamon.pieceDefaultScale * 238;\r\n","export default class Authentication {\r\n    constructor(game) {\r\n        this.game = game;\r\n        this.name = (Math.random() * 1000).toString();\r\n        this.password = \"\";\r\n    }\r\n\r\n    setRemote(socket) {\r\n        this.socket = socket;\r\n        socket.emit(\"auth\", this.name, this.password);\r\n        socket.on(\"auth.acc\", this.authAccepted);\r\n    }\r\n\r\n    authAccepted(sessionID) {\r\n        this.sid = sessionID;\r\n    }\r\n}\r\n","import Backgamon from \"../Backgamon\";\r\nimport Piece, {PieceGlow} from\"./Piece\";\r\n\r\nexport default class Column {\r\n    constructor(game, location, side) {\r\n        this.game = game;\r\n        this.location = location;\r\n        this.group = this.game.add.group();\r\n\r\n        if (side == \"black\") {\r\n            this.dir = 1;\r\n            this.x = this.location % 12;\r\n            if (this.location < 12) {\r\n                this.dir = -1;\r\n                this.x = 11 - this.x;\r\n            }\r\n            this.x = Backgamon.guidesX[this.x];\r\n            this.y = Backgamon.guidesY[Math.floor(this.location / 12)];\r\n        } else {\r\n            this.dir = -1;\r\n            this.x = this.location % 12;\r\n            if (this.location >= 12) {\r\n                this.dir = 1;\r\n                this.x = 11 - this.x;\r\n            }\r\n            this.x = Backgamon.guidesX[this.x];\r\n            this.y = Backgamon.guidesY[Math.floor(this.location / 12)];\r\n        }\r\n        this.label = this.game.add.text(this.x, this.y, \"\", this.game.l10n.styles.default.button);\r\n        this.label.visible = false;\r\n        this.label.anchor.set(0.5);\r\n        this.label.setShadow(3, 3, 'rgba(0,0,0,0.5)', 0);\r\n    }\r\n\r\n    getPieceHeight(length) {\r\n        return Math.min(Backgamon.maxColumnHeight / length, Backgamon.pieceHeight);\r\n    }\r\n\r\n    reorderY(length) {\r\n        if (!length) length = this.group.length;\r\n        else if (length < 1) length = this.group.length + length;\r\n        var pieceHeight = this.getPieceHeight(length);\r\n\r\n        for (let i = 0; i < this.group.length; i++) {\r\n            var piece = (this.group.getAt(i));\r\n            var tween = this.game.add.tween(piece);\r\n            tween.to({ \"y\": this.y + (pieceHeight * i * this.dir) }, 200);\r\n            tween.start();\r\n        }\r\n\r\n        if (length > 4) {\r\n            this.label.visible = true;\r\n            this.label.y = this.y + (pieceHeight * (length - 1) * this.dir);\r\n            this.label.text = length.toString();\r\n        } else this.label.visible = false;\r\n    }\r\n\r\n    place(color, length) {\r\n        if (!length) length = 1;\r\n        var pieceHeight = this.getPieceHeight(this.group.length + length);\r\n\r\n        for (let i = 0; i < length; i++) {\r\n            var piece = new Piece(this.game, color, this.x, this.y + (pieceHeight * i * this.dir));\r\n            piece.alpha = 0;\r\n            var tween = this.game.add.tween(piece);\r\n            tween.to({ \"alpha\": 1 }, 200);\r\n            tween.start();\r\n            this.group.add(piece);\r\n        }\r\n        this.reorderY();\r\n    }\r\n\r\n    take(length) {\r\n        if (!length) length = 1;\r\n\r\n        if (this.group.length - length < 0) {\r\n            console.error(\"Taking more than is available on column\", this.location);\r\n            return;\r\n        }\r\n\r\n        for (let i = 0; i < length; i++) {\r\n            this.group.removeBetween(this.group.length - length, this.group.length - 1);\r\n        }\r\n\r\n        this.reorderY();\r\n    }\r\n\r\n    moveTo(other) {\r\n        if (!this.group.length) {\r\n            console.error(\"Moving more than is available on column\", this.location);\r\n            return;\r\n        }\r\n\r\n        this.hidePossibleMove();\r\n        other.hidePossibleMove();\r\n\r\n        var piece = this.group.getTop();\r\n        other.reorderY(other.group.length + 1);\r\n        this.group.remove(piece);\r\n        other.group.add(piece);\r\n\r\n        var tween = this.game.add.tween(piece);\r\n        tween.to({ \"x\": other.x, \"y\": other.y + (other.getPieceHeight(other.group.length) * other.dir * (other.group.length - 1)) }, 200);\r\n        tween.start();\r\n        this.reorderY();\r\n    }\r\n\r\n    showPossibleMove(inside, callback, callbackContext, group) {\r\n        if (this.glow) this.hidePossibleMove();\r\n        this.glow = new PieceGlow(this.game, this.x, this.y + (this.getPieceHeight(this.group.length) * (inside ? this.group.length - 1 : this.group.length) * this.dir), callback, callbackContext, group);\r\n        if (inside) this.group.getTop().grow();\r\n    }\r\n\r\n    hidePossibleMove() {\r\n        if (this.group.length) this.group.getTop().shrink();\r\n\r\n        if (this.glow) {\r\n            this.glow.destroy();\r\n            this.glow = null;\r\n        }\r\n    }\r\n}\r\n","export default class Dice {\r\n    constructor(game, x, y) {\r\n        this.sprite = game.add.sprite(x, y, \"dice\", 0);\r\n        this.sprite.visible = false;\r\n        this.sprite.anchor.set(0.5);\r\n        this.y = y;\r\n        \r\n        this.sprite.animations.add(\"roll\", null, 10, true);\r\n    }\r\n\r\n    roll(direction, value, callback, callbackContext) {\r\n        // direction is 1 or -1. 1 means the dice rolls from the bottom up. -1 mean top down.\r\n        this.sprite.visible = true;\r\n        this.sprite.y = 360 + 424 * direction;\r\n        this.sprite.scale.set(1.5);\r\n\r\n        // Do th rolling effect.\r\n        // The rolling effect consists of three parts: the movement, rotations, sprite \"animation\", and scaling.\r\n        // Scaling is done in 3 parts.\r\n        var tweenPos = this.sprite.game.add.tween(this.sprite);\r\n        tweenPos.to({ \"y\": this.y }, 1000);\r\n        tweenPos.start();\r\n        var tweenRot = this.sprite.game.add.tween(this.sprite);\r\n        tweenRot.to({ \"angle\": (Math.floor(Math.random() * 2) ? -1 : 1) * 359 }, Math.random() * 300 + 500, null, false, 0, Infinity);\r\n        tweenRot.start();\r\n        var tweenScale = this.sprite.game.add.tween(this.sprite.scale);\r\n        tweenScale.to({ \"x\": 1, \"y\": 1 }, 300, Phaser.Easing.Cubic.Out);\r\n        tweenScale.onComplete.add(function () {\r\n            var tweenScale2 = this.sprite.game.add.tween(this.sprite.scale);\r\n            tweenScale2.to({ \"x\": 1.2, \"y\": 1.2 }, 300, Phaser.Easing.Cubic.InOut);\r\n            tweenScale2.onComplete.add(function () {\r\n                var tweenScale3 = this.sprite.game.add.tween(this.sprite.scale);\r\n                tweenScale3.to({ \"x\": 1, \"y\": 1 }, 400, Phaser.Easing.Cubic.Out);\r\n                tweenScale3.onComplete.add(function () {\r\n                    this.sprite.animations.stop();\r\n                    this.sprite.frame = this.value - 1;\r\n                    tweenRot.stop();\r\n                    if (callback)\r\n                        callback.apply(callbackContext);\r\n                }, this);\r\n                tweenScale3.start();\r\n            }, this);\r\n            tweenScale2.start();\r\n        }, this);\r\n        tweenScale.start();\r\n\r\n        this.sprite.animations.play(\"roll\");\r\n\r\n        this.value = value;\r\n    }\r\n}\r\n","export default class Localization {\r\n    constructor(name, game) {\r\n        this.game = game;\r\n        this.code = name;\r\n        game.load.json(\"lang-\" + name, \"assets/Languages/\" + name + \".json\");\r\n    }\r\n\r\n    load() {\r\n        var lFile = this.game.cache.getJSON(\"lang-\" + this.code);\r\n        this.name = lFile.name;\r\n        this.font = lFile.font;\r\n        this.strings = lFile.strings;\r\n        this.styles = { \"default\": {\r\n                \"title\": { font: \"bold 60pt Nunito\", fill: \"rgb(231, 231, 231)\", align: \"center\" },\r\n                \"button\": { font: \"bold 37pt Nunito\", fill: \"rgb(231, 231, 231)\", align: \"center\" },\r\n                \"text\": { font: \"bold 30pt Nunito\", fill: \"rgb(231, 231, 231)\", align: \"center\" },\r\n            },\r\n            \"local\": {\r\n                \"title\": { font: \"bold 60pt \" + this.font, fill: \"rgb(231, 231, 231)\", align: \"center\" },\r\n                \"button\": { font: \"bold 37pt \" + this.font, fill: \"rgb(231, 231, 231)\", align: \"center\" },\r\n                \"text\": { font: \"bold 30pt \" + this.font, fill: \"rgb(231, 231, 231)\", align: \"center\" },\r\n            } };\r\n    }\r\n}\r\n","import Backgamon from \"../Backgamon\";\r\n\r\nexport default class Piece extends Phaser.Sprite {\r\n    constructor(game, color, x, y) {\r\n        super(game, x, y, \"piece\", (color == \"black\") ? 0 : 1);\r\n        game.add.existing(this);\r\n        this.anchor.set(0.5);\r\n        this.scale.set(Backgamon.pieceDefaultScale);\r\n        this.color = color;\r\n        this.events.onInputUp.add(function () {\r\n            console.log(\"clicked\");\r\n        }, this);\r\n    }\r\n\r\n    grow() {\r\n        var tween = this.game.add.tween(this.scale);\r\n        tween.to({ \"x\": Backgamon.pieceDefaultScale * 1.1, \"y\": Backgamon.pieceDefaultScale * 1.1 }, 200);\r\n        tween.start();\r\n    }\r\n\r\n    shrink() {\r\n        var tween = this.game.add.tween(this.scale);\r\n        tween.to({ \"x\": Backgamon.pieceDefaultScale, \"y\": Backgamon.pieceDefaultScale }, 200);\r\n        tween.start();\r\n    }\r\n}\r\n\r\nexport class PieceGlow extends Phaser.Sprite {\r\n    constructor(game, x, y, callback, callbackContext, group) {\r\n        super(game, x, y, \"piece-glow\");\r\n        if (group) group.add(this);\r\n        else game.add.existing(this);\r\n        this.anchor.set(0.5);\r\n        this.scale.set(Backgamon.pieceDefaultScale);\r\n\r\n        if (callback) this.events.onInputUp.add(function () {\r\n            callback.apply(callbackContext);\r\n        }, this);\r\n\r\n        this.inputEnabled = true;\r\n        this.input.useHandCursor = true;\r\n\r\n\t\t// Add a \"bouncy\" effect.\r\n        this.scale.set(Backgamon.pieceDefaultScale * 1.1);\r\n        var tween = this.game.add.tween(this.scale);\r\n        tween.to({ \"x\": Backgamon.pieceDefaultScale * 1.15, \"y\": Backgamon.pieceDefaultScale * 1.15 }, 500, \"Sine.easeInOut\", true, 0, -1, true);\r\n        tween.start();\r\n    }\r\n}\r\n","export default class PrefLoader {\r\n    constructor() {\r\n    }\r\n\r\n    set(key, value) {\r\n        localStorage[key] = JSON.stringify(value);\r\n    }\r\n\r\n    get(key, defaultValue) {\r\n        var data = localStorage[key];\r\n        if (data) return JSON.parse(data);\r\n        else return (defaultValue === undefined)? PrefLoader.defaults[key] :defaultValue;\r\n    }\r\n}\r\n\r\nPrefLoader.defaults = { \"language\": \"ar\", \"sound\": true };\r\n","export default class TextButton {\r\n    constructor(game, key, x, y, text, fontStyle, onClick, callbackContext, group) {\r\n        this.onClick_ = onClick;\r\n        if (group) this.button_ = group.add(new Phaser.Button(game, x, y, key, null, this, 1, 1, 0, 1));\r\n        else this.button_ = game.add.button(x, y, key, null, this, 1, 1, 0, 1);\r\n\r\n        this.button_.events.onInputOut.add(function() {\r\n            this.text_.y = this.origY;\r\n        }, this);\r\n        this.button_.events.onInputDown.add(function() {\r\n            this.text_.y = this.origY+6;\r\n        }, this);\r\n        this.button_.events.onInputUp.add(function(sprite, pointer, isOver) {\r\n            this.text_.y = this.origY;\r\n            game.add.audio(\"beep\").play();\r\n            if (isOver) this.onClick_.apply(callbackContext);\r\n        }, this);\r\n\r\n        this.button_.anchor.set(0.5);\r\n\r\n        this.origY = y-15;\r\n        if (group) this.text_ = group.add(new Phaser.Text(game, x, this.origY, text, fontStyle));\r\n        else this.text_ = game.add.text(x, this.origY, text, fontStyle);\r\n        this.text_.anchor.set(0.5);\r\n\r\n        this.text_.setShadow(3, 3, 'rgba(0,0,0,0.5)', 0);\r\n    }\r\n\r\n    hide() {\r\n        this.text_.visible = false;\r\n        this.button_.visible = false;\r\n        this.button_.inputEnabled = false;\r\n    }\r\n\r\n    show() {\r\n        this.text_.visible = true;\r\n        this.button_.visible = true;\r\n        this.button_.inputEnabled = true;\r\n        this.button_.input.useHandCursor = true;\r\n    }\r\n}\r\n","import Localization from \"../Components/Localization\";\r\n\r\nexport default class Boot extends Phaser.State {\r\n    constructor(game) {\r\n        super();\r\n        this.game = game;\r\n    }\r\n\r\n    preload() {\r\n        for (let i = 0; i < this.game.languages.length; i++) {\r\n            this.game.l10ns[this.game.languages[i]] = new Localization(this.game.languages[i], this.game);\r\n        }\r\n        this.game.load.spritesheet(\"button\", \"assets/UI/button.png\", 328, 134);\r\n        this.game.load.spritesheet(\"controls\", \"assets/UI/controls.png\", 244, 244);\r\n        this.game.load.audio(\"beep\", \"assets/Sounds/beep.wav\");\r\n    }\r\n\r\n    fileComplete(progress) {\r\n        this.progress.text = progress + \"%\";\r\n    }\r\n\r\n    create() {\r\n        for (let key in this.game.l10ns) {\r\n            this.game.l10ns[key].load();\r\n        }\r\n\r\n        this.game.l10n = this.game.l10ns[this.game.prefs.get(\"language\")];\r\n        this.game.strings = this.game.l10n.strings;\r\n\r\n        //this.game.scale.scaleMode = Phaser.ScaleManager.SHOW_ALL;\r\n        this.game.scale.fullScreenScaleMode = Phaser.ScaleManager.SHOW_ALL;\r\n        this.progress = this.game.add.text(this.game.world.centerX, this.game.world.centerY - 30, \"0%\", { fill: 'white' });\r\n        this.progress.anchor.setTo(0.5, 0.5);\r\n\r\n\t\t//var progressBar = this.game.add.sprite(this.game.world.centerX, this.game.world.centerY, \"progress-bar\");\r\n\t\t//progressBar.anchor.setTo(0.5, 0.5);\r\n\t\t//this.game.load.setPreloadSprite(progressBar);\r\n\r\n        this.game.load.onFileComplete.add(this.fileComplete, this);\r\n        this.game.state.start(\"Connecting\");\r\n    }\r\n\r\n    render() {\r\n    }\r\n}\r\n","import io from \"socket.io-client_\";\r\nimport Authentication from \"../Components/Authentication\";\r\nimport TextButton from \"../Components/TextButton\";\r\n\r\nexport default class Connecting extends Phaser.State {\r\n    constructor(game) {\r\n        super();\r\n        this.game = game;\r\n    }\r\n\r\n    create() {\r\n\t\tthis.group = new Phaser.Group(this.game);\r\n\t\tthis.game.stage.backgroundColor = \"#947c66\";\r\n\t\tvar text = new Phaser.Text(this.game, this.game.world.centerX, this.game.world.centerY, this.game.strings[\"Contacting Server\"], this.game.l10n.styles.local.text);\r\n\t\tthis.group.add(text);\r\n\t\ttext.anchor.set(0.5);\r\n\t\ttext.setShadow(2, 2, 'rgba(0,0,0,0.5)', 0);\r\n\r\n\t\tthis.connected = false;\r\n\t\tvar self = this;\r\n\r\n\t\tvar socket = io(\"//localhost:8088\");\r\n\t\tsocket.on(\"welcome\", function () {\r\n\t\t\tself.succeeded(socket);\r\n\t\t});\r\n\r\n\t\tsetTimeout(function () {\r\n\t\t\tif (!self.connected) {\r\n\t\t\t\tsocket.disconnect();\r\n\t\t\t\tself.failed();\r\n\t\t\t}\r\n\t\t}, 2000);\r\n    }\r\n\r\n    failed() {\r\n\t\tthis.group.removeAll();\r\n\t\tvar text = new Phaser.Text(this.game, this.game.world.centerX, this.game.world.centerY-50, this.game.strings[\"Contacting Failed\"], this.game.l10n.styles.local.text);\r\n\t\tthis.group.add(text);\r\n\t\ttext.anchor.set(0.5);\r\n\t\ttext.setShadow(2, 2, 'rgba(0,0,0,0.5)', 0);\r\n\t\ttext.wordWrap = true;\r\n\t\ttext.wordWrapWidth = 1200;\r\n\r\n\t\tvar OKButton = new TextButton(this.game, \"button\", this.game.world.centerX, this.game.world.centerY+100, this.game.strings[\"OK\"], this.game.l10n.styles.local.button, function () {\r\n\t\t\tthis.game.state.start(\"MainMenu\");\r\n\t\t}, this, this.group);\r\n    }\r\n\r\n    succeeded(socket) {\r\n        if (!this.connected) {\r\n            this.connected = true;\r\n            this.game.auth = new Authentication(this.game);\r\n            this.game.state.start(\"MainMenu\");\r\n        }\r\n        this.game.auth.setRemote(socket);\r\n    }\r\n}\r\n","import TextButton from \"../Components/TextButton\";\r\n\r\nexport default class MainMenu extends Phaser.State {\r\n    constructor(game) {\r\n        super();\r\n        this.game = game;\r\n        var self = this;\r\n    }\r\n\r\n    preload() {\r\n        this.game.load.spritesheet(\"button\", \"assets/UI/button.png\", 328, 134);\r\n    }\r\n\r\n    create() {\r\n\t\tthis.game.stage.backgroundColor = \"#947c66\";\r\n\r\n\t\tvar titleText = this.game.add.text(this.game.world.centerX, 50, this.game.strings[\"Backgamon\"], this.game.l10n.styles.local.title);\r\n\t\ttitleText.anchor.x = 0.5;\r\n\t\ttitleText.setShadow(3, 5, 'rgba(0,0,0,0.5)', 0);\r\n\r\n\t\tvar playButton = new TextButton(this.game, \"button\", this.game.world.centerX, 280, this.game.strings[\"Play\"], this.game.l10n.styles.local.button, function () { this.game.state.start(\"Play\"); }, this);\r\n\t\tvar fullscreenButton = new TextButton(this.game, \"button\", this.game.world.centerX, 430, this.game.strings[\"Fullscreen\"], this.game.l10n.styles.local.button, function () { this.game.toggleFullscreen(); }, this);\r\n\t\tvar soundButton = new TextButton(this.game, \"button\", this.game.world.centerX, 580, this.game.strings[\"Sound\"]+\": \"+(!this.game.muted? this.game.strings[\"ON\"]: this.game.strings[\"OFF\"]), this.game.l10n.styles.local.button, function () {\r\n\t\t\tthis.game.sound.volume = this.game.muted? 1: 0;\r\n\t\t\tsoundButton.text_.setText(this.game.strings[\"Sound\"]+\": \"+(this.game.muted? this.game.strings[\"ON\"]: this.game.strings[\"OFF\"]));\r\n\t\t\tthis.game.muted = !this.game.muted;\r\n\t\t\tthis.game.prefs.set(\"muted\", this.game.muted);\r\n\t\t}, this);\r\n\t\t// var musicButton = new TextButton(this.game, \"button\", this.game.world.centerX+170, 580, this.game.l10n[\"Music\"]+\": \"+this.game.l10n[\"On\"], this.game.buttonFontStyle, function () {  }, this);\r\n\t\t// musicButton.text_.scale.set(0.9);\r\n\t\t//new TextButton(this.game, \"button\", this.game.world.centerX, 591, \"Quit\", Backgamon.buttonFontStyle, function () { console.log(\"quit clicked\"); });\r\n    }\r\n\r\n    render() {\r\n\t\t//this.game.debug.text(this.game.time.fps.toString() || \"--\", 2, 14, \"#00ff00\");\r\n    }\r\n}\r\n","import TextButton from \"../Components/TextButton\";\r\n\r\nexport default class Options extends Phaser.State {\r\n    constructor(game_) {\r\n        super();\r\n        this.game = game_;\r\n    }\r\n\r\n    preload() {\r\n    }\r\n\r\n    create() {\r\n        this.game.stage.backgroundColor = \"#947c66\";\r\n\r\n        new TextButton(this.game, \"button\", this.game.world.centerX, 437, \"Back\", this.game.l10n.styles.local.button, function () { this.game.state.start(\"MainMenu\"); }, this);\r\n    }\r\n\r\n    render() {\r\n    }\r\n}\r\n","import TextButton from \"../Components/TextButton\";\r\nimport Column from \"../Components/Column\";\r\nimport Dice from \"../Components/Dice\";\r\n\r\nexport default class Play extends Phaser.State {\r\n    constructor(game) {\r\n        super();\r\n        this.game = game;\r\n        this.side = \"black\";\r\n    }\r\n\r\n    preload() {\r\n        this.game.load.image(\"board\", \"assets/Game/board.png\");\r\n        this.game.load.spritesheet(\"piece\", \"assets/Game/piece.png\", 238, 238, 2, 0, 24);\r\n        this.game.load.image(\"piece-glow\", \"assets/Game/piece-glow.png\");\r\n        this.game.load.spritesheet(\"dice\", \"assets/Game/dice.png\", 64, 64);\r\n        this.game.load.audio(\"roll\", \"assets/Sounds/roll.mp3\");\r\n        this.game.load.audio(\"stack\", \"assets/Sounds/stack.wav\");\r\n\t\t//this.game.load.shader(\"bacteria\", \"assets/Shaders/bacteria.frag\");\r\n    }\r\n\r\n    create() {\r\n\t\tthis.game.stage.backgroundColor = \"#947c66\";\r\n\r\n\t\tvar board = this.game.add.image(this.game.world.centerX, this.game.world.centerY, \"board\");\r\n\t\tboard.anchor.set(0.5);\r\n\t\tboard.scale.set(720.0/561.0);\r\n\r\n\t\tthis.columns = [];\r\n\t\tfor (let i = 0; i < 24; i++) {\r\n\t\t\tthis.columns.push(new Column(this.game, i, this.side));\r\n\t\t}\r\n\t\tthis.columns[0].place(this.side, 15);\r\n\t\tthis.columns[23].place(this.side==\"black\"? \"white\": \"black\", 15);\r\n\r\n\t\tthis.dice1 = new Dice(this.game, 360, 360);\r\n\t\tthis.dice2 = new Dice(this.game, 920, 360);\r\n\r\n\t\tthis.rollButton = new TextButton(this.game, \"button\", this.game.world.centerX, this.game.world.centerY, this.game.strings[\"Roll\"], this.game.l10n.styles.local.button, function () {\r\n\t\t\tthis.rollDice(false);\r\n\t\t\tthis.rollButton.hide();\r\n\t\t}, this);\r\n\r\n\t\tthis.glowies = this.game.add.group();\r\n\r\n\t\tthis.createPauseMenu();\r\n\r\n\t\tthis.pauseButton = this.game.add.button(1200, 60, \"controls\", function () {\r\n\t\t\tthis.togglePauseMenu();\r\n\t\t}, this);\r\n\t\tthis.pauseButton.freezeFrames = true;\r\n\t\tthis.pauseButton.frame = 5;\r\n\t\tthis.pauseButton.anchor.set(0.5);\r\n\t\tthis.pauseButton.scale.set(0.45);\r\n\r\n\t    //this.glowFilter = new Phaser.Filter(this.game, null, this.game.cache.getShader(\"bacteria\"));\r\n    \t//(<any>this.glowFilter).addToWorld(0, 0, 1280, 720);\r\n\t\t//this.game.add.existing(this.glowFilter);\r\n    }\r\n\r\n    showMoves(d1, d2) {\r\n        for (let i = 0; i < 24; i++) {\r\n            if (!(d1 === 0 && d2 === 0) && this.columns[i].group.length && this.columns[i].group.getTop().color == this.side) this.columns[i].showPossibleMove(true, function () {\r\n                    this.selected = this.columns[i];\r\n                    this.setMoves(d1, d2, this.columns[i].location);\r\n            }, this, this.glowies);\r\n            else this.columns[i].hidePossibleMove();\r\n        }\r\n    }\r\n\r\n    setMoves(d1, d2, location) {\r\n        for (let i = 0; i < 24; i++) {\r\n            if ((d1 && i == location + d1) || (d2 && i == location + d2)) this.columns[i].showPossibleMove(false, function () {\r\n                    this.selected.moveTo(this.columns[i]);\r\n                    setTimeout(function (self) {\r\n                        self.game.add.audio(\"stack\").play();\r\n                    }, 200, this);\r\n                    this.selected = null;\r\n                    if (d2 == 0)\r\n                        this.nextTurn();\r\n                    else {\r\n                        var dx = d1;\r\n                        if (i == location + d1)\r\n                            dx = d2;\r\n                        this.showMoves(dx, 0);\r\n                    }\r\n            }, this, this.glowies);\r\n            else this.columns[i].hidePossibleMove();\r\n        }\r\n    }\r\n\r\n    nextTurn() {\r\n        this.rollButton.show();\r\n    }\r\n\r\n    rollDice(otherPlayer) {\r\n        var d1 = Math.floor(Math.random() * 5) + 1;\r\n        var d2 = Math.floor(Math.random() * 5) + 1;\r\n        this.dice1.roll(otherPlayer ? -1 : 1, d1);\r\n        var self = this;\r\n        this.dice2.roll(otherPlayer ? -1 : 1, d2, function () {\r\n            this.showMoves(d1, d2);\r\n        }, this);\r\n        setTimeout(function (self) {\r\n            self.game.add.audio(\"roll\").play();\r\n        }, 800, this);\r\n    }\r\n\r\n    createPauseMenu() {\r\n        this.pauseMenu = this.game.add.group();\r\n        this.pauseMenu.visible = false;\r\n\r\n        var width = 1280;\r\n        var height = 720;\r\n        var bmd = this.game.add.bitmapData(width, height);\r\n\r\n        bmd.ctx.beginPath();\r\n        bmd.ctx.rect(0, 0, width, height);\r\n        bmd.ctx.fillStyle = '#000000';\r\n        bmd.ctx.fill();\r\n\r\n        var overlay = new Phaser.Sprite(this.game, 0, 0, bmd);\r\n        overlay.alpha = 0.5;\r\n        overlay.inputEnabled = true;\r\n        this.pauseMenu.add(overlay);\r\n\r\n        var resumeButton = new TextButton(this.game, \"button\", this.game.world.centerX, this.game.world.centerY - 225, this.game.strings[\"Resume\"], this.game.l10n.styles.local.button, function () {\r\n            this.togglePauseMenu();\r\n        }, this, this.pauseMenu);\r\n\r\n        var soundButton = new TextButton(this.game, \"button\", this.game.world.centerX, this.game.world.centerY - 75, this.game.strings[\"Sound\"] + \": \" + (!this.game.muted ? this.game.strings[\"ON\"] : this.game.strings[\"OFF\"]), this.game.l10n.styles.local.button, function () {\r\n            this.game.sound.volume = this.game.muted ? 1 : 0;\r\n            soundButton.text_.setText(this.game.strings[\"Sound\"] + \": \" + (this.game.muted ? this.game.strings[\"ON\"] : this.game.strings[\"OFF\"]));\r\n            this.game.muted = !this.game.muted;\r\n            this.game.prefs.set(\"muted\", this.game.muted);\r\n        }, this, this.pauseMenu);\r\n\r\n\t\t/*var musicButton = new TextButton(this.game, \"button\", this.game.world.centerX, this.game.world.centerY-75, \"Music: ON\", this.game.buttonFontStyle, function () {\r\n\t\t}, this, this.pauseMenu);*/\r\n\r\n        var fullscreenButton = new TextButton(this.game, \"button\", this.game.world.centerX, this.game.world.centerY + 75, this.game.strings[\"Fullscreen\"], this.game.l10n.styles.local.button, function () {\r\n            this.game.toggleFullscreen();\r\n        }, this, this.pauseMenu);\r\n\r\n        var quitButton = new TextButton(this.game, \"button\", this.game.world.centerX, this.game.world.centerY + 225, this.game.strings[\"Quit\"], this.game.l10n.styles.local.button, function () {\r\n            this.endGame();\r\n        }, this, this.pauseMenu);\r\n    }\r\n\r\n    togglePauseMenu() {\r\n        this.pauseMenu.visible = !this.pauseMenu.visible;\r\n        if (this.pauseMenu.visible) {\r\n            this.pauseButton.frame = 6;\r\n        } else {\r\n            this.pauseButton.frame = 5;\r\n        }\r\n    }\r\n\r\n    endGame() {\r\n        this.game.state.start(\"MainMenu\");\r\n    }\r\n\r\n    render() {\r\n\t\t//this.game.debug.text(this.game.input.x+\" \"+this.game.input.y, 2, 14, \"#00ff00\");\r\n\t\t//1192 45\r\n    }\r\n\r\n    update() {\r\n\t    //this.glowFilter.update();\r\n    }\r\n}\r\n","import WebFont from \"webfontloader\";\r\nimport Backgamon from \"./_game/Backgamon\";\r\n\r\nWebFont.load({\r\n    google: { families: [\"Nunito:700\"] },\r\n    active: function () {\r\n        var backgamon = new Backgamon();\r\n    }\r\n});\r\n\r\n// const smt = \"asdasd\";\r\n// let x = `smt = ${smt}`;\r\n// console.log(x);\r\n"],"sourceRoot":"/source/"}